#php #laravel #collections

> ÐšÐ¾Ð»Ð»ÐµÐºÑ†Ð¸Ñ Ð² laravel - Ð¾Ð±ÐµÑ€Ñ‚ÐºÐ° Ð´Ð»Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ Ñ Ð¼Ð°ÑÑÐ¸Ð²Ð°Ð¼Ð¸

- https://badcode.ru/15-mietodov-pri-rabotie-s-kolliektsiiami-laravel/aravel.su/docs/5.2/collections

#### ðŸ”¹ ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð½Ð° Ð´ÑƒÐ±Ð»Ð¸ÐºÐ°Ñ‚Ñ‹

```php
// Ð¸Ð·Ð²Ð»ÐµÐºÐ°ÐµÑ‚ Ð²ÑÐµ Ð¿Ð¾Ð²Ñ‚Ð¾Ñ€ÑÑŽÑ‰Ð¸ÐµÑÑ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ Ð¾ÑÑ‚Ð°Ð²Ð»ÑÑ Ð¾Ñ€Ð¸Ð³Ð¸Ð½Ð°Ð»ÑŒÐ½Ñ‹Ð¹ ÐºÐ»ÑŽÑ‡Ð¸

duplicates();

$collection = collect(['james', 'lisa', 'ryan', 'james', 'brad', 'lisa']);
$collection->duplicates(); // [3 => 'james', 5 => 'lisa'];

```
---
#### ðŸ”¹ ÐŸÐµÑ€ÐµÐ±Ð¾Ñ€ Ð´Ð°Ð½Ð½Ñ‹Ñ…

```php
$collection->each(function ($item, $key) {
    // Ð Ð°Ð±Ð¾Ñ‚Ð°ÐµÐ¼ Ñ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ð¾Ð¼
});
```
---
#### ðŸ”¹ ÐœÐµÑ‚Ð¾Ð´ Has()

> ÐœÐµÑ‚Ð¾Ð´ `has` Ð¼Ð¾Ð¶Ð½Ð¾ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ Ð´Ð»Ñ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸ Ð½Ð°Ð»Ð¸Ñ‡Ð¸Ñ ÐºÐ»ÑŽÑ‡Ð° Ð² ÐºÐ¾Ð»Ð»ÐµÐºÑ†Ð¸Ð¸. Ð’Ñ‹ Ð¼Ð¾Ð¶ÐµÑ‚Ðµ Ð¿ÐµÑ€ÐµÐ´Ð°Ñ‚ÑŒ ÑÑ‚Ñ€Ð¾ÐºÑƒ Ð¸Ð»Ð¸ Ð¼Ð°ÑÑÐ¸Ð² Ð² ÐºÐ°Ñ‡ÐµÑÑ‚Ð²Ðµ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ð°, ÐµÑÐ»Ð¸ Ð¼Ð°ÑÑÐ¸Ð² Ð¿ÐµÑ€ÐµÐ´Ð°ÐµÑ‚ÑÑ ÐºÐ°Ðº Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€, Ð²ÑÐµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ ÑÑ‚Ð¾Ð³Ð¾ Ð¼Ð°ÑÑÐ¸Ð²Ð° Ð´Ð¾Ð»Ð¶Ð½Ñ‹ ÑÑƒÑ‰ÐµÑÑ‚Ð²Ð¾Ð²Ð°Ñ‚ÑŒ ÐºÐ°Ðº ÐºÐ»ÑŽÑ‡Ð¸ Ð² ÐºÐ¾Ð»Ð»ÐµÐºÑ†Ð¸Ð¸.

```php
$collection = collect([
  'title' => 'Harry Potter', 
  'author' => 'J.K. Rowling', 
  'price' => 25
  ]);
$collection->has('author'); // true
$collection->has(['title', 'price']); // true
$collection->has(['price', 'rating']); // false
```
---
#### ðŸ”¹ ÐœÐµÑ‚Ð¾Ð´ Implode()

ÐœÐµÑ‚Ð¾Ð´ `implode` Ð¿Ð¾Ð·Ð²Ð¾Ð»ÑÐµÑ‚ Ð¾Ð±ÑŠÐµÐ´Ð¸Ð½ÑÑ‚ÑŒ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ñ‹ ÐºÐ¾Ð»Ð»ÐµÐºÑ†Ð¸Ð¸. Ð­Ñ‚Ð¾ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ñ‚Ð¾Ñ‡Ð½Ð¾ Ñ‚Ð°Ðº Ð¶Ðµ, ÐºÐ°Ðº Ð¸ PHP-ÑˆÐ½Ð°Ñ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ñ `implode`.

```php
$collection = collect([
    ['title' => 'Gift card', 'price' => 50],
    ['title' => 'Chair', 'price' => 80],
]);
$collection->implode('title', ', ');  // Gift card, Chair

# Ð•ÑÐ»Ð¸ ÐºÐ¾Ð»Ð»ÐµÐºÑ†Ð¸Ñ ÑÐ¾Ð´ÐµÑ€Ð¶Ð¸Ñ‚ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ ÑÑ‚Ñ€Ð¾ÐºÐ¸ Ð¸Ð»Ð¸ Ñ‡Ð¸ÑÐ»Ð°, Ð²Ð°Ð¼ Ð½ÑƒÐ¶Ð½Ð¾ Ð¿ÐµÑ€ÐµÐ´Ð°Ñ‚ÑŒ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚ glue.

$collection = collect([1,2,'foo',3,'bar']);
$collection->implode('-');
```
---
#### ðŸ”¹ Ð”Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ/ÑƒÐ´Ð°Ð»ÐµÐ½Ð¸Ðµ

> Ð”Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ð° Ð² ÐºÐ¾Ð½ÐµÑ† ÐºÐ¾Ð»Ð»ÐµÐºÑ†Ð¸Ð¸ Ð¼Ð¾Ð¶ÐµÑ‚ Ð±Ñ‹Ñ‚ÑŒ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¾ Ñ Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒÑŽ Ð¼ÐµÑ‚Ð¾Ð´Ð° `push`. Ð•ÑÐ»Ð¸ Ð²Ñ‹ Ñ…Ð¾Ñ‚Ð¸Ñ‚Ðµ Ð´Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚ Ð² Ð½Ð°Ñ‡Ð°Ð»Ð¾ ÐºÐ¾Ð»Ð»ÐµÐºÑ†Ð¸Ð¸.

```php
$collection = collect([1, 2, 3]);
$collection->push(4);
$collection->all(); // [1, 2, 3, 4]

# ÐœÐµÑ‚Ð¾Ð´ pull ÑƒÐ´Ð°Ð»ÑÐµÑ‚ Ð¸ Ð²Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÐµÑ‚ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚ Ð¸Ð· ÐºÐ¾Ð»Ð»ÐµÐºÑ†Ð¸Ð¸ Ð¿Ð¾ ÐµÐ³Ð¾ ÐºÐ»ÑŽÑ‡Ñƒ.

$collection = collect([
    'title' => 'Harry Potter',
    'author' => 'J.K. Rowling',
    'price' => 25
]);
$collection->pull('author'); // 'J.K. Rowling'
$collection->all(); // ['title' => 'Harry Potter', 'price' => 25]

```
---
#### ðŸ”¹ ÐœÐµÑ‚Ð¾Ð´ Shuffle()

```php
# Ð¿ÐµÑ€ÐµÐ¼ÐµÑˆÐ¸Ð²Ð°ÐµÑ‚ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ñ‹ ÐºÐ¾Ð»Ð»ÐµÐºÑ†Ð¸Ð¸ Ð² Ð¿Ñ€Ð¾Ð¸Ð·Ð²Ð¾Ð»ÑŒÐ½Ð¾Ð¼ Ð¿Ð¾Ñ€ÑÐ´ÐºÐµ

$collection = collect([1, 2, 3]);
$shuffled = $collection->shuffle();
$shuffled->all(); // [3, 1, 2] (random example)
```
---

#### ðŸ”¹ ÐœÐµÑ‚Ð¾Ð´ Max()

> Ð’Ñ‹ Ð¼Ð¾Ð¶ÐµÑ‚Ðµ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ Ð¼Ð°ÐºÑÐ¸Ð¼Ð°Ð»ÑŒÐ½Ð¾Ðµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ Ð¸Ð· ÐºÐ¾Ð»Ð»ÐµÐºÑ†Ð¸Ð¸, Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÑ Ð¼ÐµÑ‚Ð¾Ð´ `max`. Ð•ÑÐ»Ð¸ ÐºÐ¾Ð»Ð»ÐµÐºÑ†Ð¸Ñ ÑÐ¾Ð´ÐµÑ€Ð¶Ð¸Ñ‚ Ð¼Ð°ÑÑÐ¸Ð²Ñ‹, Ð²Ñ‹ Ð¼Ð¾Ð¶ÐµÑ‚Ðµ Ð¿ÐµÑ€ÐµÐ´Ð°Ñ‚ÑŒ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ Ð¼Ð°ÐºÑÐ¸Ð¼Ð°Ð»ÑŒÐ½Ð¾Ðµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð½Ð¾Ð³Ð¾ ÐºÐ»ÑŽÑ‡Ð°.

```php
$max = collect([
    ['title' => 'Gift card', 'price' => 50],
    ['title' => 'Chair', 'price' => 80]
])->max('price'); // 80

$max = collect([1, 2, 3])->max(); // 3
```
---
#### ðŸ”¹ ÐœÐµÑ‚Ð¾Ð´ Filter()

> ÐšÐ¾Ð»Ð»ÐµÐºÑ†Ð¸Ñ Ð¼Ð¾Ð¶ÐµÑ‚ Ð±Ñ‹Ñ‚ÑŒ Ð¾Ñ‚Ñ„Ð¸Ð»ÑŒÑ‚Ñ€Ð¾Ð²Ð°Ð½Ð° Ñ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸ÐµÐ¼ Ð¼ÐµÑ‚Ð¾Ð´Ð° `filter`, Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÑŽÑ‰ÐµÐ³Ð¾ Ð¾Ð±Ñ€Ð°Ñ‚Ð½Ñ‹Ð¹ Ð²Ñ‹Ð·Ð¾Ð². Ð¢Ð¾Ð»ÑŒÐºÐ¾ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ñ‹, Ð¿Ñ€Ð¾ÑˆÐµÐ´ÑˆÐ¸Ðµ Ð´Ð°Ð½Ð½ÑƒÑŽ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÑƒ, Ð¾ÑÑ‚Ð°Ð½ÑƒÑ‚ÑÑ Ð² ÐºÐ¾Ð»Ð»ÐµÐºÑ†Ð¸Ð¸.

```php
$collection = collect([1, 2, 3, 4, 5, 6, 7, 8, 9, 10]);
$even_numbers = $collection->filter(function ($value, $key) {
    return $value % 2 == 0;
});
$even_numbers->all(); // [2, 4, 6, 8, 10]
```
---
#### ðŸ”¹ ÐœÐµÑ‚Ð¾Ð´ Slice()

> ÐœÐµÑ‚Ð¾Ð´ `slice` Ð²Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÐµÑ‚ Ñ„Ñ€Ð°Ð³Ð¼ÐµÐ½Ñ‚ ÐºÐ¾Ð»Ð»ÐµÐºÑ†Ð¸Ð¸, Ð½Ð°Ñ‡Ð¸Ð½Ð°Ñ Ñ Ð¸Ð½Ð´ÐµÐºÑÐ°, Ð¿ÐµÑ€ÐµÐ´Ð°Ð½Ð½Ð¾Ð³Ð¾ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ð¾Ð¼. ÐŸÐ¾Ð»ÑƒÑ‡ÐµÐ½Ð½Ñ‹Ð¹ Ð¼Ð°ÑÑÐ¸Ð² Ð±ÑƒÐ´ÐµÑ‚ Ð¸Ð¼ÐµÑ‚ÑŒ Ð¾Ñ€Ð¸Ð³Ð¸Ð½Ð°Ð»ÑŒÐ½Ñ‹Ðµ ÐºÐ»ÑŽÑ‡Ð¸.

```php
# ÐžÐ±Ñ€Ð°Ñ‚Ð¸Ñ‚Ðµ Ð²Ð½Ð¸Ð¼Ð°Ð½Ð¸Ðµ, Ñ‡Ñ‚Ð¾ Ð² Ð¿Ñ€Ð¸Ð²ÐµÐ´ÐµÐ½Ð½Ð¾Ð¼ Ð½Ð¸Ð¶Ðµ Ð¿Ñ€Ð¸Ð¼ÐµÑ€Ðµ Ð¿ÐµÑ€ÐµÐ´Ð°ÐµÑ‚ÑÑ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€ 2. Ð­Ñ‚Ð¾ Ð¾Ð·Ð½Ð°Ñ‡Ð°ÐµÑ‚, Ñ‡Ñ‚Ð¾ Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð½Ð°Ñ ÐºÐ¾Ð»Ð»ÐµÐºÑ†Ð¸Ñ Ð±ÑƒÐ´ÐµÑ‚ Ð½Ð°Ñ‡Ð¸Ð½Ð°Ñ‚ÑŒÑÑ Ñ Ð¸Ð½Ð´ÐµÐºÑÐ° 2, Ð° Ð½Ðµ Ñ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ð° 2.

$collection = collect([1, 2, 3, 4, 5]);
$sliced = $collection->slice(2);
$sliced->all(); // [3, 4, 5]
```
---
#### ðŸ”¹ ÐœÐµÑ‚Ð¾Ð´ Search() 

> Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ Ð´Ð»Ñ Ð¿Ð¾Ð¸ÑÐºÐ° Ð¿Ð¾ ÐºÐ¾Ð»Ð»ÐµÐºÑ†Ð¸Ð¸ Ð¿Ð¾ Ð·Ð°Ð´Ð°Ð½Ð½Ð¾Ð¼Ñƒ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸ÑŽ. Ð•ÑÐ»Ð¸ ÑÑ‚Ð¾ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ ÐµÑÑ‚ÑŒ Ð² ÐºÐ¾Ð»Ð»ÐµÐºÑ†Ð¸Ð¸, Ñ‚Ð¾ Ð±ÑƒÐ´ÐµÑ‚ Ð²Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ñ‘Ð½ ÐºÐ»ÑŽÑ‡ ÑÑ‚Ð¾Ð³Ð¾ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ. Ð•ÑÐ»Ð¸ Ð½Ðµ Ð½Ð°ÑˆÐ»Ð¾ÑÑŒ Ð½Ð¸ Ð¾Ð´Ð½Ð¾Ð³Ð¾ ÑÐ¾Ð²Ð¿Ð°Ð´ÐµÐ½Ð¸Ñ, Ð±ÑƒÐ´ÐµÑ‚ Ð²Ð¾Ð·Ð²Ñ€Ð°Ñ‰ÐµÐ½Ð¾ `false`. Ð•ÑÐ»Ð¸ Ð¿ÐµÑ€ÐµÐ´Ð°Ñ‚ÑŒ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ `true` Ð² ÐºÐ°Ñ‡ÐµÑÑ‚Ð²Ðµ Ð²Ñ‚Ð¾Ñ€Ð¾Ð³Ð¾ Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚Ð°, Ð±ÑƒÐ´ÐµÑ‚ Ð¿Ñ€Ð¾Ð¸Ð·Ð²Ð¾Ð´Ð¸Ñ‚ÑŒÑÑ ÑÑ‚Ñ€Ð¾Ð³Ð¾Ðµ ÑÑ€Ð°Ð²Ð½ÐµÐ½Ð¸Ðµ.

```php
$collection = collect(['Sergey', 'Alexander', 'Denis', 'Vasiliy']);
$result = $collection->search('Dima'); // false
$result = $collection->search('Alexander'); // 1

# Ð¼Ð¾Ð¶ÐµÑ‚Ðµ Ð¿ÐµÑ€ÐµÐ´Ð°Ñ‚ÑŒ Ð¼ÐµÑ‚Ð¾Ð´Ñƒ search() ÐºÐ°Ð»Ð±ÐµÐº. Ð’ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ðµ Ñ‡ÐµÐ³Ð¾, Ð²Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ð² Ð¼ÐµÑ‚Ð¾Ð´, Ð¾Ð½ Ð²ÐµÑ€Ð½Ñ‘Ñ‚ ÐºÐ»ÑŽÑ‡ Ð¿ÐµÑ€Ð²Ð¾Ð³Ð¾ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ, Ð¿Ñ€Ð¾ÑˆÐµÐ´ÑˆÐµÐ³Ð¾ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÑƒ

$result = $collection->search(function($value, $key) {
    return strlen($value) === 6;
}); // 0
```
---
#### ðŸ”¹ ÐœÐµÑ‚Ð¾Ð´ Chunk() 

> Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ Ð´Ð»Ñ Ñ€Ð°Ð·Ð´ÐµÐ»ÐµÐ½Ð¸Ñ ÐºÐ¾Ð»Ð»ÐµÐºÑ†Ð¸ÑŽ Ð½Ð° Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾ Ð¼ÐµÐ½ÑŒÑˆÐ¸Ñ… ÐºÐ¾Ð»Ð»ÐµÐºÑ†Ð¸Ð¹ Ð·Ð°Ð´Ð°Ð½Ð½Ð¾Ð³Ð¾ Ñ€Ð°Ð·Ð¼ÐµÑ€Ð°

```php
$collection = collect(['Sergey', 'Alexander', 'Denis', 'Vasiliy']);
$chunks = $collection->chunk(2);

$result = $chunks->toArray();
```
---
#### ðŸ”¹ ÐœÐµÑ‚Ð¾Ð´ zip() 

Ð”Ð¾Ð±Ð°Ð²Ð»ÑÐµÑ‚ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ Ð¿ÐµÑ€ÐµÐ´Ð°Ð½Ð½Ð¾Ð³Ð¾ Ð¼Ð°ÑÑÐ¸Ð²Ð° Ðº Ð´Ð°Ð½Ð½Ñ‹Ð¼ ÐºÐ¾Ð»Ð»ÐµÐºÑ†Ð¸Ð¸. Ð—Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð²Ñ‹ Ð¿ÐµÑ€ÐµÐ´Ð°Ñ‘Ñ‚Ðµ Ð±ÑƒÐ´ÑƒÑ‚ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ñ‹ Ð¿Ð¾Ð´ Ñ‚ÐµÐ¼ Ð¶Ðµ Ð¸Ð½Ð´ÐµÐºÑÐ¾Ð¼, Ñ‡Ñ‚Ð¾ Ð¸ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ ÐºÐ¾Ð»Ð»ÐµÐºÑ†Ð¸Ð¸, ÑÑ‚Ð¾ Ð·Ð½Ð°Ñ‡Ð¸Ñ‚, Ñ‡Ñ‚Ð¾ Ð¿ÐµÑ€Ð²Ð¾Ðµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ Ð¿ÐµÑ€ÐµÐ´Ð°Ð½Ð½Ð¾Ð³Ð¾ Ð¼Ð°ÑÑÐ¸Ð²Ð° Ð±ÑƒÐ´ÐµÑ‚ Ð¾Ð±ÑŠÐµÐ´Ð¸Ð½ÐµÐ½Ð¾ Ñ Ð¿ÐµÑ€Ð²Ñ‹Ð¼ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸ÐµÐ¼ Ð¸Ð· ÐºÐ¾Ð»Ð»ÐµÐºÑ†Ð¸Ð¸.

```php
$collection = collect([1,2,3]);
$zipped = $collection->zip([10, 20, 33]);
        
$result = $zipped->all();
```
---
#### ðŸ”¹ ÐœÐµÑ‚Ð¾Ð´ whereNotIn()

> Ð’Ñ‹ Ð¼Ð¾Ð¶ÐµÑ‚Ðµ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ Ð¼ÐµÑ‚Ð¾Ð´ `whereNotIn()` Ð´Ð»Ñ Ñ„Ð¸Ð»ÑŒÑ‚Ñ€Ð°Ñ†Ð¸Ð¸ ÐºÐ¾Ð»Ð»ÐµÐºÑ†Ð¸Ð¸ Ð¿Ð¾ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸ÑŽ ÐºÐ»ÑŽÑ‡Ð°, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð½Ðµ ÑÐ¾Ð´ÐµÑ€Ð¶Ð°Ñ‚ÑÑ Ð² ÐºÐ¾Ð»Ð»ÐµÐºÑ†Ð¸Ð¸. Ð­Ñ‚Ð¾Ñ‚ Ð¼ÐµÑ‚Ð¾Ð´ ÑÐ²Ð»ÑÐµÑ‚ÑÑ Ð¿Ð¾Ð»Ð½Ð¾Ð¹ Ð¿Ñ€Ð¾Ñ‚Ð¸Ð²Ð¾Ð¿Ð¾Ð»Ð¾Ð¶Ð½Ð¾ÑÑ‚ÑŒÑŽ Ð¼ÐµÑ‚Ð¾Ð´Ñƒ `whereIn()`. ÐšÑ€Ð¾Ð¼Ðµ Ñ‚Ð¾Ð³Ð¾, ÑÑ‚Ð¾Ñ‚ Ð¼ÐµÑ‚Ð¾Ð´ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ Ð½ÐµÑÑ‚Ñ€Ð¾Ð³Ð¾Ðµ ÑÑ€Ð°Ð²Ð½ÐµÐ½Ð¸Ðµ `==` Ð¿Ñ€Ð¸ ÑÐ¾Ð¿Ð¾ÑÑ‚Ð°Ð²Ð»ÐµÐ½Ð¸Ð¸ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ð¹.

```php
// ÐÐ°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ Ð¸Ð· ÐºÐ¾Ð»Ð»ÐµÐºÑ†Ð¸Ð¸ Ð²ÑÐµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ, Ð¸ÑÐºÐ»ÑŽÑ‡Ð°Ñ Ð·Ð°Ð¿Ð¸ÑÐ¸ Ñ Ð¸Ð´ÐµÐ½Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ‚Ð¾Ñ€Ð°Ð¼Ð¸ 2 Ð¸ 3
$values = $collection->whereNotIn('id', [2, 3]);
$result = $values->all();

// Ð˜Ð¼Ñ ÐºÐ»ÑŽÑ‡Ð° (Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ Ð¿Ð¾Ð»Ñ), Ð¿Ð¾ ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ð¼Ñƒ Ð¿Ñ€Ð¾Ð¸Ð·Ð²Ð¾Ð´Ð¸Ñ‚ÑÑ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ° ÑƒÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÑ‚ÑÑ Ð¿ÐµÑ€Ð²Ñ‹Ð¼ Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚Ð¾Ð¼, Ð° Ð²Ñ‚Ð¾Ñ€Ð¾Ð¹ Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚ - Ð¼Ð°ÑÑÐ¸Ð² ÑÑ‚Ð¸Ñ… Ð¸Ð´ÐµÐ½Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ‚Ð¾Ñ€Ð¾Ð², Ð¿Ð¾ ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¼ Ð±ÑƒÐ´ÑƒÑ‚ Ð¸ÑÐºÐ»ÑŽÑ‡Ð°Ñ‚ÑŒÑÑ Ð·Ð°Ð¿Ð¸ÑÐ¸
```
---
#### ðŸ”¹ ÐœÐµÑ‚Ð¾Ð´ pluck()

> Ð²Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÐµÑ‚ Ð¼Ð°ÑÑÐ¸Ð² Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ð¹ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð´Ð»Ñ Ð¾Ð´Ð½Ð¾Ð³Ð¾ ÐºÐ¾Ð½ÐºÑ€ÐµÑ‚Ð½Ð¾Ð³Ð¾ ÐºÐ»ÑŽÑ‡Ð°

```php
$result = $collection->pluck('id');
```

 > ÐŸÐ¾Ð¼Ð¸Ð¼Ð¾ ÑÑ‚Ð¾Ð³Ð¾, ÐµÑÑ‚ÑŒ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚ÑŒ Ð¸Ð·Ð²Ð»ÐµÐºÐ°Ñ‚ÑŒ Ð´Ð°Ð½Ð½Ñ‹Ðµ, ÑƒÐºÐ°Ð·Ñ‹Ð²Ð°Ñ, Ð¿Ð¾ ÐºÐ°ÐºÐ¾Ð¼Ñƒ Ð¿Ð¾Ð»ÑŽ Ð±ÑƒÐ´ÐµÑ‚ ÑÐ¾Ñ…Ñ€Ð°Ð½ÑÑ‚ÑŒÑÑ ÐºÐ»ÑŽÑ‡, Ð¿ÐµÑ€Ð²Ñ‹Ð¼ Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚Ð¾Ð¼ ÑƒÐºÐ°Ð·Ñ‹Ð²Ð°Ñ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ ÑÑ‚Ð¾Ð»Ð±Ñ†Ð° Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ, Ð° Ð²Ñ‚Ð¾Ñ€Ð¾Ð¹ - Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ ÑÑ‚Ð¾Ð»Ð±Ð°, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ Ð±ÑƒÐ´ÐµÑ‚ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒÑÑ Ð² ÐºÐ°Ñ‡ÐµÑÑ‚Ð²Ðµ ÐºÐ»ÑŽÑ‡Ð°

```php
$result = $collection->pluck('title', 'id');

// [1 => 'HLTV', 2 => 'GG.bet', 3 =>'vk.com']
$result->all();
```
---
#### ðŸ”¹ ÐœÐµÑ‚Ð¾Ð´ forget() 

> ÑƒÐ´Ð°Ð»ÑÐµÑ‚ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚ Ð¸Ð· ÐºÐ¾Ð»Ð»ÐµÐºÑ†Ð¸Ð¸(Ð½Ðµ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ñ Ð¼Ð½Ð¾Ð³Ð¾Ð²Ð»Ð¾Ð¶ÐµÐ½Ð½Ñ‹Ð¼Ð¸ Ð¼Ð°ÑÑÐ¸Ð²Ð°Ð¼Ð¸.)

```php
$collection = collect(['limit' => 10, 'total' => 100, 'name' => 'Proxy scrapper']);

$result = $collection->forget('name'); // ['limit' => 10, 'total' => 100]
$result = $collection->forget(['name', 'total']); // ['limit' => 100]
```
---
#### ðŸ”¹ ÐœÐµÑ‚Ð¾Ð´ except()

> Ð¸ÑÐºÐ»ÑŽÑ‡Ð°ÐµÑ‚ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ(Ð¸Ð»Ð¸ Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾) Ð¿Ð¾ ÐºÐ»ÑŽÑ‡Ñƒ

```php
$collection = collect(['product_id' => 1, 'price' => 100, 'discount' => false]);
$filtered = $collection->except(['price', 'discount']);
$filtered->all();// ['product_id' => 1]
```
---
#### ðŸ”¹ Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ð¸Ð¼ÐµÐ½Ð¾Ð²Ð°Ð½Ñ‹Ñ… ÐºÐ¾Ð»Ð»ÐµÐºÑ†Ð¸Ð¹

> ÐœÐ¾Ð¶Ð½Ð¾ ÑÐ¾Ð·Ð´Ð°Ð²Ð°Ñ‚ÑŒ ÐºÐ¾Ð»Ð»ÐµÐºÑ†Ð¸Ð¸ Ð´Ð»Ñ ÑÑƒÑ‰Ð½Ð¾ÑÑ‚ÐµÐ¹ ÑÐ¾ ÑÐ²Ð¾Ð¸Ð¼Ð¸ Ð¼ÐµÑ‚Ð¾Ð´Ð°Ð¼Ð¸ Ð²Ð½ÑƒÑ‚Ñ€Ð¸

==ÑÐ¾Ð·Ð´Ð°ÐµÐ¼ ÐºÐ¾Ð»Ð»ÐµÐºÑ†Ð¸ÑŽ==
```php
namespace App\Collections;

use App\Models\Customer;
use ArrayIterator;
use Illuminate\Database\Eloquent\Collection;

/**
 * @method Customer|null first(callable $callback = null, $default = null)
 * @method Customer|null last(callable $callback = null, $default = null)
 * @method Customer|null pop()
 * @method Customer|null shift()
 * @method ArrayIterator|Customer[] getIterator()
 */
class CustomerEloquentCollection extends Collection
{
    // Ð² $this Ð½Ð°Ñ…Ð¾Ð´Ð¸Ñ‚ÑŒÑÑ Ð²ÑÑ ÐºÐ¾Ð»Ð»ÐµÐºÑ†Ð¸Ñ
    public function someMethod(): self
    {
        // some logic

        return $this;
    }
}
```

==Ð² Ð¼Ð¾Ð´ÐµÐ»Ð¸ Ð¿Ñ€Ð¾Ð¿Ð¸ÑÑ‹Ð²Ð°ÐµÐ¼==
```php
public function newCollection(array $models = []): CustomerEloquentCollection
{
    return CustomerEloquentCollection::make($models);
}
```

==Ñ‚Ð°Ðº Ð²Ñ‹Ð·Ñ‹Ð²Ð°ÐµÐ¼==
```php
$customers = Customer::query()->limit(3)->get();
$customers->someMethod();
```
---
#### ðŸ”¹ ÐœÐµÑ‚Ð¾Ð´ times();

```php
// ÑÐ¾Ð·Ð´Ð°ÑÑ‚ ÐºÐ¾Ð»Ð»ÐµÐºÑ†Ð¸ÑŽ Ñ 4 ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ð°Ð¼Ð¸
Collection::times(4);

// ÑÐ¾Ð·Ð´Ð°ÑÑ‚ ÐºÐ¾Ð»Ð»ÐµÐºÑ†Ð¸ÑŽ Ñ 7 ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ð°Ð¼Ð¸, Ð¸ Ðº ÐºÐ°Ð¶Ð´Ð¾Ð¹ Ð¿Ñ€Ð¸Ð¼ÐµÐ½ÐµÑ‚ callback
$collection = Collection::times(7, function ($index) {
    return \Carbon\Carbon::now()->addDay($index);
});
```
---

