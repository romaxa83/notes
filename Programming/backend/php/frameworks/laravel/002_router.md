#php #laravel

#### üîπ –í–∞—Ä–∏–∞–Ω—Ç—ã –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ä–æ—É—Ç
```php
Route::get('/cabinet','Cabinet\HomeController@index')->name('home');
Route::get('cabinet',[HomeController::class, 'index'])->name('home');

// –¥–ª—è –ª—é–±—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
Route::any(...);

// —Å–æ–∑–¥–∞–µ—Ç —Å–∞–º –∑–∞–ø—Ä–æ—Å—ã(–≥–ª–∞–≥–æ–ª—ã) –¥–ª—è crud
Route::resource(...);

// –≤—ã–±–∏—Ä–∞–µ–º –¥–ª—è –∫–∞–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
Route::match(['GET','POST'],...);

// c–æ–∑–¥–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã —Ä–æ—É—Ç–æ–≤ (–≤—Å–µ —Ä–æ—É—Ç—ã –≤ –≥—Ä—É–ø–ø–µ –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å middleware(['auth']))
Route::middleware(['auth'])->group(function(){
	.....
});

// –≥—Ä—É–ø–ø–∞ —Å –æ–±—à–∏–º –ø—Ä–µ—Ñ–∏–∫—Å–æ–º (admin)
Route::prefix('admin')->group(function(){
	Route::middleware(['auth:api', 'scope:admin'])->group(function(){
    	.......
	});
});
```
---
#### üîπ –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Å—Ä–∞–∑—É
```php
Route::get('/',function () {
    // some logics
    return redirect('/login');
})->name('home');
```
---
#### üîπ –†–µ–¥–∏—Ä–µ–∫—Ç
```php
// —Ä–µ–¥–∏—Ä–µ–∫—Ç–µ—Ç –Ω–∞ —Å—Ç—Ä. –ª–æ–≥–∏–Ω–∞, –Ω–æ –∑–∞–ø–æ–º–∏–Ω–∞–µ—Ç –æ—Ç–∫—É–¥–∞ –±—ã–ª –ø–µ—Ä–µ—Ö–æ–¥, –∏ –ø–æ—Å–ª–µ –ª–æ–≥–∏–Ω–∞ —Ä–µ–¥–∏—Ä–µ–∫—Ç–∏—Ç —Ç—É–¥–∞
redirect->intended('login');

// —Ä–µ–¥–∏—Ä–µ–∫—Ç–µ—Ç –Ω–∞ —Å—Ç—Ä —Å –∫–æ—Ç–æ—Ä–æ–π –ø—Ä–∏—à–ª–∏
redirect->intended();

// —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ –º–µ—Ç–æ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞
return redirect()->action('SomeController@method', ['param' => $value]);

// –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—Ä–∞—Ç–Ω–æ —Å –æ—à–∏–±–∫–æ–π
return back()->withError($exception->getMessage())->withInput();
```
---
#### üîπ –†–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

==–µ—Å–ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –±—É–¥—É –Ω–µ —Å–æ–≤–ø–∞–¥–∞—Ç—å –ø–æ —à–∞–±–ª–æ–Ω—É –≤—ã–ª–µ—Ç–∏—Ç –æ—à–∏–±–∫–∞ 404==
```php
// —Ç–æ–ª—å–∫–æ –±—É–∫–≤—ã
Route::get('user/{name}', function ($name) {
    //
})->where('name', '[A-Za-z]+');

// —Ç–æ–ª—å–∫–æ —Ü–∏—Ñ—Ä—ã
Route::get('user/{id}', function ($id) {
    //
})->where('id', '[0-9]+');

// –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏ —à–∞–±–ª–æ–Ω–æ–≤
Route::get('user/{id}/{name}', function ($id, $name) {
    //
})->where(['id' => '[0-9]+', 'name' => '[a-z]+']);
```

> –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å, —á—Ç–æ –∏–º—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –≤—Å–µ–≥–¥–∞ –¥–æ–ª–∂–Ω–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–º—É —à–∞–±–ª–æ–Ω—É. –ù–∞–ø—Ä–∏–º–µ—Ä –Ω—É–∂–Ω–æ, —á—Ç–æ–±—ã `user_id` –≤—Å–µ–≥–¥–∞ –±—ã–ª —Ü–µ–ª—ã–º —á–∏—Å–ª–æ–º. 

```php
// app/Providers/RouteServiceProvider.php:

public function boot()
{
    Route::pattern('user_id', '[0-9]+');
    parent::boot();
}
```
---
#### üîπ –†–µ–∑–µ—Ä–≤–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç

–µ—Å–ª–∏ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª –Ω–∏ –æ–¥–∏–Ω –º–∞—Ä—à—Ä—É—Ç, —Ç–æ–≥–¥–∞ —Ä–µ–∑–µ—Ä–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –¥–µ—Ñ–æ–ª—Ç–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É `404` –∏ –≤–≤–æ–¥–∏—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –ª–æ–≥–∏–∫—É,
```php
// –≤ —Ñ–∞–π–ª–µ routes/web.php, –≤ —Å–∞–º–æ–º –∫–æ–Ω—Ü–µ, –ø–æ—Å–ª–µ –≤—Å–µ—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤

Route::fallback(function() {
    return '–•–º‚Ä¶ –ü–æ—á–µ–º—É —Ç—ã –æ–∫–∞–∑–∞–ª—Å—è –∑–¥–µ—Å—å?';
});
```

> –µ—Å—Ç—å –º–æ–º–µ–Ω—Ç, –¥–∞–Ω–Ω—ã–π —Ä–æ—É—Ç —Ç–∞–∫–∂–µ –ø—Ä–æ–π–¥–µ—Ç –≤—Å–µ –º–∏–¥–ª–µ–≤–∞—Ä—ã, –∫–∞–∫ –∏ –≤—Å–µ —Ä–æ—É—Ç—ã
---
#### üîπ Wildcard —Å—É–±–¥–æ–º–µ–Ω—ã

> –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –≥—Ä—É–ø–ø—É –º–∞—Ä—à—Ä—É—Ç–æ–≤ —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º –∏–º–µ–Ω–µ–º —Å—É–±–¥–æ–º–µ–Ω–∞ –∏ –ø–µ—Ä–µ–¥–∞—Ç—å —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –∫–∞–∂–¥–æ–º—É –º–∞—Ä—à—Ä—É—Ç—É
```php
Route::domain('{username}.workspace.com')->group(function () {
    Route::get('user/{id}', function ($username, $id) {
        //
    });
});
```
---
#### üîπ `Route::view()`

> –ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ, —á—Ç–æ–±—ã –≤ –º–∞—Ä—à—Ä—É—Ç–µ –ø—Ä–æ—Å—Ç–æ –æ—Ç–æ–±—Ä–∞–∂–∞–ª—Å—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π —à–∞–±–ª–æ–Ω, —Ç–æ –Ω–µ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ –º–µ—Ç–æ–¥ –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ, –ø—Ä–æ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `Route::view()`.

```php
// –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ
Route::get('about', 'TextsController@about');
class TextsController extends Controller
{
    public function about()
    {
        return view('texts.about');
    }
}

// —Å–¥–µ–ª–∞–π—Ç–µ —Ç–∞–∫
Route::view('about', 'texts.about');
```
---
#### üîπ  `Auth::routs()`

 > —á—Ç–æ–± —É–∑–Ω–∞—Ç—å –∫–∞–∫–∏–µ –º–∞—Ä—à—Ä—É—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ `auth`, —Ç–æ –æ–Ω–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ `/vendor/laravel/framework/src/illuminate/Routing/Router.php` –≤ –º–µ—Ç–æ–¥–µ `auth()`

---
#### üîπ –ü—Ä–∏–≤—è–∑–∫–∞ –º–∞—Ä—à—Ä—É—Ç–æ–≤ –∫ –º–æ–¥–µ–ª–∏
```php
// –ø—Ä–∏–≤—è–∑–∫–∞ –º–∞—Ä—à—Ä—É—Ç–∞ –∫ –º–æ–¥–µ–ª–∏
Route::get('api/users/{user}', function(App\User $user) { ... }

// –µ—Å–ª–∏ –Ω—É–∂–Ω–æ, —á—Ç–æ–±—ã {user} –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –ø–æ–ª–µ username, –∞ –Ω–µ id —Ç–æ —Å–¥–µ–ª–∞–π—Ç–µ –≤ –º–æ–¥–µ–ª–∏ —Ç–∞–∫

public function getRouteKeyName() {
    return 'username';
}
```
---
