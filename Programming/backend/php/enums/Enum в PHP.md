#php #enum #snippet #base
==**Enums** (–ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è)== ‚Äî —ç—Ç–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö, –¥–æ–±–∞–≤–ª–µ–Ω–Ω–∞—è –≤ **PHP 8.1**. –û–Ω–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–∞–±–æ—Ä —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π, –∫–æ—Ç–æ—Ä—ã–µ —É–ø—Ä–æ—Å—Ç—è—Ç —Ä–∞–±–æ—Ç—É —Å –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–º–∏ –Ω–∞–±–æ—Ä–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å—Ç–∞—Ç—É—Å–∞–º–∏, —Ç–∏–ø–∞–º–∏ –∏ —Ç.–¥.). Enums –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã –Ω–∞ –ø–æ–≤—ã—à–µ–Ω–∏–µ —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∫–æ–¥–∞, –∑–∞–º–µ–Ω—è—è ¬´–º–∞–≥–∏—á–µ—Å–∫–∏–µ —Å—Ç—Ä–æ–∫–∏¬ª –∏–ª–∏ ¬´–∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã¬ª.

---

##### –¢–∏–ø—ã Enums
* üîπ **Backed Enums** (–ü–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è —Å –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º):
   - –û–Ω–∏ —Å–≤—è–∑—ã–≤–∞—é—Ç —Å–≤–æ–∏ —ç–ª–µ–º–µ–Ω—Ç—ã (`cases`) —Å –ø—Ä–æ—Å—Ç—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ (`int` –∏–ª–∏ `string`).
   - –£–¥–æ–±–Ω—ã, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –≤ –±–∞–∑–∞—Ö –¥–∞–Ω–Ω—ã—Ö, JSON –∏–ª–∏ –¥—Ä—É–≥–∏—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä–∞—Ö.

* üîπ **Pure Enums** (–ß–∏—Å—Ç—ã–µ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è):
   - –ù–µ –∏–º–µ—é—Ç –≤–Ω–µ—à–Ω–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π.
   - –ü–æ–ª–µ–∑–Ω—ã –¥–ª—è —Å–ª—É—á–∞–µ–≤, –∫–æ–≥–¥–∞ `cases` —Å–∞–º–∏ –ø–æ —Å–µ–±–µ —è–≤–ª—è—é—Ç—Å—è –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π.

##### –û–±—ä—è–≤–ª–µ–Ω–∏–µ Enums
 **–ß–∏—Å—Ç–æ–µ (Pure) Enum:**

```php
enum Status
{
    case Active;
    case Inactive;
    case Pending;
}
```

**Backed Enum:**

```php
enum Status: string
{
    case Active = 'active';
    case Inactive = 'inactive';
    case Pending = 'pending';
}
```

##### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Enums

üîπ **–î–æ—Å—Ç—É–ø –∫ —ç–ª–µ–º–µ–Ω—Ç–∞–º –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è:**
```php
$status = Status::Active; // –î–æ—Å—Ç—É–ø –∫ case
```

üîπ **–°—Ä–∞–≤–Ω–µ–Ω–∏–µ:**
```php
if ($status === Status::Active) {
    echo '–°—Ç–∞—Ç—É—Å –∞–∫—Ç–∏–≤–µ–Ω!';
}
```

üîπ **–ü–µ—Ä–µ–±–æ—Ä –≤—Å–µ—Ö —Å–ª—É—á–∞–µ–≤:**
–ö–∞–∂–¥–æ–µ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ –∏–º–µ–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –º–µ—Ç–æ–¥ `cases()`, –∫–æ—Ç–æ—Ä—ã–π –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å—Å–∏–≤ –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤.

```php
foreach (Status::cases() as $case) {
    echo $case->name; // –ò–º—è case (–Ω–∞–ø—Ä–∏–º–µ—Ä, 'Active')
}
```

##### –ú–µ—Ç–æ–¥—ã –∏ –ü–æ–ª—è
–ö–∞–∂–¥—ã–π enum –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Å–≤–æ–π—Å—Ç–≤–∞ –∏ –º–µ—Ç–æ–¥—ã, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –∏—Ö –±–æ–ª–µ–µ –≥–∏–±–∫–∏–º–∏. –ú–µ—Ç–æ–¥ `match` –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —É–¥–æ–±–Ω—ã–π —Å–ø–æ—Å–æ–± —Å–æ–ø–æ—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è —Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º –∑–Ω–∞—á–µ–Ω–∏–µ–º.

```php
enum Status: string
{
    case Active = 'active';
    case Inactive = 'inactive';
    case Pending = 'pending';

    public function label(): string
    {
        return match ($this) {
            self::Active => '–ê–∫—Ç–∏–≤–Ω—ã–π',
            self::Inactive => '–ù–µ–∞–∫—Ç–∏–≤–Ω—ã–π',
            self::Pending => '–û–∂–∏–¥–∞—é—â–∏–π',
        };
    }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
$status = Status::Active;
echo $status->label(); // "–ê–∫—Ç–∏–≤–Ω—ã–π"
```
*–ø—Ä–∏–º–µ—Ä –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–µ–∫—É—â–µ–≥–æ —Å—Ç–∞—Ç—É—Å–∞*
```php
enum OrderStatus: string {

    case New = "new";
    case In_process = 'in_process';
    case Finished = 'finished';

    public function isNew(): bool
    {
        return $this === self::New;
    }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
$status = Status::Finished;
echo $status->isNew(); // false
```

##### Attributes (–ê—Ç—Ä–∏–±—É—Ç—ã)
Enums –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –∞—Ç—Ä–∏–±—É—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –∫ `cases`. –ò—Å–ø–æ–ª—å–∑—É—è Reflection API, –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —ç—Ç–∏ –∞—Ç—Ä–∏–±—É—Ç—ã.

```php
enum Currency: string
{
    #[Description('–ê–º–µ—Ä–∏–∫–∞–Ω—Å–∫–∏–π –¥–æ–ª–ª–∞—Ä')]
    case USD = 'usd';

    #[Description('–ï–≤—Ä–æ')]
    case EUR = 'eur';
}
```

##### –†–∞–±–æ—Ç–∞ —Å Backed Enums
üîπ **–ü–æ–∏—Å–∫ –ø–æ –∑–Ω–∞—á–µ–Ω–∏—è–º (`from` –∏ `tryFrom`):**
–î–ª—è –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –≤ Backed Enums –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç—Å—è –º–µ—Ç–æ–¥—ã –∏–∑–≤–ª–µ—á–µ–Ω–∏—è:

```php
$status = Status::from('active'); // –í–µ—Ä–Ω–µ—Ç Status::Active
$status = Status::tryFrom('unknown'); // –í–µ—Ä–Ω–µ—Ç null (–µ—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏—è –Ω–µ—Ç)
```

> –†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É `from` –∏ `tryFrom`:
> - `from`: –≤—ã–±—Ä–æ—Å–∏—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ `ValueError`, –µ—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ.
> - `tryFrom`: –≤–µ—Ä–Ω—ë—Ç `null`, –µ—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ.

##### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –ë–∞–∑–∞—Ö –î–∞–Ω–Ω—ã—Ö
Enums –º–æ–∂–Ω–æ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –∑–Ω–∞—á–µ–Ω–∏–π –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö:
1. –•—Ä–∞–Ω–∏—Ç—å `value` (–≤ —Å–ª—É—á–∞–µ Backed Enums).
2. –û–ø—Ü–∏—è —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏/–¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–ª—è `Pure Enums`.

–ü—Ä–∏–º–µ—Ä Eloquent –º–æ–¥–µ–ª–∏:

```php
use Illuminate\Database\Eloquent\Model;

class Task extends Model
{
    protected $casts = [
        'status' => Status::class, // –ö–æ–ª–æ–Ω–∫–∞ 'status' –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç—Å—è
    ];
}
```

##### –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∏ Enums
Enums **–º–æ–∂–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã**. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É, –∫–æ–≥–¥–∞ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è –æ–±—è–∑–∞–Ω—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã.

```php
interface Describable
{
    public function getDescription(): string;
}

enum Status: string implements Describable
{
    case DRAFT = 'draft';
    case PUBLISHED = 'published';

    public function getDescription(): string
    {
        return match($this) {
            self::DRAFT => '–ß–µ—Ä–Ω–æ–≤–∏–∫',
            self::PUBLISHED => '–û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ'
        };
    }
}
```

##### –ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –≤ Enums
Enums **–Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ**. –ù–µ–ª—å–∑—è —É–Ω–∞—Å–ª–µ–¥–æ–≤–∞—Ç—å –æ–¥–Ω–æ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ –æ—Ç –¥—Ä—É–≥–æ–≥–æ. –û–¥–Ω–∞–∫–æ, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **—Ç—Ä–µ–π—Ç—ã** –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –º–µ—Ç–æ–¥–æ–≤ –≤ —Ä–∞–∑–Ω—ã—Ö –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è—Ö.

```php
trait HasLabel
{
    public function label(): string
    {
        return match($this) {
            Status::DRAFT => '–ß–µ—Ä–Ω–æ–≤–∏–∫',
            Status::PUBLISHED => '–û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ',
        };
    }
}

enum Status: string
{
    use HasLabel;

    case DRAFT = 'draft';
    case PUBLISHED = 'published';
}
```

* ‚ùóÔ∏è –ù–µ–ª—å–∑—è –Ω–∞—Å–ª–µ–¥–æ–≤–∞—Ç—å –æ—Ç –¥—Ä—É–≥–∏—Ö `enum` –∏–ª–∏ –∫–ª–∞—Å—Å–æ–≤.
* ‚ùóÔ∏è –¢—Ä–µ–π—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ–ª—å–∫–æ –∫–∞–∫ –º–µ—Ö–∞–Ω–∏–∑–º –¥–ª—è –æ–±—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –º–µ—Ç–æ–¥–æ–≤, –Ω–æ –Ω–µ –ø–æ–∑–≤–æ–ª—è—é—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–µ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ.

##### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Enums

* üîπ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Ç–∏–ø–æ–≤:**
	 - –ò—Å–∫–ª—é—á–∞–µ—Ç –æ—à–∏–±–∫–∏, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –Ω–∞–±–æ—Ä–æ–º —Å—Ç—Ä–æ–∫ –∏–ª–∏ —á–∏—Å–µ–ª.
	 - PHP –≤—ã–¥–∞–µ—Ç –æ—à–∏–±–∫–∏ –Ω–∞ —ç—Ç–∞–ø–µ –Ω–∞–ø–∏—Å–∞–Ω–∏—è –∫–æ–¥–∞.

* üîπ **–ß–∏—Ç–∞–µ–º–æ—Å—Ç—å:**
   - –ö–æ–¥ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Å–∞–º–æ–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É—é—â–∏–º—Å—è.

* üîπ **–í—ã—Ä–∞–∂–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏:**
   - –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –∫–∞—Å—Ç–æ–º–Ω—É—é –ª–æ–≥–∏–∫—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, –º–µ—Ç–æ–¥—ã –∏–ª–∏ –º–µ—Ç–∫–∏).

* üîπ **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –Ω–æ–≤—ã–º–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏:**
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Reflection, –∞—Ç—Ä–∏–±—É—Ç–æ–≤, cast Eloquent –∏ —Ç.–¥.

##### –ü—Ä–∏–º–µ—Ä –±–æ–ª–µ–µ –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```php
enum OrderStatus: string
{
    case New = 'new';
    case Processing = 'processing';
    case Completed = 'completed';
    case Failed = 'failed';

    public function isFinalized(): bool
    {
        return match ($this) {
            self::Completed, self::Failed => true,
            default => false,
        };
    }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
$status = OrderStatus::Completed;

if ($status->isFinalized()) {
    echo "–ó–∞–∫–∞–∑ –∑–∞–≤–µ—Ä—à—ë–Ω!";
}
```

##### –ü–æ–ª–Ω—ã–π API Enum –≤ PHP
* üîπ **–ú–µ—Ç–æ–¥—ã –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è:**
   - `cases()`: –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å—Å–∏–≤ –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (cases).
   - `from()`: –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è (–∑–Ω–∞—á–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–æ–≤–∞—Ç—å, –∏–Ω–∞—á–µ –æ—à–∏–±–∫–∞).
   - `tryFrom()`: –ü–æ–ø—ã—Ç–∫–∞ –ø–æ–ª—É—á–∏—Ç—å –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ –∏–∑ –∑–Ω–∞—á–µ–Ω–∏—è (–≤–µ—Ä–Ω—ë—Ç `null`, –µ—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏—è –Ω–µ—Ç).

* üîπ **–°–≤–æ–π—Å—Ç–≤–∞ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è:**
   - `name`: –ù–∞–∑–≤–∞–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, `'Active'`).
   - `value`: –ü—Ä–∏–≤—è–∑–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (—Ç–æ–ª—å–∫–æ –¥–ª—è Backed Enums, –Ω–∞–ø—Ä–∏–º–µ—Ä, `'active'`).

##### –û—Å–Ω–æ–≤–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è PHP Enums
* ‚ùóÔ∏è –ù–µ–ª—å–∑—è –∏–∑–º–µ–Ω—è—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (`cases`) –ø–æ—Å–ª–µ –∏—Ö –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è.
* ‚ùóÔ∏è –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ `string` –∏ `int` –≤ –∑–Ω–∞—á–µ–Ω–∏—è—Ö –¥–ª—è Backed Enums.
* ‚ùóÔ∏è –ù–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è –≤ PHP –≤–µ—Ä—Å–∏–∏ –Ω–∏–∂–µ 8.1.