#php #package #database

**Doctrine** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω `unitOfWork` —Ç–æ –µ—Å—Ç—å –æ–Ω–∞ –Ω–∞–∫–∞–ø–ª–∏–≤–∞–µ—Ç —Å—É—â–Ω–æ—Å—Ç–∏ (—á–µ—Ä–µ–∑ –º–µ—Ç–æ–¥ `persist`) –∞ –ø–æ—Ç–æ–º, —á–µ—Ä–µ–∑ –º–µ—Ç–æ–¥ `flush`, –≤—Å–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –æ–¥–Ω–∏–º –∑–∞–ø—Ä–æ—Å–æ–º, –≤–Ω—É—Ç—Ä–∏ —Å–µ–±—è –æ–Ω —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å—É—â–Ω–æ—Å—Ç–∏ –≤ –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –º–∞—Å—Å–∏–≤—ã (–¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è\—Å–æ–∑–¥–∞–Ω–∏–µ\–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è...)

**Doctrine** –ø–æ–∑–≤–æ–ª—è–µ—Ç –∫–∞–∂–¥–æ–µ –ø–æ–ª–µ —Å—É—â–Ω–æ—Å—Ç–∏ —Å–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞—Ç—å —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, —á—Ç–æ –º—ã —Å–∞–º–∏ —Ä–µ—à–∞–µ–º –∫–∞–∫ –æ–Ω–æ –¥–æ–ª–∂–Ω–æ —Å–∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ –±–¥ –∏ –æ–±—Ä–∞—Ç–Ω–æ, —Ç.–µ. –≤ –±–¥ –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –∞ –∏–∑ –±–¥ –ø–æ–ª—É—á–∞—Ç—å –æ–±—å–µ–∫—Ç —Å–Ω–∞—á–∞–ª–æ –æ–ø–∏—Å—ã–≤–∞–µ–º –∏—Ö, –∑–∞—Ç–µ–º –ø–æ–¥–∫–ª—é—á–∞–µ–º –≤ –∫–æ–Ω—Ñ–∏–≥–µ
(–ø—Ä–∏–º–µ—Ä `slim/app/src/Infrastructure/Doctrine/Type/User`)
#### üîπ –ê–Ω–Ω–æ—Ç–∞—Ü–∏—è

> –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤ —Å—É—â–Ω–æ—Å—Ç—å ,—á—Ç–æ –±—ã –¥–∞—Ç—å –ø–æ–Ω—è—Ç—å `doctrine` –∫ —ç—Ç—É —Å—É—â–Ω–æ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –≤ –±–¥

==—Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü–µ `user_users` , –ø–æ–ª–µ `email` —è–≤–ª—è–µ—Ç—Å—è —É–Ω–∏–∫–∞–ª—å–Ω—ã–º==
```php
/**
 * @ORM\Entity   //–¥–∞–Ω–Ω—ã–π –∫–ª–∞—Å—Å —è–≤–ª—è–µ—Ç—å—Å—è —Å—É—â–Ω–æ—Å—Ç—å—é
 * @ORM\HasLifecycleCallbacks  
 * @ORM\Table(name="user_users", uniqueConstraints={
 *     @ORM\UniqueConstraint(columns={"email"})
 * })
 */
```


==—Ç–∏–ø user_user_id,–∫–æ—Ç–æ—Ä—ã–π –º—ã –æ–ø—Ä–µ–¥–µ–ª–∏–ª —Å–∞–º–∏==
```php
/**
 * @ORM\Column(type="user_user_id")
 * @ORM\Id   // —è–≤–ª—è–µ—Ç—å—Å—è –ø–µ—Ä–≤–∏—á–Ω—ã–º –∫–ª—é—á–æ–º
 */
```

==—Ç–∏–ø string —Å –∏–º–µ–Ω–µ–º  password_hash –∏ –Ω–µ null==
```php
/**
 * @ORM\Column(type="string", name="password_hash", nullable=true)
 */
```

 ==–≥–æ–≤–æ—Ä–∏—Ç –æ —Ç–æ–º —á—Ç–æ ConfirmToken —è–≤–ª—è–µ—Ç—Å—è –≤–ª–æ–∂–µ–Ω–Ω—ã–º –æ–±—ä–µ–∫—Ç–æ–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ –≤ –∫–ª–∞—Å—Å–µ ConfirmToken –ø–µ—Ä–µ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–ª–∞—Å—Å–∞ –≤—Å—Ç–∞–≤–ª—è–µ–º —Ç–∞–∫—É—é –∞–Ω–Ω–æ—Ç–∞—Ü–∏—é==
 ```php
/**
 * @var ConfirmToken
 * @ORM\Embedded(class="ConfirmToken", columnPrefix="confirm_token_")
 */
 ```

 ==–∏ –¥–æ–±–∞–≤–ª—è–µ–º –∞–Ω–Ω–æ—Ç–∞—Ü–∏—é –∫ –ø–æ–ª—è–º –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –≤ –±–¥ –æ–Ω —Å–æ–∑–¥–∞—Å—Ç –ø–æ–ª—è confirm_token_... –∏ –ø–æ–¥—Å—Ç–∞–≤–∏—Ç –≤—Å–µ –ø–æ–ª—è –∫–æ—Ç–æ—Ä—ã–µ –µ—Å—Ç—å –≤ ConfirmToken==
 ```php
/**
 * @ORM\Embeddable
 */
 ```
---

–ö–û–ì–î–ê –í –°–£–©–ù–û–°–¢–ò –ü–†–û–°–¢–ê–í–õ–ï–ù–´ –ê–ù–ù–ê–¢–ê–¶–ò–ò –∑–∞–ø—É—Å–∫–∞–µ–º –∫–æ–º–∞–Ω–¥—É, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–æ—á–∏—Ç–∞–µ—Ç –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –∏ –ø–æ –Ω–∏–º —Å–æ–∑–¥–∞—Å—Ç –º–∏–≥—Ä–∞—Ü–∏–∏
```bash
migrations:diff

# –ø—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
migrations:migrate
```

---
#### üîπ Articles
- Doctrine + Laravel - https://php-academy.kiev.ua/blog/doctrine-orm-and-laravel-

---



