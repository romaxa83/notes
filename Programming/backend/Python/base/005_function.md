#python #function

#### üîπ –û—Å–Ω–æ–≤—ã —Ñ—É–Ω–∫—Ü–∏–π

##### üî∏ –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∏ –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π
```python
# –ü—Ä–æ—Å—Ç–µ–π—à–∞—è —Ñ—É–Ω–∫—Ü–∏—è
def greet():
    """–ü—Ä–æ—Å—Ç–æ–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ"""
    print("–ü—Ä–∏–≤–µ—Ç, –º–∏—Ä!")

# –í—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏
greet()

# –§—É–Ω–∫—Ü–∏—è —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
def greet_person(name):
    """–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞"""
    print(f"–ü—Ä–∏–≤–µ—Ç, {name}!")

greet_person("–ê–Ω–Ω–∞")

# –§—É–Ω–∫—Ü–∏—è —Å –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º
def add_numbers(a, b):
    """–°–∫–ª–∞–¥—ã–≤–∞–µ—Ç –¥–≤–∞ —á–∏—Å–ª–∞"""
    result = a + b
    return result

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è
sum_result = add_numbers(5, 3)
print(f"5 + 3 = {sum_result}")

# –§—É–Ω–∫—Ü–∏—è —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏
def calculate_rectangle(width, height):
    """–í—ã—á–∏—Å–ª—è–µ—Ç –ø–ª–æ—â–∞–¥—å –∏ –ø–µ—Ä–∏–º–µ—Ç—Ä –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫–∞"""
    area = width * height
    perimeter = 2 * (width + height)
    return area, perimeter

# –†–∞—Å–ø–∞–∫–æ–≤–∫–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
rect_area, rect_perimeter = calculate_rectangle(10, 5)
print(f"–ü—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫ 10x5: –ø–ª–æ—â–∞–¥—å = {rect_area}, –ø–µ—Ä–∏–º–µ—Ç—Ä = {rect_perimeter}")

# –§—É–Ω–∫—Ü–∏—è –±–µ–∑ —è–≤–Ω–æ–≥–æ return –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç None
def print_info(message):
    """–í—ã–≤–æ–¥–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ"""
    print(f"–ò–ù–§–û–†–ú–ê–¶–ò–Ø: {message}")

result = print_info("–≠—Ç–æ –≤–∞–∂–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ")
print(f"–†–µ–∑—É–ª—å—Ç–∞—Ç —Ñ—É–Ω–∫—Ü–∏–∏: {result}")  # None

# –§—É–Ω–∫—Ü–∏—è —Å —É—Å–ª–æ–≤–Ω—ã–º –≤–æ–∑–≤—Ä–∞—Ç–æ–º
def divide_numbers(a, b):
    """–î–µ–ª–µ–Ω–∏–µ —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –Ω–∞ –Ω–æ–ª—å"""
    if b == 0:
        print("–û—à–∏–±–∫–∞: –¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –Ω–æ–ª—å!")
        return None
    return a / b

print(f"10 / 2 = {divide_numbers(10, 2)}")
print(f"10 / 0 = {divide_numbers(10, 0)}")

# –†–∞–Ω–Ω–∏–π –≤–æ–∑–≤—Ä–∞—Ç –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏
def check_positive(number):
    """–ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ —á–∏—Å–ª–æ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–º"""
    if number <= 0:
        return False
    
    # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Ç–æ–ª—å–∫–æ –¥–ª—è –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã—Ö —á–∏—Å–µ–ª
    print(f"–ß–∏—Å–ª–æ {number} –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–µ")
    return True

print(f"–ü—Ä–æ–≤–µ—Ä–∫–∞ -5: {check_positive(-5)}")
print(f"–ü—Ä–æ–≤–µ—Ä–∫–∞ 10: {check_positive(10)}")
```

##### üî∏ –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π (docstrings) –∏ –Ω–∞–π–º–∏–Ω–≥

> –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ –æ–± –∏–º–µ–Ω–∞—Ö —Ñ—É–Ω–∫—Ü–∏–π —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç—Ä–æ—á–Ω—ã–µ –±—É–∫–≤—ã —Å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º —Å–ª–æ–≤ —Å–∏–º–≤–æ–ª–∞–º–∏ –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏—è `(_)` ‚Äî `read_data()`, –∞ –Ω–µ `readData()`.
   –ï—Å–ª–∏ —Ñ—É–Ω–∫—Ü–∏—è —è–≤–ª—è–µ—Ç—Å—è –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–æ–π –∏–ª–∏ –∫–∞–∫–æ–π-–ª–∏–±–æ –¥–µ—Ç–∞–ª—å—é –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏, –ø–µ—Ä–µ–¥ –µ–µ –∏–º–µ–Ω–µ–º –æ–±—ã—á–Ω–æ —Å—Ç–∞–≤–∏—Ç—Å—è –æ–¥–∏–Ω —Å–∏–º–≤–æ–ª –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏—è ‚Äî `_helper()`

```python
def complex_calculation(x, y, operation="add"):
    """
    –í—ã–ø–æ–ª–Ω—è–µ—Ç –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –¥–≤—É–º—è —á–∏—Å–ª–∞–º–∏.
    
    –≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –æ—Å–Ω–æ–≤–Ω—ã–µ –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
    –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã—á–∏—Å–ª–µ–Ω–∏—è.
    
    Args:
        x (float): –ü–µ—Ä–≤–æ–µ —á–∏—Å–ª–æ
        y (float): –í—Ç–æ—Ä–æ–µ —á–∏—Å–ª–æ
        operation (str): –û–ø–µ—Ä–∞—Ü–∏—è –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.
                        –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ: "add", "subtract", "multiply", "divide"
    
    Returns:
        float: –†–µ–∑—É–ª—å—Ç–∞—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏
        None: –ï—Å–ª–∏ –æ–ø–µ—Ä–∞—Ü–∏—è –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –∏–ª–∏ –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞
    
    Raises:
        ZeroDivisionError: –ü—Ä–∏ –¥–µ–ª–µ–Ω–∏–∏ –Ω–∞ –Ω–æ–ª—å
    
    Examples:
        >>> complex_calculation(10, 5, "add")
        15.0
        
        >>> complex_calculation(10, 2, "divide")
        5.0
        
        >>> complex_calculation(7, 3, "multiply")
        21.0
    """
    
    if operation == "add":
        return float(x + y)
    elif operation == "subtract":
        return float(x - y)
    elif operation == "multiply":
        return float(x * y)
    elif operation == "divide":
        if y == 0:
            raise ZeroDivisionError("–î–µ–ª–µ–Ω–∏–µ –Ω–∞ –Ω–æ–ª—å –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º–æ")
        return float(x / y)
    else:
        print(f"–ù–µ–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è: {operation}")
        return None

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏
print(f"10 + 5 = {complex_calculation(10, 5, 'add')}")
print(f"10 - 5 = {complex_calculation(10, 5, 'subtract')}")
print(f"10 * 5 = {complex_calculation(10, 5, 'multiply')}")
print(f"10 / 5 = {complex_calculation(10, 5, 'divide')}")

# –î–æ—Å—Ç—É–ø –∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ —Ñ—É–Ω–∫—Ü–∏–∏
print("\n–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–∏:")
print(complex_calculation.__doc__)

# help() –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø—Ä–∞–≤–∫–∏
help(complex_calculation)

# –†–∞–∑–ª–∏—á–Ω—ã–µ —Å—Ç–∏–ª–∏ docstrings
def google_style_function(param1, param2):
    """
    –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏.
    
    –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ç–æ–≥–æ, —á—Ç–æ –¥–µ–ª–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—è.
    
    Args:
        param1 (int): –û–ø–∏—Å–∞–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞.
        param2 (str): –û–ø–∏—Å–∞–Ω–∏–µ –≤—Ç–æ—Ä–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞.
    
    Returns:
        bool: –û–ø–∏—Å–∞–Ω–∏–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è.
    """
    return len(param2) > param1

def numpy_style_function(param1, param2):
    """
    –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏.
    
    –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏.
    
    Parameters
    ----------
    param1 : int
        –û–ø–∏—Å–∞–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞.
    param2 : str
        –û–ø–∏—Å–∞–Ω–∏–µ –≤—Ç–æ—Ä–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞.
    
    Returns
    -------
    bool
        –û–ø–∏—Å–∞–Ω–∏–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è.
    """
    return len(param2) > param1

def sphinx_style_function(param1, param2):
    """
    –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏.
    
    –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏.
    
    :param param1: –û–ø–∏—Å–∞–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞
    :type param1: int
    :param param2: –û–ø–∏—Å–∞–Ω–∏–µ –≤—Ç–æ—Ä–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞  
    :type param2: str
    :return: –û–ø–∏—Å–∞–Ω–∏–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è
    :rtype: bool
    """
    return len(param2) > param1

# –û–¥–Ω–æ—Å—Ç—Ä–æ—á–Ω—ã–π docstring –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
def get_square(x):
    """–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–≤–∞–¥—Ä–∞—Ç —á–∏—Å–ª–∞."""
    return x ** 2

print(f"–ö–≤–∞–¥—Ä–∞—Ç 4: {get_square(4)}")
```

##### üî∏ –ê—Ç—Ä–∏–±—É—Ç—ã —Ñ—É–Ω–∫—Ü–∏–π
> –ê—Ç—Ä–∏–±—É—Ç—ã —Ñ—É–Ω–∫—Ü–∏–π –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω—ã –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö

```python
f.__name__ # –ò–º—è —Ñ—É–Ω–∫—Ü–∏–∏
f.__qualname__ # –ü–æ–ª–Ω–æ–µ –∏–º—è —Ñ—É–Ω–∫—Ü–∏–∏ (–¥–ª—è –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö)
f.__module__ # –ò–º—è –º–æ–¥—É–ª—è, –≥–¥–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è
f.__doc__ # –°—Ç—Ä–æ–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
f.__annotations__ # –ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤
f.__globals__ # –°–ª–æ–≤–∞—Ä—å —Å –≥–ª–æ–±–∞–ª—å–Ω—ã–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ–º –∏–º–µ–Ω
f.__closure__ # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∑–∞–º—ã–∫–∞–Ω–∏—è (–µ—Å–ª–∏ –µ—Å—Ç—å)
f.__code__ # –ù–∏–∂–µ–ª–µ–∂–∞—â–∏–π –æ–±—ä–µ–∫—Ç —Å –∫–æ–¥–æ–º
```

–ø—Ä–∏ –∑–∞–º—ã–∫–∞–Ω–∏–∏ –º–æ–∂–Ω–æ –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –¥–∞–∂–µ –µ—Å–ª–∏ –æ–Ω–∏ –≥–ª—É–±–æ–∫–æ —Å–ø—Ä—è—Ç–∞–Ω–∞
```python
def add(x, y):
	def do_add():
		return x + y
	return do_add

a = add(2, 3)
a.__closure__
# (<cell at 0x10edf1e20: int object at 0x10ecc1950>,
# <cell at 0x10edf1d90: int object at 0x10ecc1970>)

a.__closure__[0].cell_contents
# 2
```
---
#### üîπ –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ –∞—Ä–≥—É–º–µ–Ω—Ç—ã

##### üî∏ –ü–æ–∑–∏—Ü–∏–æ–Ω–Ω—ã–µ –∏ –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã
```python
def create_user_profile(name, age, city, occupation):
    """–°–æ–∑–¥–∞–µ—Ç –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"""
    profile = {
        "name": name,
        "age": age,
        "city": city,
        "occupation": occupation
    }
    return profile

# –ü–æ–∑–∏—Ü–∏–æ–Ω–Ω—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã (–ø–æ—Ä—è–¥–æ–∫ –≤–∞–∂–µ–Ω)
profile1 = create_user_profile("–ê–Ω–Ω–∞", 25, "–û–¥–µ—Å—Å–∞", "–ü—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç")
print(f"–ü—Ä–æ—Ñ–∏–ª—å 1: {profile1}")

# –ò–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã (–ø–æ—Ä—è–¥–æ–∫ –Ω–µ –≤–∞–∂–µ–Ω)
profile2 = create_user_profile(
    occupation="–î–∏–∑–∞–π–Ω–µ—Ä",
    name="–ë–æ—Ä–∏—Å", 
    city="–°–ü–±",
    age=30
)
print(f"–ü—Ä–æ—Ñ–∏–ª—å 2: {profile2}")

# –°–º–µ—à–∞–Ω–Ω—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã (–ø–æ–∑–∏—Ü–∏–æ–Ω–Ω—ã–µ –¥–æ–ª–∂–Ω—ã –∏–¥—Ç–∏ –ø–µ—Ä–µ–¥ –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–º–∏)
profile3 = create_user_profile("–í–∏–∫—Ç–æ—Ä", 28, city="–û–¥–µ—Å—Å–∞", occupation="–£—á–∏—Ç–µ–ª—å")
print(f"–ü—Ä–æ—Ñ–∏–ª—å 3: {profile3}")

# –§—É–Ω–∫—Ü–∏—è —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
def flexible_function(pos_only, /, standard, *, kwd_only):
    """
    –î–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ç–∏–ø—ã –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤:
    - pos_only: —Ç–æ–ª—å–∫–æ –ø–æ–∑–∏—Ü–∏–æ–Ω–Ω—ã–π
    - standard: –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–∑–∏—Ü–∏–æ–Ω–Ω—ã–º –∏–ª–∏ –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–º
    - kwd_only: —Ç–æ–ª—å–∫–æ –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–π
    """
    return f"pos_only={pos_only}, standard={standard}, kwd_only={kwd_only}"

# –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –≤—ã–∑–æ–≤—ã
print(flexible_function(1, 2, kwd_only=3))           # pos_only –ø–æ–∑–∏—Ü–∏–æ–Ω–Ω–æ
print(flexible_function(1, standard=2, kwd_only=3))  # standard –∏–º–µ–Ω–æ–≤–∞–Ω–Ω–æ

# –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –≤—ã–∑–æ–≤—ã (—Ä–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ—à–∏–±–æ–∫)
# print(flexible_function(pos_only=1, standard=2, kwd_only=3))  # Error: pos_only –Ω–µ–ª—å–∑—è –∏–º–µ–Ω–æ–≤–∞–Ω–Ω–æ
# print(flexible_function(1, 2, 3))                             # Error: kwd_only –Ω–µ–ª—å–∑—è –ø–æ–∑–∏—Ü–∏–æ–Ω–Ω–æ

# –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä: —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–µ–∫—Å—Ç–∞
def format_text(text, /, *, uppercase=False, add_prefix="", add_suffix=""):
    """
    –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç —Ç–µ–∫—Å—Ç —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –æ–ø—Ü–∏—è–º–∏.
    
    Args:
        text: –ò—Å—Ö–æ–¥–Ω—ã–π —Ç–µ–∫—Å—Ç (—Ç–æ–ª—å–∫–æ –ø–æ–∑–∏—Ü–∏–æ–Ω–Ω—ã–π)
        uppercase: –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –≤ –≤–µ—Ä—Ö–Ω–∏–π —Ä–µ–≥–∏—Å—Ç—Ä (—Ç–æ–ª—å–∫–æ –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–π)
        add_prefix: –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–µ—Ñ–∏–∫—Å (—Ç–æ–ª—å–∫–æ –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–π)
        add_suffix: –î–æ–±–∞–≤–∏—Ç—å —Å—É—Ñ—Ñ–∏–∫—Å (—Ç–æ–ª—å–∫–æ –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–π)
    """
    result = text
    
    if uppercase:
        result = result.upper()
    
    result = add_prefix + result + add_suffix
    
    return result

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
print(format_text("–ø—Ä–∏–≤–µ—Ç"))
print(format_text("–ø—Ä–∏–≤–µ—Ç", uppercase=True))
print(format_text("–ø—Ä–∏–≤–µ—Ç", add_prefix=">>> ", add_suffix=" <<<"))
print(format_text("–ø—Ä–∏–≤–µ—Ç", uppercase=True, add_prefix="[", add_suffix="]"))
```

–ú–Ω–æ–≥–∏–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ Python –ø–æ–ª—É—á–∞—é—Ç –∞—Ä–≥—É–º–µ–Ω—Ç—ã —Ç–æ–ª—å–∫–æ –≤ –ø–æ–∑–∏—Ü–∏–æ–Ω–Ω–æ–º –≤–∏–¥–µ. –ù–∞ —ç—Ç–æ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞–ª–∏—á–∏–µ –∫–æ—Å–æ–π —á–µ—Ä—Ç—ã (/) –≤ —Å–∏–≥–Ω–∞—Ç—É—Ä–µ –≤—ã–∑–æ–≤–∞ —Ñ—É–Ω–∫—Ü–∏–∏, —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ `func(x, y, /)`. –≠—Ç–æ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ –≤—Å–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –¥–æ —ç—Ç–æ–π —á–µ—Ä—Ç—ã –º–æ–≥—É—Ç –∑–∞–¥–∞–≤–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –ø–æ–∑–∏—Ü–∏–µ–π. –ü–æ—ç—Ç–æ–º—É —Ñ—É–Ω–∫—Ü–∏—è –º–æ–∂–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å—Å—è –≤ –≤–∏–¥–µ `func(2, 3)`, –Ω–æ –Ω–µ `func(x=2, y=3)`. –î–ª—è –ø–æ–ª–Ω–æ—Ç—ã —ç—Ç–æ—Ç —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∏ –ø—Ä–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–∏ —Ñ—É–Ω–∫—Ü–∏–π. –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∑–∞–ø–∏—Å—å —Å–ª–µ–¥—É—é—â–µ–≥–æ –≤–∏–¥–∞:
```python
def func(x, y, /):
	pass

func(1, 2) # Ok
func(1, y=2) # –û—à–∏–±–∫–∞
```

–ï—â–µ –¥–ª—è –ø—Ä–∏–º–µ—Ä–∞ –≤–æ–∑—å–º–µ–º —Å–ª–µ–¥—É—é—â–∏–π —Ñ—Ä–∞–≥–º–µ–Ω—Ç:
```python
import time

def after(seconds, func, /, *args, **kwargs):
	time.sleep(seconds)
	return func(*args, **kwargs)

def duration(*, seconds, minutes, hours):
	return seconds + 60 * minutes + 3600 * hours

after(5, duration, seconds=20, minutes=3, hours=2)

```

–í —ç—Ç–æ–º –∫–æ–¥–µ `seconds` –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –∫–∞–∫ –∫–ª—é—á–µ–≤–æ–π –∞—Ä–≥—É–º–µ–Ω—Ç. –ù–æ –æ–Ω –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —Å —Ñ—É–Ω–∫—Ü–∏–µ–π `duration`, –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º–æ–π `after()`. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–æ–ª—å–∫–æ –ø–æ–∑–∏—Ü–∏–æ–Ω–Ω—ã—Ö –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –≤ `after()` –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç –∏–º–µ–Ω —Å –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º `seconds`, –∫–æ—Ç–æ—Ä—ã–π —Å—Ç–æ–∏—Ç –Ω–∞ –ø–µ—Ä–≤–æ–º –º–µ—Å—Ç–µ.

##### üî∏ –ó–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
```python
def greet_with_default(name, greeting="–ü—Ä–∏–≤–µ—Ç", punctuation="!"):
    """–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é"""
    return f"{greeting}, {name}{punctuation}"

# –†–∞–∑–ª–∏—á–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã –≤—ã–∑–æ–≤–∞
print(greet_with_default("–ê–Ω–Ω–∞"))                           # –í—Å–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
print(greet_with_default("–ë–æ—Ä–∏—Å", "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å"))      # –ò–∑–º–µ–Ω—è–µ–º greeting
print(greet_with_default("–í–∏–∫—Ç–æ—Ä", punctuation="."))        # –ò–∑–º–µ–Ω—è–µ–º —Ç–æ–ª—å–∫–æ punctuation
print(greet_with_default("–ì–∞–ª–∏–Ω–∞", "–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π", "!!!"))    # –ò–∑–º–µ–Ω—è–µ–º –≤—Å–µ

# –í–ê–ñ–ù–û: –û–ø–∞—Å–Ω–æ—Å—Ç—å –º—É—Ç–∞–±–µ–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
def bad_append_to_list(item, target_list=[]):
    """–ü–õ–û–•–û–ô –ø—Ä–∏–º–µ—Ä: –º—É—Ç–∞–±–µ–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é"""
    target_list.append(item)
    return target_list

# –ü—Ä–æ–±–ª–µ–º–∞: —Å–ø–∏—Å–æ–∫ –æ–±—â–∏–π –¥–ª—è –≤—Å–µ—Ö –≤—ã–∑–æ–≤–æ–≤
print("–ü—Ä–æ–±–ª–µ–º–∞ —Å –º—É—Ç–∞–±–µ–ª—å–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:")
list1 = bad_append_to_list("–ø–µ—Ä–≤—ã–π")
print(f"–ü–µ—Ä–≤—ã–π –≤—ã–∑–æ–≤: {list1}")

list2 = bad_append_to_list("–≤—Ç–æ—Ä–æ–π")  # –°–ø–∏—Å–æ–∫ —É–∂–µ —Å–æ–¥–µ—Ä–∂–∏—Ç "–ø–µ—Ä–≤—ã–π"!
print(f"–í—Ç–æ—Ä–æ–π –≤—ã–∑–æ–≤: {list2}")

# –ü–†–ê–í–ò–õ–¨–ù–´–ô —Å–ø–æ—Å–æ–±: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ None
def good_append_to_list(item, target_list=None):
    """–•–û–†–û–®–ò–ô –ø—Ä–∏–º–µ—Ä: –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é"""
    if target_list is None:
        target_list = []
    
    target_list.append(item)
    return target_list

print("\n–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:")
list3 = good_append_to_list("–ø–µ—Ä–≤—ã–π")
print(f"–ü–µ—Ä–≤—ã–π –≤—ã–∑–æ–≤: {list3}")

list4 = good_append_to_list("–≤—Ç–æ—Ä–æ–π")  # –ù–æ–≤—ã–π —Å–ø–∏—Å–æ–∫ –∫–∞–∂–¥—ã–π —Ä–∞–∑
print(f"–í—Ç–æ—Ä–æ–π –≤—ã–∑–æ–≤: {list4}")

# –ó–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤—ã—á–∏—Å–ª—è—é—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–∏ —Ñ—É–Ω–∫—Ü–∏–∏
import time

def get_current_time(timestamp=time.time()):
    """–î–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç, —á—Ç–æ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤—ã—á–∏—Å–ª—è—é—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑"""
    return f"–í—Ä–µ–º—è: {timestamp}"

print("–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:")
print(get_current_time())
time.sleep(1)
print(get_current_time())  # –¢–æ –∂–µ –≤—Ä–µ–º—è!

# –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–± –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π
def get_current_time_correct(timestamp=None):
    """–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–± –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é"""
    if timestamp is None:
        timestamp = time.time()
    return f"–í—Ä–µ–º—è: {timestamp}"

print("\n–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π:")
print(get_current_time_correct())
time.sleep(1)
print(get_current_time_correct())  # –†–∞–∑–Ω–æ–µ –≤—Ä–µ–º—è!

# –°–ª–æ–∂–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
def create_config(database_url=None, debug_mode=False, max_connections=10, 
                  allowed_hosts=None, cache_timeout=300):
    """–°–æ–∑–¥–∞–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —Å –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é"""
    
    # –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –º—É—Ç–∞–±–µ–ª—å–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤
    if database_url is None:
        database_url = "sqlite:///default.db"
    
    if allowed_hosts is None:
        allowed_hosts = ["localhost", "127.0.0.1"]
    
    config = {
        "database_url": database_url,
        "debug_mode": debug_mode,
        "max_connections": max_connections,
        "allowed_hosts": allowed_hosts,
        "cache_timeout": cache_timeout
    }
    
    return config

# –†–∞–∑–ª–∏—á–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
print("–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:")
print(f"–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: {create_config()}")
print(f"–¢–æ–ª—å–∫–æ debug: {create_config(debug_mode=True)}")
print(f"–ü—Ä–æ–¥–∞–∫—à–µ–Ω: {create_config('postgresql://prod.db', False, 100, ['example.com'])}")
```

##### üî∏ \*args –∏ \*\*kwargs

> –§—É–Ω–∫—Ü–∏—è –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤. –î–ª—è —ç—Ç–æ–≥–æ –ø–µ—Ä–µ–¥ –∏–º–µ–Ω–µ–º –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ —Å—Ç–∞–≤–∏—Ç—Å—è –ø—Ä–µ—Ñ–∏–∫—Å `*`. –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –≤—Å–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –ø–æ–º–µ—â–∞—é—Ç—Å—è –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é args –≤ –≤–∏–¥–µ –∫–æ—Ä—Ç–µ–∂–∞

–° –ø–æ–º–æ—â—å—é `*` –∏ `**` –º–æ–∂–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—É—é –∫–æ–º–±–∏–Ω–∞—Ü–∏—é –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤. –ü–æ–∑–∏—Ü–∏–æ–Ω–Ω—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ –∫–æ—Ä—Ç–µ–∂–µ, –∞ –∫–ª—é—á–µ–≤—ã–µ ‚Äî –≤ —Å–ª–æ–≤–∞—Ä–µ, –∏—Å–ø–æ–ª—å–∑—É—è –∫–∞–∫ `*`, —Ç–∞–∫ –∏ `**`, –≤—ã –º–æ–∂–µ—Ç–µ –Ω–∞–ø–∏—Å–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é, –ø—Ä–∏–Ω–∏–º–∞—é—â—É—é –ª—é–±—É—é –∫–æ–º–±–∏–Ω–∞—Ü–∏—é –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤.
```python
# –ü–æ–ª—É—á–∞–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–∑–∏—Ü–∏–æ–Ω–Ω—ã—Ö –∏–ª–∏ –∫–ª—é—á–µ–≤—ã—Ö –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
def func(*args, **kwargs):
	# args ‚Äî –∫–æ—Ä—Ç–µ–∂ –ø–æ–∑–∏—Ü–∏–æ–Ω–Ω—ã—Ö –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
	# kwargs ‚Äî —Å–ª–æ–≤–∞—Ä—å –∫–ª—é—á–µ–≤—ã—Ö –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
	...
```

```python
def demonstrate_args(*args):
    """–î–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ *args"""
    print(f"–ü–æ–ª—É—á–µ–Ω–æ {len(args)} –ø–æ–∑–∏—Ü–∏–æ–Ω–Ω—ã—Ö –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤:")
    for i, arg in enumerate(args, 1):
        print(f"  –ê—Ä–≥—É–º–µ–Ω—Ç {i}: {arg} (—Ç–∏–ø: {type(arg).__name__})")
    
    return args  # *args —ç—Ç–æ –∫–æ—Ä—Ç–µ–∂

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ *args
print("=== –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è *args ===")
result1 = demonstrate_args()
result2 = demonstrate_args("–ø—Ä–∏–≤–µ—Ç")
result3 = demonstrate_args(1, 2, 3, "—á–µ—Ç—ã—Ä–µ", [5, 6])

def demonstrate_kwargs(**kwargs):
    """–î–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ **kwargs"""
    print(f"–ü–æ–ª—É—á–µ–Ω–æ {len(kwargs)} –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã—Ö –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤:")
    for key, value in kwargs.items():
        print(f"  {key} = {value} (—Ç–∏–ø: {type(value).__name__})")
    
    return kwargs  # **kwargs —ç—Ç–æ —Å–ª–æ–≤–∞—Ä—å

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ **kwargs
print("\n=== –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è **kwargs ===")
result4 = demonstrate_kwargs()
result5 = demonstrate_kwargs(name="–ê–Ω–Ω–∞", age=25)
result6 = demonstrate_kwargs(x=10, y=20, operation="add", debug=True)

def full_signature(required, default_param="default", *args, **kwargs):
    """–§—É–Ω–∫—Ü–∏—è —Å –ø–æ–ª–Ω–æ–π —Å–∏–≥–Ω–∞—Ç—É—Ä–æ–π"""
    print(f"–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä: {required}")
    print(f"–ü–∞—Ä–∞–º–µ—Ç—Ä –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: {default_param}")
    print(f"–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–æ–Ω–Ω—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã: {args}")
    print(f"–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã: {kwargs}")

print("\n=== –ü–æ–ª–Ω–∞—è —Å–∏–≥–Ω–∞—Ç—É—Ä–∞ ===")
full_signature("–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π")
print()
full_signature("–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π", "–∏–∑–º–µ–Ω–µ–Ω–Ω—ã–π", 1, 2, 3, extra1="–∑–Ω–∞—á–µ–Ω–∏–µ1", extra2="–∑–Ω–∞—á–µ–Ω–∏–µ2")

# –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

# 1. –ì–∏–±–∫–∏–π –ª–æ–≥–≥–µ—Ä
def log_message(level, message, *details, **options):
    """–ì–∏–±–∫–∞—è —Ñ—É–Ω–∫—Ü–∏—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è"""
    import datetime
    
    timestamp = datetime.datetime.now().strftime("%Y-%m-%d %H:%M:%S")
    
    # –û—Å–Ω–æ–≤–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
    log_entry = f"[{timestamp}] {level.upper()}: {message}"
    
    # –î–æ–±–∞–≤–ª—è–µ–º –¥–µ—Ç–∞–ª–∏
    if details:
        log_entry += f" | –î–µ—Ç–∞–ª–∏: {', '.join(map(str, details))}"
    
    # –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –æ–ø—Ü–∏–∏
    if options.get("include_caller", False):
        log_entry += f" | –í—ã–∑–≤–∞–Ω–æ –∏–∑: {options.get('caller', '–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ')}"
    
    if options.get("urgent", False):
        log_entry = "!!! " + log_entry + " !!!"
    
    print(log_entry)

print("\n=== –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ª–æ–≥–≥–µ—Ä–∞ ===")
log_message("info", "–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—â–µ–Ω–æ")
log_message("warning", "–ù–∏–∑–∫–∞—è –ø–∞–º—è—Ç—å", "RAM: 95%", "Swap: 80%")
log_message("error", "–û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è", include_caller=True, caller="database.py", urgent=True)

# 2. –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –≤—ã—á–∏—Å–ª–µ–Ω–∏–π
def calculate(*numbers, operation="sum", **options):
    """–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏–π"""
    
    if not numbers:
        return 0
    
    # –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —á–∏—Å–µ–ª (–æ–ø—Ü–∏—è)
    if options.get("only_positive", False):
        numbers = tuple(n for n in numbers if n > 0)
    
    if options.get("only_integers", False):
        numbers = tuple(n for n in numbers if isinstance(n, int))
    
    # –í—ã–ø–æ–ª–Ω—è–µ–º –æ–ø–µ—Ä–∞—Ü–∏—é
    if operation == "sum":
        result = sum(numbers)
    elif operation == "multiply":
        result = 1
        for num in numbers:
            result *= num
    elif operation == "average":
        result = sum(numbers) / len(numbers) if numbers else 0
    elif operation == "max":
        result = max(numbers) if numbers else None
    elif operation == "min":
        result = min(numbers) if numbers else None
    else:
        raise ValueError(f"–ù–µ–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è: {operation}")
    
    # –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ (–æ–ø—Ü–∏—è)
    if options.get("round_result"):
        result = round(result, options.get("decimal_places", 2))
    
    return result

print("\n=== –ü—Ä–∏–º–µ—Ä—ã —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏–π ===")
print(f"–°—É–º–º–∞: {calculate(1, 2, 3, 4, 5)}")
print(f"–ü—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ: {calculate(2, 3, 4, operation='multiply')}")
print(f"–°—Ä–µ–¥–Ω–µ–µ: {calculate(10, 20, 30, 40, operation='average', round_result=True)}")
print(f"–¢–æ–ª—å–∫–æ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ: {calculate(-1, 2, -3, 4, 5, only_positive=True)}")

# 3. –§—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è HTML —ç–ª–µ–º–µ–Ω—Ç–æ–≤
def create_html_element(tag, content="", *children, **attributes):
    """–°–æ–∑–¥–∞–µ—Ç HTML —ç–ª–µ–º–µ–Ω—Ç"""
    
    # –§–æ—Ä–º–∏—Ä—É–µ–º –∞—Ç—Ä–∏–±—É—Ç—ã
    attr_string = ""
    if attributes:
        attr_list = [f'{key.replace("_", "-")}="{value}"' for key, value in attributes.items()]
        attr_string = " " + " ".join(attr_list)
    
    # –§–æ—Ä–º–∏—Ä—É–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ
    full_content = str(content)
    if children:
        full_content += "".join(str(child) for child in children)
    
    # –°–∞–º–æ–∑–∞–∫—Ä—ã–≤–∞—é—â–∏–µ—Å—è —Ç–µ–≥–∏
    self_closing = ["br", "hr", "img", "input", "meta", "link"]
    
    if tag.lower() in self_closing:
        return f"<{tag}{attr_string} />"
    else:
        return f"<{tag}{attr_string}>{full_content}</{tag}>"

print("\n=== –ü—Ä–∏–º–µ—Ä—ã —Å–æ–∑–¥–∞–Ω–∏—è HTML ===")
print(create_html_element("p", "–û–±—ã—á–Ω—ã–π –ø–∞—Ä–∞–≥—Ä–∞—Ñ"))
print(create_html_element("div", "–ö–æ–Ω—Ç–µ–Ω—Ç", class_="container", id="main"))
print(create_html_element("a", "–°—Å—ã–ª–∫–∞", href="https://python.org", target="_blank"))
print(create_html_element("img", src="image.jpg", alt="–û–ø–∏—Å–∞–Ω–∏–µ", width="300"))

# –†–∞—Å–ø–∞–∫–æ–≤–∫–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –ø—Ä–∏ –≤—ã–∑–æ–≤–µ
def process_data(name, age, city, *hobbies, **additional_info):
    """–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"""
    print(f"–ò–º—è: {name}")
    print(f"–í–æ–∑—Ä–∞—Å—Ç: {age}")
    print(f"–ì–æ—Ä–æ–¥: {city}")
    
    if hobbies:
        print(f"–•–æ–±–±–∏: {', '.join(hobbies)}")
    
    if additional_info:
        print("–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:")
        for key, value in additional_info.items():
            print(f"  {key}: {value}")

print("\n=== –†–∞—Å–ø–∞–∫–æ–≤–∫–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ ===")

# –†–∞—Å–ø–∞–∫–æ–≤–∫–∞ —Å–ø–∏—Å–∫–∞/–∫–æ—Ä—Ç–µ–∂–∞ —Å *
user_data = ["–ê–Ω–Ω–∞", 25, "–ú–æ—Å–∫–≤–∞"]
user_hobbies = ["—á—Ç–µ–Ω–∏–µ", "–ø–ª–∞–≤–∞–Ω–∏–µ", "—Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è"]

process_data(*user_data, *user_hobbies, profession="–ü—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç", experience=3)

# –†–∞—Å–ø–∞–∫–æ–≤–∫–∞ —Å–ª–æ–≤–∞—Ä—è —Å **
user_info = {"name": "–ë–æ—Ä–∏—Å", "age": 30, "city": "–°–ü–±"}
extra_info = {"profession": "–î–∏–∑–∞–π–Ω–µ—Ä", "company": "TechCorp"}

process_data(**user_info, **extra_info)
```
---
#### üîπ –ó–∞–º—ã–∫–∞–Ω–∏—è (Closures)
```python
def create_multiplier(factor):
    """–°–æ–∑–¥–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é-—É–º–Ω–æ–∂–∏—Ç–µ–ª—å (–∑–∞–º—ã–∫–∞–Ω–∏–µ)"""
    
    def multiplier(number):
        """–í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è "–∑–∞–º—ã–∫–∞–µ—Ç" factor"""
        return number * factor
    
    # –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é (–Ω–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –µ–µ –≤—ã–∑–æ–≤–∞!)
    return multiplier

# –°–æ–∑–¥–∞–µ–º —Ä–∞–∑–ª–∏—á–Ω—ã–µ —É–º–Ω–æ–∂–∏—Ç–µ–ª–∏
multiply_by_2 = create_multiplier(2)
multiply_by_10 = create_multiplier(10)
multiply_by_100 = create_multiplier(100)

print("=== –ó–∞–º—ã–∫–∞–Ω–∏—è - —É–º–Ω–æ–∂–∏—Ç–µ–ª–∏ ===")
print(f"5 * 2 = {multiply_by_2(5)}")
print(f"5 * 10 = {multiply_by_10(5)}")
print(f"5 * 100 = {multiply_by_100(5)}")

# –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —ç—Ç–æ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —Ä–∞–∑–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
print(f"multiply_by_2: {multiply_by_2}")
print(f"multiply_by_10: {multiply_by_10}")

# –î–æ—Å—Ç—É–ø –∫ –∑–∞–º–∫–Ω—É—Ç—ã–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º —á–µ—Ä–µ–∑ __closure__
print(f"–ó–∞–º–∫–Ω—É—Ç–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ multiply_by_2: {multiply_by_2.__closure__[0].cell_contents}")
print(f"–ó–∞–º–∫–Ω—É—Ç–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ multiply_by_10: {multiply_by_10.__closure__[0].cell_contents}")

# –ë–æ–ª–µ–µ —Å–ª–æ–∂–Ω–æ–µ –∑–∞–º—ã–∫–∞–Ω–∏–µ: –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Ñ—É–Ω–∫—Ü–∏–π —Å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
def create_accumulator(initial_value=0):
    """–°–æ–∑–¥–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é-–∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä"""
    
    current_sum = initial_value
    
    def add(value):
        nonlocal current_sum
        current_sum += value
        return current_sum
    
    def subtract(value):
        nonlocal current_sum
        current_sum -= value
        return current_sum
    
    def get_current():
        return current_sum
    
    def reset(new_value=0):
        nonlocal current_sum
        current_sum = new_value
        return current_sum
    
    # –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Å–ª–æ–≤–∞—Ä—å —Å —Ñ—É–Ω–∫—Ü–∏—è–º–∏
    return {
        "add": add,
        "subtract": subtract,
        "get": get_current,
        "reset": reset
    }

print(f"\n=== –ê–∫–∫—É–º—É–ª—è—Ç–æ—Ä —Å –∑–∞–º—ã–∫–∞–Ω–∏–µ–º ===")
acc1 = create_accumulator(10)
acc2 = create_accumulator(100)

print(f"–ê–∫–∫—É–º—É–ª—è—Ç–æ—Ä 1 –Ω–∞—á–∞–ª—å–Ω–æ–µ: {acc1['get']()}")
print(f"–ê–∫–∫—É–º—É–ª—è—Ç–æ—Ä 1 +5: {acc1['add'](5)}")
print(f"–ê–∫–∫—É–º—É–ª—è—Ç–æ—Ä 1 +3: {acc1['add'](3)}")
print(f"–ê–∫–∫—É–º—É–ª—è—Ç–æ—Ä 1 -2: {acc1['subtract'](2)}")

print(f"–ê–∫–∫—É–º—É–ª—è—Ç–æ—Ä 2 –Ω–∞—á–∞–ª—å–Ω–æ–µ: {acc2['get']()}")
print(f"–ê–∫–∫—É–º—É–ª—è—Ç–æ—Ä 2 +20: {acc2['add'](20)}")

# –ó–∞–º—ã–∫–∞–Ω–∏–µ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–æ–≤
def create_range_validator(min_value, max_value):
    """–°–æ–∑–¥–∞–µ—Ç –≤–∞–ª–∏–¥–∞—Ç–æ—Ä –¥–∏–∞–ø–∞–∑–æ–Ω–∞"""
    
    def validate(value):
        """–ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ"""
        if min_value <= value <= max_value:
            return True, f"–ó–Ω–∞—á–µ–Ω–∏–µ {value} –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ"
        else:
            return False, f"–ó–Ω–∞—á–µ–Ω–∏–µ {value} –Ω–µ –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ [{min_value}, {max_value}]"
    
    # –î–æ–±–∞–≤–ª—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –¥–∏–∞–ø–∞–∑–æ–Ω–µ –∫ —Ñ—É–Ω–∫—Ü–∏–∏
    validate.min_value = min_value
    validate.max_value = max_value
    validate.__doc__ = f"–í–∞–ª–∏–¥–∞—Ç–æ—Ä –¥–∏–∞–ø–∞–∑–æ–Ω–∞ [{min_value}, {max_value}]"
    
    return validate

print(f"\n=== –í–∞–ª–∏–¥–∞—Ç–æ—Ä—ã –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤ ===")
age_validator = create_range_validator(0, 120)
percentage_validator = create_range_validator(0, 100)

test_values = [25, -5, 150, 50, 101]

print("–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–æ–∑—Ä–∞—Å—Ç–∞:")
for value in test_values:
    is_valid, message = age_validator(value)
    print(f"  {message}")

print("–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤:")
for value in test_values:
    is_valid, message = percentage_validator(value)
    print(f"  {message}")

# –ó–∞–º—ã–∫–∞–Ω–∏–µ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–≤
def create_retry_decorator(max_attempts=3, delay=1):
    """–°–æ–∑–¥–∞–µ—Ç –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫"""
    
    def retry_decorator(func):
        """–î–µ–∫–æ—Ä–∞—Ç–æ—Ä, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–≤—Ç–æ—Ä—è–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏"""
        
        def wrapper(*args, **kwargs):
            """–û–±–µ—Ä—Ç–∫–∞ —Å –ª–æ–≥–∏–∫–æ–π –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫"""
            import time
            import random
            
            for attempt in range(max_attempts):
                try:
                    print(f"–ü–æ–ø—ã—Ç–∫–∞ {attempt + 1}/{max_attempts}")
                    
                    # –ò–º–∏—Ç–∏—Ä—É–µ–º —Å–ª—É—á–∞–π–Ω—ã–µ –æ—à–∏–±–∫–∏ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏
                    if random.random() < 0.7:  # 70% –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –æ—à–∏–±–∫–∏
                        raise Exception(f"–°–ª—É—á–∞–π–Ω–∞—è –æ—à–∏–±–∫–∞ –≤ —Ñ—É–Ω–∫—Ü–∏–∏ {func.__name__}")
                    
                    result = func(*args, **kwargs)
                    print(f"–£—Å–ø–µ—à–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Å –ø–æ–ø—ã—Ç–∫–∏ {attempt + 1}")
                    return result
                    
                except Exception as e:
                    print(f"–û—à–∏–±–∫–∞: {e}")
                    if attempt < max_attempts - 1:
                        print(f"–ñ–¥–µ–º {delay} —Å–µ–∫—É–Ω–¥ –ø–µ—Ä–µ–¥ —Å–ª–µ–¥—É—é—â–µ–π –ø–æ–ø—ã—Ç–∫–æ–π...")
                        time.sleep(delay)
                    else:
                        print("–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫ –∏—Å—á–µ—Ä–ø–∞–Ω–æ")
                        raise
        
        return wrapper
    
    return retry_decorator

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞
@create_retry_decorator(max_attempts=3, delay=0.5)
def unreliable_function():
    """–ù–µ–Ω–∞–¥–µ–∂–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏"""
    print("–í—ã–ø–æ–ª–Ω—è—é –≤–∞–∂–Ω—É—é –æ–ø–µ—Ä–∞—Ü–∏—é...")
    return "–û–ø–µ—Ä–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ"

print(f"\n=== –î–µ–∫–æ—Ä–∞—Ç–æ—Ä —Å –ø–æ–≤—Ç–æ—Ä–Ω—ã–º–∏ –ø–æ–ø—ã—Ç–∫–∞–º–∏ ===")
try:
    result = unreliable_function()
    print(f"–†–µ–∑—É–ª—å—Ç–∞—Ç: {result}")
except Exception as e:
    print(f"–§–∏–Ω–∞–ª—å–Ω–∞—è –æ—à–∏–±–∫–∞: {e}")

# –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä: —Å–∏—Å—Ç–µ–º–∞ —Å–æ–±—ã—Ç–∏–π —Å –∑–∞–º—ã–∫–∞–Ω–∏—è–º–∏
def create_event_system():
    """–°–æ–∑–¥–∞–µ—Ç —Å–∏—Å—Ç–µ–º—É —Å–æ–±—ã—Ç–∏–π —Å –∑–∞–º—ã–∫–∞–Ω–∏—è–º–∏"""
    
    # –°–ª–æ–≤–∞—Ä—å –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π
    event_handlers = {}
    
    def subscribe(event_name, handler):
        """–ü–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –Ω–∞ —Å–æ–±—ã—Ç–∏–µ"""
        if event_name not in event_handlers:
            event_handlers[event_name] = []
        event_handlers[event_name].append(handler)
        print(f"–ü–æ–¥–ø–∏—Å–∞–ª–∏—Å—å –Ω–∞ —Å–æ–±—ã—Ç–∏–µ '{event_name}': {handler.__name__}")
    
    def unsubscribe(event_name, handler):
        """–û—Ç–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –æ—Ç —Å–æ–±—ã—Ç–∏—è"""
        if event_name in event_handlers:
            try:
                event_handlers[event_name].remove(handler)
                print(f"–û—Ç–ø–∏—Å–∞–ª–∏—Å—å –æ—Ç —Å–æ–±—ã—Ç–∏—è '{event_name}': {handler.__name__}")
            except ValueError:
                print(f"–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–µ –Ω–∞–π–¥–µ–Ω –¥–ª—è —Å–æ–±—ã—Ç–∏—è '{event_name}'")
    
    def emit(event_name, *args, **kwargs):
        """–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–æ–±—ã—Ç–∏–µ"""
        print(f"–ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å–æ–±—ã—Ç–∏–µ '{event_name}' —Å –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏: {args}, {kwargs}")
        
        if event_name in event_handlers:
            for handler in event_handlers[event_name]:
                try:
                    handler(*args, **kwargs)
                except Exception as e:
                    print(f"–û—à–∏–±–∫–∞ –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–µ {handler.__name__}: {e}")
        else:
            print(f"–ù–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –¥–ª—è —Å–æ–±—ã—Ç–∏—è '{event_name}'")
    
    def list_events():
        """–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ —Å–æ–±—ã—Ç–∏—è –∏ –∏—Ö –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏"""
        print("–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è:")
        for event_name, handlers in event_handlers.items():
            handler_names = [h.__name__ for h in handlers]
            print(f"  {event_name}: {handler_names}")
    
    return {
        "subscribe": subscribe,
        "unsubscribe": unsubscribe,
        "emit": emit,
        "list_events": list_events
    }

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã —Å–æ–±—ã—Ç–∏–π
print(f"\n=== –°–∏—Å—Ç–µ–º–∞ —Å–æ–±—ã—Ç–∏–π —Å –∑–∞–º—ã–∫–∞–Ω–∏—è–º–∏ ===")
events = create_event_system()

# –°–æ–∑–¥–∞–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
def user_login_handler(username):
    print(f"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å {username} –≤–æ—à–µ–ª –≤ —Å–∏—Å—Ç–µ–º—É")

def user_login_logger(username):
    print(f"–õ–æ–≥: –≤—Ö–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è {username}")

def user_logout_handler(username):
    print(f"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å {username} –≤—ã—à–µ–ª –∏–∑ —Å–∏—Å—Ç–µ–º—ã")

# –ü–æ–¥–ø–∏—Å—ã–≤–∞–µ–º—Å—è –Ω–∞ —Å–æ–±—ã—Ç–∏—è
events["subscribe"]("user_login", user_login_handler)
events["subscribe"]("user_login", user_login_logger)
events["subscribe"]("user_logout", user_logout_handler)

# –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å–æ–±—ã—Ç–∏—è
events["emit"]("user_login", "–ê–Ω–Ω–∞")
events["emit"]("user_logout", "–ë–æ—Ä–∏—Å")
events["emit"]("unknown_event", "test")

events["list_events"]()
```

> –ó–∞–º—ã–∫–∞–Ω–∏—è –∏ –≤–ª–æ–∂–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ–ª–µ–∑–Ω—ã –ø—Ä–∏ –Ω–∞–ø–∏—Å–∞–Ω–∏–∏ –∫–æ–¥–∞, –æ—Å–Ω–æ–≤–∞–Ω–Ω–æ–≥–æ –Ω–∞ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ –æ—Ç–ª–æ–∂–µ–Ω–Ω–æ–≥–æ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è. –û–Ω–∞ –ø–æ–ª—É—á–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –Ω–µ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ, –∞ –≤ –∫–∞–∫–æ–π-—Ç–æ –º–æ–º–µ–Ω—Ç –≤ –±—É–¥—É—â–µ–º. –≠—Ç–æ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–π –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è –∏ –≤ –¥—Ä—É–≥–∏—Ö –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞—Ö. –ù–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–æ–≥—Ä–∞–º–º–∞ –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –∫–∞–∫–∏—Ö-—Ç–æ —Å–æ–±—ã—Ç–∏–π ‚Äî –Ω–∞–∂–∞—Ç–∏–π –∫–ª–∞–≤–∏—à, –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–π –º—ã—à–∏, –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è —Å–µ—Ç–µ–≤—ã—Ö –ø–∞–∫–µ—Ç–æ–≤ –∏ —Ç. –¥. –í–æ –≤—Å–µ—Ö —ç—Ç–∏—Ö —Å–ª—É—á–∞—è—Ö –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –æ—Ç–∫–ª–∞–¥—ã–≤–∞–µ—Ç—Å—è –¥–æ –º–æ–º–µ–Ω—Ç–∞, –∫–æ–≥–¥–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —á—Ç–æ-—Ç–æ –≤–∞–∂–Ω–æ–µ. –ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ –∑–∞–º—ã–∫–∞–Ω–∏–µ –æ–±–µ—Å–ø–µ—á–∏—Ç –µ–µ –≤—Å–µ–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π.

–ú–æ–∂–Ω–æ –ø–∏—Å–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–∑–¥–∞—é—Ç –∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –¥—Ä—É–≥–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏:
```python
def make_greeting(name):
	def greeting():
		print('Hello', name)
	return greeting

f = make_greeting('Guido')
g = make_greeting('Ada')

f() # –í—ã–≤–æ–¥–∏—Ç: 'Hello Guido'
g() # –í—ã–≤–æ–¥–∏—Ç: 'Hello Ada'

```

–ó–¥–µ—Å—å `make_greeting()` –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –Ω–∏–∫–∞–∫–∏—Ö —Å–æ–¥–µ—Ä–∂–∞—Ç–µ–ª—å–Ω—ã—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π. –û–Ω–∞ —Å–æ–∑–¥–∞–µ—Ç –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é `greeting()`, –∫–æ—Ç–æ—Ä–∞—è –¥–µ–ª–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—É—é —Ä–∞–±–æ—Ç—É. –≠—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ —ç—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –≤ –±—É–¥—É—â–µ–º. –í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ –¥–≤–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ `f` –∏ `g` —Å–æ–¥–µ—Ä–∂–∞—Ç –¥–≤–µ —Ä–∞–∑–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ —Ñ—É–Ω–∫—Ü–∏–∏ `greeting()`. –ò —Ö–æ—Ç—è `make_greeting()`, —Å–æ–∑–¥–∞–≤—à–∞—è —ç—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–∏, —É–∂–µ –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è, `greeting()` –≤—Å–µ –µ—â–µ –ø–æ–º–Ω–∏—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é name, –∫–æ—Ç–æ—Ä–∞—è –±—ã–ª–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞.–û–Ω–∞ ‚Äî —á–∞—Å—Ç—å –∑–∞–º—ã–∫–∞–Ω–∏—è –∫–∞–∂–¥–æ–π —Ñ—É–Ω–∫—Ü–∏–∏

---
#### üîπ –î–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã

> **–î–µ–∫–æ—Ä–∞—Ç–æ—Ä** ‚Äî —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è, —Å–æ–∑–¥–∞—é—â–∞—è –æ–±–µ—Ä—Ç–∫—É –¥–ª—è –¥—Ä—É–≥–æ–π —Ñ—É–Ω–∫—Ü–∏–∏. –ï–µ –≥–ª–∞–≤–Ω–∞—è —Ü–µ–ª—å ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∏–ª–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –ø–æ–≤–µ–¥–µ–Ω–∏—è —É–ø–∞–∫–æ–≤–∞–Ω–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞. –î–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã –æ–±–æ–∑–Ω–∞—á–∞—é—Ç—Å—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–º —Å–∏–º–≤–æ–ª–æ–º `@`.

```python
@decorate
def func(x):
	pass

# –ü—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã–π –∫–æ–¥ ‚Äî —Å–æ–∫—Ä–∞—â–µ–Ω–Ω–∞—è –∑–∞–ø–∏—Å—å —Å–ª–µ–¥—É—é—â–µ–≥–æ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞:

def func(x):
	pass
func = decorate(func)

# –ó–¥–µ—Å—å –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏—è func(). –ù–æ —Å—Ä–∞–∑—É –∂–µ –ø–æ—Å–ª–µ –µ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å–∞–º –æ–±—ä–µ–∫—Ç —Ñ—É–Ω–∫—Ü–∏–∏ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏–∏ decorate(), –∫–æ—Ç–æ—Ä–∞—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç, –∑–∞–º–µ–Ω—è—é—â–∏–π –∏—Å—Ö–æ–¥–Ω—É—é –≤–µ—Ä—Å–∏—é func.


# –ö —Ñ—É–Ω–∫—Ü–∏–∏ –º–æ–∂–Ω–æ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–≤
@decorator1
@decorator2
def func(x):
	pass
	
# –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è —Ç–∞–∫	
def func(x):
	pass

func = decorator1(decorator2(func))

# –ü–æ—Ä—è–¥–æ–∫ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–≤ –≤–∞–∂–µ–Ω
```
##### üî∏ –û—Å–Ω–æ–≤—ã –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–≤
```python
# –ü—Ä–æ—Å—Ç–µ–π—à–∏–π –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä
def simple_decorator(func):
    """–ü—Ä–æ—Å—Ç–æ–π –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä, –∫–æ—Ç–æ—Ä—ã–π –¥–æ–±–∞–≤–ª—è–µ—Ç –ø–µ—á–∞—Ç—å –¥–æ –∏ –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏"""
    
    def wrapper(*args, **kwargs):
        print(f"–í—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ {func.__name__}")
        result = func(*args, **kwargs)
        print(f"–§—É–Ω–∫—Ü–∏—è {func.__name__} –∑–∞–≤–µ—Ä—à–µ–Ω–∞")
        return result
    
    return wrapper

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞ —Å —Å–∏–º–≤–æ–ª–æ–º @
@simple_decorator
def greet(name):
    """–ü—Ä–æ—Å—Ç–æ–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ"""
    print(f"–ü—Ä–∏–≤–µ—Ç, {name}!")
    return f"–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –¥–ª—è {name}"

# –≠–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ: greet = simple_decorator(greet)

print("=== –ü—Ä–æ—Å—Ç–æ–π –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä ===")
result = greet("–ê–Ω–Ω–∞")
print(f"–†–µ–∑—É–ª—å—Ç–∞—Ç: {result}")

# –î–µ–∫–æ—Ä–∞—Ç–æ—Ä —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–∏
import functools

def better_decorator(func):
    """–î–µ–∫–æ—Ä–∞—Ç–æ—Ä —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏"""
    
    @functools.wraps(func)  # –°–æ—Ö—Ä–∞–Ω—è–µ—Ç __name__, __doc__ –∏ –¥—Ä—É–≥–∏–µ –∞—Ç—Ä–∏–±—É—Ç—ã
    def wrapper(*args, **kwargs):
        print(f"[–î–ï–ö–û–†–ê–¢–û–†] –ù–∞—á–∞–ª–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è {func.__name__}")
        
        try:
            result = func(*args, **kwargs)
            print(f"[–î–ï–ö–û–†–ê–¢–û–†] {func.__name__} –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ")
            return result
        except Exception as e:
            print(f"[–î–ï–ö–û–†–ê–¢–û–†] –û—à–∏–±–∫–∞ –≤ {func.__name__}: {e}")
            raise
    
    return wrapper

@better_decorator
def calculate_square(number):
    """–í—ã—á–∏—Å–ª—è–µ—Ç –∫–≤–∞–¥—Ä–∞—Ç —á–∏—Å–ª–∞"""
    if not isinstance(number, (int, float)):
        raise ValueError("–ê—Ä–≥—É–º–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —á–∏—Å–ª–æ–º")
    return number ** 2

print(f"\n=== –î–µ–∫–æ—Ä–∞—Ç–æ—Ä —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏ ===")
print(f"–ò–º—è —Ñ—É–Ω–∫—Ü–∏–∏: {calculate_square.__name__}")
print(f"–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: {calculate_square.__doc__}")

result = calculate_square(5)
print(f"5¬≤ = {result}")

try:
    calculate_square("text")
except ValueError as e:
    print(f"–û—à–∏–±–∫–∞: {e}")

# –î–µ–∫–æ—Ä–∞—Ç–æ—Ä –¥–ª—è –∏–∑–º–µ—Ä–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
import time

def timing_decorator(func):
    """–î–µ–∫–æ—Ä–∞—Ç–æ—Ä –¥–ª—è –∏–∑–º–µ—Ä–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏"""
    
    @functools.wraps(func)
    def wrapper(*args, **kwargs):
        start_time = time.time()
        result = func(*args, **kwargs)
        end_time = time.time()
        
        execution_time = end_time - start_time
        print(f"[–í–†–ï–ú–Ø] {func.__name__} –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –∑–∞ {execution_time:.4f} —Å–µ–∫—É–Ω–¥")
        
        return result
    
    return wrapper

@timing_decorator
def slow_function():
    """–ú–µ–¥–ª–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏"""
    time.sleep(0.1)  # –ò–º–∏—Ç–∏—Ä—É–µ–º –º–µ–¥–ª–µ–Ω–Ω—É—é –æ–ø–µ—Ä–∞—Ü–∏—é
    return "–û–ø–µ—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞"

print(f"\n=== –î–µ–∫–æ—Ä–∞—Ç–æ—Ä –≤—Ä–µ–º–µ–Ω–∏ ===")
result = slow_function()

# –î–µ–∫–æ—Ä–∞—Ç–æ—Ä –¥–ª—è –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
def cache_decorator(func):
    """–î–µ–∫–æ—Ä–∞—Ç–æ—Ä –¥–ª—è –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏"""
    
    cache = {}  # –ö–µ—à –≤–Ω—É—Ç—Ä–∏ –∑–∞–º—ã–∫–∞–Ω–∏—è
    
    @functools.wraps(func)
    def wrapper(*args, **kwargs):
        # –°–æ–∑–¥–∞–µ–º –∫–ª—é—á –∏–∑ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
        key = str(args) + str(sorted(kwargs.items()))
        
        if key in cache:
            print(f"[–ö–ï–®] –†–µ–∑—É–ª—å—Ç–∞—Ç –¥–ª—è {func.__name__}{args} –≤–∑—è—Ç –∏–∑ –∫–µ—à–∞")
            return cache[key]
        
        print(f"[–ö–ï–®] –í—ã—á–∏—Å–ª—è–µ–º {func.__name__}{args}")
        result = func(*args, **kwargs)
        cache[key] = result
        
        print(f"[–ö–ï–®] –ö–µ—à —Å–æ–¥–µ—Ä–∂–∏—Ç {len(cache)} –∑–∞–ø–∏—Å–µ–π")
        return result
    
    # –î–æ–±–∞–≤–ª—è–µ–º –º–µ—Ç–æ–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–µ—à–µ–º
    wrapper.cache_clear = lambda: cache.clear()
    wrapper.cache_info = lambda: {"size": len(cache), "keys": list(cache.keys())}
    
    return wrapper

@cache_decorator
def fibonacci(n):
    """–í—ã—á–∏—Å–ª—è–µ—Ç —á–∏—Å–ª–æ –§–∏–±–æ–Ω–∞—á—á–∏ (–º–µ–¥–ª–µ–Ω–Ω–∞—è —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–∞—è –≤–µ—Ä—Å–∏—è)"""
    if n < 2:
        return n
    return fibonacci(n - 1) + fibonacci(n - 2)

print(f"\n=== –î–µ–∫–æ—Ä–∞—Ç–æ—Ä –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è ===")
print(f"fibonacci(10) = {fibonacci(10)}")
print(f"fibonacci(10) –µ—â–µ —Ä–∞–∑ = {fibonacci(10)}")  # –ò–∑ –∫–µ—à–∞
print(f"–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–µ—à–µ: {fibonacci.cache_info()}")

# –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã
def uppercase_decorator(func):
    """–ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –≤–µ—Ä—Ö–Ω–∏–π —Ä–µ–≥–∏—Å—Ç—Ä"""
    @functools.wraps(func)
    def wrapper(*args, **kwargs):
        result = func(*args, **kwargs)
        if isinstance(result, str):
            return result.upper()
        return result
    return wrapper

def exclamation_decorator(func):
    """–î–æ–±–∞–≤–ª—è–µ—Ç –≤–æ—Å–∫–ª–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ –∑–Ω–∞–∫–∏ –∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É"""
    @functools.wraps(func)
    def wrapper(*args, **kwargs):
        result = func(*args, **kwargs)
        if isinstance(result, str):
            return f"!!! {result} !!!"
        return result
    return wrapper

@exclamation_decorator
@uppercase_decorator
@timing_decorator
def get_greeting(name):
    """–°–æ–∑–¥–∞–µ—Ç –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ"""
    return f"–ü—Ä–∏–≤–µ—Ç, {name}"

print(f"\n=== –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã ===")
result = get_greeting("–º–∏—Ä")
print(f"–†–µ–∑—É–ª—å—Ç–∞—Ç: {result}")

# –î–µ–∫–æ—Ä–∞—Ç–æ—Ä –∫–ª–∞—Å—Å–∞ –¥–ª—è –ø–æ–¥—Å—á–µ—Ç–∞ –≤—ã–∑–æ–≤–æ–≤ –º–µ—Ç–æ–¥–æ–≤
def count_calls(func):
    """–î–µ–∫–æ—Ä–∞—Ç–æ—Ä –¥–ª—è –ø–æ–¥—Å—á–µ—Ç–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –≤—ã–∑–æ–≤–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏"""
    
    @functools.wraps(func)
    def wrapper(*args, **kwargs):
        wrapper.call_count += 1
        print(f"[–°–ß–ï–¢–ß–ò–ö] {func.__name__} –≤—ã–∑–≤–∞–Ω–∞ {wrapper.call_count} —Ä–∞–∑(–∞)")
        return func(*args, **kwargs)
    
    wrapper.call_count = 0
    return wrapper

class Calculator:
    """–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å –¥–µ–∫–æ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –º–µ—Ç–æ–¥–∞–º–∏"""
    
    @count_calls
    def add(self, a, b):
        """–°–ª–æ–∂–µ–Ω–∏–µ"""
        return a + b
    
    @count_calls 
    def multiply(self, a, b):
        """–£–º–Ω–æ–∂–µ–Ω–∏–µ"""
        return a * b

print(f"\n=== –î–µ–∫–æ—Ä–∞—Ç–æ—Ä –¥–ª—è –º–µ—Ç–æ–¥–æ–≤ –∫–ª–∞—Å—Å–∞ ===")
calc = Calculator()

print(f"2 + 3 = {calc.add(2, 3)}")
print(f"4 + 5 = {calc.add(4, 5)}")
print(f"2 * 6 = {calc.multiply(2, 6)}")
print(f"3 * 7 = {calc.multiply(3, 7)}")
print(f"8 + 9 = {calc.add(8, 9)}")

# –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—á–µ—Ç—á–∏–∫–∏
print(f"add –≤—ã–∑–≤–∞–Ω–∞ {calc.add.call_count} —Ä–∞–∑")
print(f"multiply –≤—ã–∑–≤–∞–Ω–∞ {calc.multiply.call_count} —Ä–∞–∑")
```

##### üî∏ –ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã
```python
def retry_decorator(max_attempts=3, exceptions=(Exception,)):
    """–î–µ–∫–æ—Ä–∞—Ç–æ—Ä –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏"""
    
    def decorator(func):
        @functools.wraps(func)
        def wrapper(*args, **kwargs):
            last_exception = None
            
            for attempt in range(max_attempts):
                try:
                    print(f"[–ü–û–í–¢–û–†] –ü–æ–ø—ã—Ç–∫–∞ {attempt + 1}/{max_attempts} –¥–ª—è {func.__name__}")
                    result = func(*args, **kwargs)
                    if attempt > 0:
                        print(f"[–ü–û–í–¢–û–†] –£—Å–ø–µ—Ö —Å –ø–æ–ø—ã—Ç–∫–∏ {attempt + 1}")
                    return result
                    
                except exceptions as e:
                    last_exception = e
                    print(f"[–ü–û–í–¢–û–†] –û—à–∏–±–∫–∞: {e}")
                    if attempt < max_attempts - 1:
                        print(f"[–ü–û–í–¢–û–†] –ü–æ–≤—Ç–æ—Ä—è–µ–º...")
                    else:
                        print(f"[–ü–û–í–¢–û–†] –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫ –∏—Å—á–µ—Ä–ø–∞–Ω–æ")
            
            # –ï—Å–ª–∏ –≤—Å–µ –ø–æ–ø—ã—Ç–∫–∏ –Ω–µ—É–¥–∞—á–Ω—ã, –ø–æ–¥–Ω–∏–º–∞–µ–º –ø–æ—Å–ª–µ–¥–Ω—é—é –æ—à–∏–±–∫—É
            raise last_exception
        
        return wrapper
    
    return decorator

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
@retry_decorator(max_attempts=3, exceptions=(ValueError, TypeError))
def unreliable_division(a, b):
    """–ù–µ–Ω–∞–¥–µ–∂–Ω–æ–µ –¥–µ–ª–µ–Ω–∏–µ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏"""
    import random
    
    if random.random() < 0.6:  # 60% –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –æ—à–∏–±–∫–∏
        raise ValueError("–°–ª—É—á–∞–π–Ω–∞—è –æ—à–∏–±–∫–∞ –¥–µ–ª–µ–Ω–∏—è")
    
    if b == 0:
        raise ZeroDivisionError("–î–µ–ª–µ–Ω–∏–µ –Ω–∞ –Ω–æ–ª—å")
    
    return a / b

print("=== –ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä ===")
try:
    result = unreliable_division(10, 2)
    print(f"–†–µ–∑—É–ª—å—Ç–∞—Ç: {result}")
except Exception as e:
    print(f"–§–∏–Ω–∞–ª—å–Ω–∞—è –æ—à–∏–±–∫–∞: {e}")

# –î–µ–∫–æ—Ä–∞—Ç–æ—Ä —Å –≥–∏–±–∫–∏–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
def validate_types(**expected_types):
    """–î–µ–∫–æ—Ä–∞—Ç–æ—Ä –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤"""
    
    def decorator(func):
        @functools.wraps(func)
        def wrapper(*args, **kwargs):
            # –ü–æ–ª—É—á–∞–µ–º –∏–º–µ–Ω–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏
            import inspect
            sig = inspect.signature(func)
            bound_args = sig.bind(*args, **kwargs)
            bound_args.apply_defaults()
            
            # –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ç–∏–ø—ã
            for param_name, expected_type in expected_types.items():
                if param_name in bound_args.arguments:
                    actual_value = bound_args.arguments[param_name]
                    if not isinstance(actual_value, expected_type):
                        raise TypeError(
                            f"–ü–∞—Ä–∞–º–µ—Ç—Ä '{param_name}' –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ç–∏–ø–∞ {expected_type.__name__}, "
                            f"–ø–æ–ª—É—á–µ–Ω {type(actual_value).__name__}"
                        )
            
            return func(*args, **kwargs)
        
        return wrapper
    
    return decorator

@validate_types(name=str, age=int, height=float)
def create_person_info(name, age, height=1.75):
    """–°–æ–∑–¥–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —á–µ–ª–æ–≤–µ–∫–µ —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π —Ç–∏–ø–æ–≤"""
    return f"–ò–º—è: {name}, –í–æ–∑—Ä–∞—Å—Ç: {age}, –†–æ—Å—Ç: {height}–º"

print(f"\n=== –í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–∏–ø–æ–≤ ===")
print(create_person_info("–ê–Ω–Ω–∞", 25, 1.68))
print(create_person_info("–ë–æ—Ä–∏—Å", 30))  # height –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

try:
    create_person_info("–í–∏–∫—Ç–æ—Ä", "—Ç—Ä–∏–¥—Ü–∞—Ç—å")  # –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ç–∏–ø –¥–ª—è age
except TypeError as e:
    print(f"–û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏: {e}")

# –î–µ–∫–æ—Ä–∞—Ç–æ—Ä –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —á–∞—Å—Ç–æ—Ç—ã –≤—ã–∑–æ–≤–æ–≤
def rate_limit(calls_per_second=1):
    """–î–µ–∫–æ—Ä–∞—Ç–æ—Ä –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —á–∞—Å—Ç–æ—Ç—ã –≤—ã–∑–æ–≤–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏"""
    
    def decorator(func):
        last_call_time = 0
        min_interval = 1.0 / calls_per_second
        
        @functools.wraps(func)
        def wrapper(*args, **kwargs):
            nonlocal last_call_time
            
            current_time = time.time()
            time_since_last_call = current_time - last_call_time
            
            if time_since_last_call < min_interval:
                sleep_time = min_interval - time_since_last_call
                print(f"[–õ–ò–ú–ò–¢] –û–∂–∏–¥–∞–Ω–∏–µ {sleep_time:.2f} —Å–µ–∫ –¥–ª—è —Å–æ–±–ª—é–¥–µ–Ω–∏—è –ª–∏–º–∏—Ç–∞")
                time.sleep(sleep_time)
            
            last_call_time = time.time()
            print(f"[–õ–ò–ú–ò–¢] –í—ã–ø–æ–ª–Ω—è–µ–º {func.__name__}")
            return func(*args, **kwargs)
        
        return wrapper
    
    return decorator

@rate_limit(calls_per_second=2)  # –ú–∞–∫—Å–∏–º—É–º 2 –≤—ã–∑–æ–≤–∞ –≤ —Å–µ–∫—É–Ω–¥—É
def api_call(endpoint):
    """–ò–º–∏—Ç–∞—Ü–∏—è API –≤—ã–∑–æ–≤–∞"""
    return f"–î–∞–Ω–Ω—ã–µ –æ—Ç {endpoint}"

print(f"\n=== –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —á–∞—Å—Ç–æ—Ç—ã –≤—ã–∑–æ–≤–æ–≤ ===")
for i in range(3):
    result = api_call(f"endpoint_{i}")
    print(f"–†–µ–∑—É–ª—å—Ç–∞—Ç: {result}")

# –î–µ–∫–æ—Ä–∞—Ç–æ—Ä –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è —Å —É—Ä–æ–≤–Ω—è–º–∏
def log_calls(level="INFO", include_args=True, include_result=True):
    """–î–µ–∫–æ—Ä–∞—Ç–æ—Ä –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –≤—ã–∑–æ–≤–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π"""
    
    def decorator(func):
        @functools.wraps(func)
        def wrapper(*args, **kwargs):
            import datetime
            
            timestamp = datetime.datetime.now().strftime("%H:%M:%S")
            log_message = f"[{timestamp}] [{level}] –í—ã–∑–æ–≤ {func.__name__}"
            
            if include_args:
                args_str = ", ".join([repr(arg) for arg in args])
                kwargs_str = ", ".join([f"{k}={repr(v)}" for k, v in kwargs.items()])
                all_args = ", ".join(filter(None, [args_str, kwargs_str]))
                if all_args:
                    log_message += f"({all_args})"
            
            print(log_message)
            
            try:
                result = func(*args, **kwargs)
                
                if include_result:
                    print(f"[{timestamp}] [{level}] {func.__name__} –≤–µ—Ä–Ω—É–ª–∞: {repr(result)}")
                
                return result
                
            except Exception as e:
                print(f"[{timestamp}] [ERROR] {func.__name__} –≤—ã–∑–≤–∞–ª–∞ –æ—à–∏–±–∫—É: {e}")
                raise
        
        return wrapper
    
    return decorator

@log_calls(level="DEBUG", include_args=True, include_result=True)
def process_data(data, multiplier=1, format_output=False):
    """–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –æ–ø—Ü–∏—è–º–∏"""
    result = [x * multiplier for x in data]
    
    if format_output:
        return f"–û–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ: {result}"
    
    return result

print(f"\n=== –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–∑–æ–≤–æ–≤ ===")
result1 = process_data([1, 2, 3, 4], multiplier=2)
result2 = process_data([5, 6], multiplier=3, format_output=True)

# –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–≤
@log_calls(level="INFO", include_result=False)
@timing_decorator
@retry_decorator(max_attempts=2)
def complex_operation(x, y):
    """–°–ª–æ–∂–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞–º–∏"""
    import random
    
    if random.random() < 0.3:  # 30% –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –æ—à–∏–±–∫–∏
        raise RuntimeError("–°–ª—É—á–∞–π–Ω–∞—è –æ—à–∏–±–∫–∞ –≤ –æ–ø–µ—Ä–∞—Ü–∏–∏")
    
    time.sleep(0.05)  # –ò–º–∏—Ç–∏—Ä—É–µ–º —Ä–∞–±–æ—Ç—É
    return x ** y

print(f"\n=== –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã ===")
try:
    result = complex_operation(2, 3)
    print(f"–§–∏–Ω–∞–ª—å–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: {result}")
except Exception as e:
    print(f"–û–ø–µ—Ä–∞—Ü–∏—è –Ω–µ —É–¥–∞–ª–∞—Å—å: {e}")
```
---
#### üîπ –õ—è–º–±–¥–∞-—Ñ—É–Ω–∫—Ü–∏–∏
##### üî∏ –û—Å–Ω–æ–≤—ã –ª—è–º–±–¥–∞-—Ñ—É–Ω–∫—Ü–∏–π
```python
# –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –æ–±—ã—á–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –ª—è–º–±–¥–∞-—Ñ—É–Ω–∫—Ü–∏–∏
def square_regular(x):
    """–û–±—ã—á–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –≤–æ–∑–≤–µ–¥–µ–Ω–∏—è –≤ –∫–≤–∞–¥—Ä–∞—Ç"""
    return x ** 2

square_lambda = lambda x: x ** 2

print("=== –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –æ–±—ã—á–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –ª—è–º–±–¥–∞-—Ñ—É–Ω–∫—Ü–∏–∏ ===")
print(f"–û–±—ã—á–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è: {square_regular(5)}")
print(f"–õ—è–º–±–¥–∞-—Ñ—É–Ω–∫—Ü–∏—è: {square_lambda(5)}")

# –†–∞–∑–ª–∏—á–∏—è –º–µ–∂–¥—É —Ñ—É–Ω–∫—Ü–∏—è–º–∏
print(f"–ò–º—è –æ–±—ã—á–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏: {square_regular.__name__}")
print(f"–ò–º—è –ª—è–º–±–¥–∞-—Ñ—É–Ω–∫—Ü–∏–∏: {square_lambda.__name__}")

# –õ—è–º–±–¥–∞ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏
multiply = lambda x, y: x * y
add_three = lambda x, y, z: x + y + z

print(f"–£–º–Ω–æ–∂–µ–Ω–∏–µ: {multiply(3, 4)}")
print(f"–°–ª–æ–∂–µ–Ω–∏–µ —Ç—Ä–µ—Ö —á–∏—Å–µ–ª: {add_three(1, 2, 3)}")

# –õ—è–º–±–¥–∞ —Å —É—Å–ª–æ–≤–Ω—ã–º–∏ –≤—ã—Ä–∞–∂–µ–Ω–∏—è–º–∏
max_of_two = lambda a, b: a if a > b else b
is_even = lambda n: n % 2 == 0
absolute_value = lambda x: x if x >= 0 else -x

print(f"–ú–∞–∫—Å–∏–º—É–º –∏–∑ 10 –∏ 7: {max_of_two(10, 7)}")
print(f"15 —á–µ—Ç–Ω–æ–µ? {is_even(15)}")
print(f"–ú–æ–¥—É–ª—å -8: {absolute_value(-8)}")

# –õ—è–º–±–¥–∞ —Å–æ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
greet = lambda name, greeting="–ü—Ä–∏–≤–µ—Ç": f"{greeting}, {name}!"
power = lambda x, p=2: x ** p

print(f"–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ: {greet('–ê–Ω–Ω–∞')}")
print(f"–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º: {greet('–ë–æ—Ä–∏—Å', '–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å')}")
print(f"–°—Ç–µ–ø–µ–Ω—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: {power(3)}")
print(f"–¢—Ä–µ—Ç—å—è —Å—Ç–µ–ø–µ–Ω—å: {power(3, 3)}")

# –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ª—è–º–±–¥–∞-—Ñ—É–Ω–∫—Ü–∏–π
# 1. –¢–æ–ª—å–∫–æ –æ–¥–Ω–æ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ (–Ω–µ statement)
# 2. –ù–µ—Ç –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–π
# 3. –ù–µ—Ç —Ü–∏–∫–ª–æ–≤
# 4. –ù–µ—Ç print (—ç—Ç–æ statement, –Ω–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ)

# –í–º–µ—Å—Ç–æ print –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç—Ä—é–∫ —Å or
debug_lambda = lambda x: print(f"Debug: {x}") or x  # print –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç None

result = debug_lambda("—Ç–µ—Å—Ç–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ")
print(f"–†–µ–∑—É–ª—å—Ç–∞—Ç debug_lambda: {result}")

# –õ—è–º–±–¥–∞-—Ñ—É–Ω–∫—Ü–∏–∏ –≤ –∫–æ–ª–ª–µ–∫—Ü–∏—è—Ö
operations = {
    'add': lambda x, y: x + y,
    'subtract': lambda x, y: x - y,
    'multiply': lambda x, y: x * y,
    'divide': lambda x, y: x / y if y != 0 else float('inf')
}

print(f"\n=== –õ—è–º–±–¥–∞ –≤ —Å–ª–æ–≤–∞—Ä–µ ===")
for op_name, operation in operations.items():
    result = operation(10, 3)
    print(f"{op_name}(10, 3) = {result}")

# –°–ø–∏—Å–æ–∫ –ª—è–º–±–¥–∞-—Ñ—É–Ω–∫—Ü–∏–π –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫
validators = [
    ('–ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–µ', lambda x: x > 0),
    ('–ß–µ—Ç–Ω–æ–µ', lambda x: x % 2 == 0),
    ('–ë–æ–ª—å—à–µ 100', lambda x: x > 100),
    ('–°—Ç–µ–ø–µ–Ω—å –¥–≤–æ–π–∫–∏', lambda x: x > 0 and (x & (x - 1)) == 0)
]

test_numbers = [5, 128, -3, 42, 256, 0]

print(f"\n=== –í–∞–ª–∏–¥–∞—Ü–∏—è —Å –ª—è–º–±–¥–∞-—Ñ—É–Ω–∫—Ü–∏—è–º–∏ ===")
for number in test_numbers:
    print(f"\n–ß–∏—Å–ª–æ: {number}")
    for name, validator in validators:
        result = validator(number)
        print(f"  {name}: {'‚úì' if result else '‚úó'}")
```

##### üî∏ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏
```python
# map() —Å –ª—è–º–±–¥–∞-—Ñ—É–Ω–∫—Ü–∏—è–º–∏
numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]

print("=== map() —Å –ª—è–º–±–¥–∞-—Ñ—É–Ω–∫—Ü–∏—è–º–∏ ===")
squares = list(map(lambda x: x ** 2, numbers))
print(f"–ò—Å—Ö–æ–¥–Ω—ã–µ —á–∏—Å–ª–∞: {numbers}")
print(f"–ö–≤–∞–¥—Ä–∞—Ç—ã: {squares}")

# –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä–æ–∫
words = ["python", "java", "javascript", "go"]
uppercase_words = list(map(lambda word: word.upper(), words))
word_lengths = list(map(lambda word: len(word), words))

print(f"–°–ª–æ–≤–∞: {words}")
print(f"–í –≤–µ—Ä—Ö–Ω–µ–º —Ä–µ–≥–∏—Å—Ç—Ä–µ: {uppercase_words}")
print(f"–î–ª–∏–Ω—ã —Å–ª–æ–≤: {word_lengths}")

# map() —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—è–º–∏
numbers1 = [1, 2, 3, 4]
numbers2 = [10, 20, 30, 40]

sums = list(map(lambda x, y: x + y, numbers1, numbers2))
products = list(map(lambda x, y: x * y, numbers1, numbers2))

print(f"–ß–∏—Å–ª–∞ 1: {numbers1}")
print(f"–ß–∏—Å–ª–∞ 2: {numbers2}")
print(f"–°—É–º–º—ã: {sums}")
print(f"–ü—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è: {products}")

# filter() —Å –ª—è–º–±–¥–∞-—Ñ—É–Ω–∫—Ü–∏—è–º–∏
print(f"\n=== filter() —Å –ª—è–º–±–¥–∞-—Ñ—É–Ω–∫—Ü–∏—è–º–∏ ===")

all_numbers = list(range(1, 21))  # 1-20
even_numbers = list(filter(lambda x: x % 2 == 0, all_numbers))
prime_candidates = list(filter(lambda x: x > 2 and all(x % i != 0 for i in range(2, int(x**0.5) + 1)), all_numbers))

print(f"–í—Å–µ —á–∏—Å–ª–∞: {all_numbers}")
print(f"–ß–µ—Ç–Ω—ã–µ: {even_numbers}")
print(f"–ü—Ä–æ—Å—Ç—ã–µ: {prime_candidates}")

# –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å—Ç—Ä–æ–∫
words_list = ["python", "java", "go", "javascript", "rust", "c", "php"]
long_words = list(filter(lambda word: len(word) > 4, words_list))
words_with_a = list(filter(lambda word: 'a' in word, words_list))

print(f"–°–ª–æ–≤–∞: {words_list}")
print(f"–î–ª–∏–Ω–Ω—ã–µ —Å–ª–æ–≤–∞ (>4): {long_words}")
print(f"–°–ª–æ–≤–∞ —Å 'a': {words_with_a}")

# –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å–ª–æ–≤–∞—Ä–µ–π
students = [
    {"name": "–ê–Ω–Ω–∞", "age": 20, "grade": 85},
    {"name": "–ë–æ—Ä–∏—Å", "age": 22, "grade": 92},
    {"name": "–í–∏–∫—Ç–æ—Ä", "age": 19, "grade": 78},
    {"name": "–ì–∞–ª–∏–Ω–∞", "age": 21, "grade": 95}
]

excellent_students = list(filter(lambda student: student["grade"] >= 90, students))
young_students = list(filter(lambda student: student["age"] < 21, students))

print(f"–í—Å–µ —Å—Ç—É–¥–µ–Ω—Ç—ã: {[s['name'] for s in students]}")
print(f"–û—Ç–ª–∏—á–Ω–∏–∫–∏ (>=90): {[s['name'] for s in excellent_students]}")
print(f"–ú–æ–ª–æ–¥—ã–µ (<21): {[s['name'] for s in young_students]}")

# sorted() —Å –ª—è–º–±–¥–∞-—Ñ—É–Ω–∫—Ü–∏—è–º–∏
print(f"\n=== sorted() —Å –ª—è–º–±–¥–∞-—Ñ—É–Ω–∫—Ü–∏—è–º–∏ ===")

# –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –¥–ª–∏–Ω–µ —Å—Ç—Ä–æ–∫–∏
words_to_sort = ["python", "go", "javascript", "java", "rust"]
sorted_by_length = sorted(words_to_sort, key=lambda word: len(word))
sorted_by_length_desc = sorted(words_to_sort, key=lambda word: len(word), reverse=True)

print(f"–ò—Å—Ö–æ–¥–Ω—ã–µ —Å–ª–æ–≤–∞: {words_to_sort}")
print(f"–ü–æ –¥–ª–∏–Ω–µ (–≤–æ–∑—Ä): {sorted_by_length}")
print(f"–ü–æ –¥–ª–∏–Ω–µ (—É–±—ã–≤): {sorted_by_length_desc}")

# –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –∫–æ—Ä—Ç–µ–∂–µ–π
people = [("–ê–Ω–Ω–∞", 25), ("–ë–æ—Ä–∏—Å", 30), ("–í–∏–∫—Ç–æ—Ä", 22), ("–ì–∞–ª–∏–Ω–∞", 28)]
sorted_by_age = sorted(people, key=lambda person: person[1])
sorted_by_name = sorted(people, key=lambda person: person[0])

print(f"–õ—é–¥–∏: {people}")
print(f"–ü–æ –≤–æ–∑—Ä–∞—Å—Ç—É: {sorted_by_age}")
print(f"–ü–æ –∏–º–µ–Ω–∏: {sorted_by_name}")

# –°–ª–æ–∂–Ω–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —Å–ª–æ–≤–∞—Ä–µ–π
products = [
    {"name": "–ù–æ—É—Ç–±—É–∫", "price": 50000, "category": "–≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞"},
    {"name": "–ú—ã—à—å", "price": 1000, "category": "–≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞"},
    {"name": "–ö–Ω–∏–≥–∞", "price": 500, "category": "–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ"},
    {"name": "–°—Ç–æ–ª", "price": 8000, "category": "–ú–µ–±–µ–ª—å"}
]

# –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ —Ü–µ–Ω–µ
sorted_by_price = sorted(products, key=lambda p: p["price"])
# –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, –ø–æ—Ç–æ–º –ø–æ —Ü–µ–Ω–µ
sorted_complex = sorted(products, key=lambda p: (p["category"], p["price"]))

print(f"–¢–æ–≤–∞—Ä—ã –ø–æ —Ü–µ–Ω–µ: {[p['name'] for p in sorted_by_price]}")
#print(f"–ü–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ —Ü–µ–Ω–µ: {[f\"{p['name']} ({p['category']})\" for p in sorted_complex]}") %%

# reduce() —Å –ª—è–º–±–¥–∞-—Ñ—É–Ω–∫—Ü–∏—è–º–∏
from functools import reduce

print(f"\n=== reduce() —Å –ª—è–º–±–¥–∞-—Ñ—É–Ω–∫—Ü–∏—è–º–∏ ===")

numbers_for_reduce = [1, 2, 3, 4, 5]

# –ü—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –≤—Å–µ—Ö —á–∏—Å–µ–ª
product = reduce(lambda x, y: x * y, numbers_for_reduce)
# –°—É–º–º–∞ –≤—Å–µ—Ö —á–∏—Å–µ–ª
total = reduce(lambda x, y: x + y, numbers_for_reduce)
# –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ —á–∏—Å–ª–æ
maximum = reduce(lambda x, y: x if x > y else y, numbers_for_reduce)

print(f"–ß–∏—Å–ª–∞: {numbers_for_reduce}")
print(f"–ü—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ: {product}")
print(f"–°—É–º–º–∞: {total}")
print(f"–ú–∞–∫—Å–∏–º—É–º: {maximum}")

# –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫
words_for_reduce = ["Python", "is", "awesome"]
sentence = reduce(lambda x, y: x + " " + y, words_for_reduce)
print(f"–°–ª–æ–≤–∞: {words_for_reduce}")
print(f"–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ: {sentence}")

# –ü–æ–∏—Å–∫ —Å—Ç—É–¥–µ–Ω—Ç–∞ —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –æ—Ü–µ–Ω–∫–æ–π
best_student = reduce(
    lambda student1, student2: student1 if student1["grade"] > student2["grade"] else student2,
    students
)
print(f"–õ—É—á—à–∏–π —Å—Ç—É–¥–µ–Ω—Ç: {best_student['name']} ({best_student['grade']} –±–∞–ª–ª–æ–≤)")

# min() –∏ max() —Å key
print(f"\n=== min() –∏ max() —Å –ª—è–º–±–¥–∞ ===")

# –°–∞–º–æ–µ –∫–æ—Ä–æ—Ç–∫–æ–µ –∏ –¥–ª–∏–Ω–Ω–æ–µ —Å–ª–æ–≤–æ
shortest_word = min(words_list, key=lambda word: len(word))
longest_word = max(words_list, key=lambda word: len(word))

print(f"–°–∞–º–æ–µ –∫–æ—Ä–æ—Ç–∫–æ–µ —Å–ª–æ–≤–æ: {shortest_word}")
print(f"–°–∞–º–æ–µ –¥–ª–∏–Ω–Ω–æ–µ —Å–ª–æ–≤–æ: {longest_word}")

# –°–∞–º—ã–π –º–æ–ª–æ–¥–æ–π –∏ —Å—Ç–∞—Ä—ã–π —Å—Ç—É–¥–µ–Ω—Ç
youngest = min(students, key=lambda s: s["age"])
oldest = max(students, key=lambda s: s["age"])

print(f"–°–∞–º—ã–π –º–æ–ª–æ–¥–æ–π: {youngest['name']} ({youngest['age']} –ª–µ—Ç)")
print(f"–°–∞–º—ã–π —Å—Ç–∞—Ä—à–∏–π: {oldest['name']} ({oldest['age']} –ª–µ—Ç)")

# any() –∏ all() —Å –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–Ω—ã–º–∏ –≤—ã—Ä–∞–∂–µ–Ω–∏—è–º–∏ –∏ –ª—è–º–±–¥–∞
print(f"\n=== any() –∏ all() —Å –ª—è–º–±–¥–∞ ===")

test_numbers_2 = [2, 4, 6, 8, 10]
has_odd = any(map(lambda x: x % 2 == 1, test_numbers_2))
all_even = all(map(lambda x: x % 2 == 0, test_numbers_2))
all_positive = all(map(lambda x: x > 0, test_numbers_2))

print(f"–ß–∏—Å–ª–∞: {test_numbers_2}")
print(f"–ï—Å—Ç—å –Ω–µ—á–µ—Ç–Ω—ã–µ: {has_odd}")
print(f"–í—Å–µ —á–µ—Ç–Ω—ã–µ: {all_even}")
print(f"–í—Å–µ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ: {all_positive}")

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤
all_passed = all(map(lambda s: s["grade"] >= 60, students))
any_excellent = any(map(lambda s: s["grade"] >= 90, students))

print(f"–í—Å–µ —Å—Ç—É–¥–µ–Ω—Ç—ã —Å–¥–∞–ª–∏ (>=60): {all_passed}")
print(f"–ï—Å—Ç—å –æ—Ç–ª–∏—á–Ω–∏–∫–∏ (>=90): {any_excellent}")
```

##### üî∏ –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –ª—è–º–±–¥–∞-—Ñ—É–Ω–∫—Ü–∏–π
```python
# –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö —Å –ª—è–º–±–¥–∞-—Ñ—É–Ω–∫—Ü–∏—è–º–∏
print("=== –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö ===")

# –î–∞–Ω–Ω—ã–µ –æ –ø—Ä–æ–¥–∞–∂–∞—Ö
sales_data = [
    {"product": "–ù–æ—É—Ç–±—É–∫", "quantity": 5, "price": 50000},
    {"product": "–ú—ã—à—å", "quantity": 25, "price": 1000},
    {"product": "–ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞", "quantity": 15, "price": 2000},
    {"product": "–ú–æ–Ω–∏—Ç–æ—Ä", "quantity": 8, "price": 15000}
]

# –í—ã—á–∏—Å–ª—è–µ–º –æ–±—â—É—é —Å—Ç–æ–∏–º–æ—Å—Ç—å –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–æ–≤–∞—Ä–∞
sales_with_total = list(map(
    lambda item: {**item, "total": item["quantity"] * item["price"]},
    sales_data
))

print("–ü—Ä–æ–¥–∞–∂–∏ —Å –æ–±—â–µ–π —Å—Ç–æ–∏–º–æ—Å—Ç—å—é:")
for item in sales_with_total:
    print(f"  {item['product']}: {item['quantity']} √ó {item['price']} = {item['total']}")

# –ù–∞—Ö–æ–¥–∏–º —Å–∞–º—ã–π –ø—Ä–∏–±—ã–ª—å–Ω—ã–π —Ç–æ–≤–∞—Ä
most_profitable = max(sales_with_total, key=lambda item: item["total"])
print(f"–°–∞–º—ã–π –ø—Ä–∏–±—ã–ª—å–Ω—ã–π —Ç–æ–≤–∞—Ä: {most_profitable['product']} ({most_profitable['total']} —Ä—É–±.)")

# –§–∏–ª—å—Ç—Ä—É–µ–º —Ç–æ–≤–∞—Ä—ã —Å –ø—Ä–æ–¥–∞–∂–∞–º–∏ –±–æ–ª—å—à–µ 10 —à—Ç—É–∫
high_volume_sales = list(filter(lambda item: item["quantity"] > 10, sales_data))
print(f"–¢–æ–≤–∞—Ä—ã —Å –±–æ–ª—å—à–∏–º–∏ –æ–±—ä–µ–º–∞–º–∏: {[item['product'] for item in high_volume_sales]}")

# –û–±—â–∞—è –≤—ã—Ä—É—á–∫–∞
total_revenue = reduce(
    lambda total, item: total + item["quantity"] * item["price"],
    sales_data,
    0
)
print(f"–û–±—â–∞—è –≤—ã—Ä—É—á–∫–∞: {total_revenue} —Ä—É–±.")

# –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
print(f"\n=== –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–∞ ===")

text_data = [
    "Python —è–≤–ª—è–µ—Ç—Å—è –º–æ—â–Ω—ã–º —è–∑—ã–∫–æ–º –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è",
    "Java –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏",
    "JavaScript –Ω–µ–∑–∞–º–µ–Ω–∏–º –¥–ª—è –≤–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏",
    "Go –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –≤—ã—Å–æ–∫–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é"
]

# –ò–∑–≤–ª–µ–∫–∞–µ–º –ø–µ—Ä–≤–æ–µ —Å–ª–æ–≤–æ –∫–∞–∂–¥–æ–≥–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
first_words = list(map(lambda sentence: sentence.split()[0], text_data))
print(f"–ü–µ—Ä–≤—ã–µ —Å–ª–æ–≤–∞: {first_words}")

# –ü–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–ª–æ–≤ –≤ –∫–∞–∂–¥–æ–º –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–∏
word_counts = list(map(lambda sentence: len(sentence.split()), text_data))
print(f"–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–ª–æ–≤: {word_counts}")

# –§–∏–ª—å—Ç—Ä—É–µ–º –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è, —Å–æ–¥–µ—Ä–∂–∞—â–∏–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ —Å–ª–æ–≤–∞
tech_sentences = list(filter(lambda sentence: any(
    word in sentence.lower() for word in ["–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ", "—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞"]
), text_data))
print(f"–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ: {len(tech_sentences)}")

# –°–æ–∑–¥–∞–µ–º –∞–±–±—Ä–µ–≤–∏–∞—Ç—É—Ä—ã –∏–∑ –ø–µ—Ä–≤—ã—Ö –±—É–∫–≤ —Å–ª–æ–≤
abbreviations = list(map(
    lambda sentence: ''.join(word[0].upper() for word in sentence.split()[:3]),
    text_data
))
print(f"–ê–±–±—Ä–µ–≤–∏–∞—Ç—É—Ä—ã (–ø–µ—Ä–≤—ã–µ 3 —Å–ª–æ–≤–∞): {abbreviations}")

# –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –ª—è–º–±–¥–∞
print(f"\n=== –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ ===")

# –ö–æ–º–ø–æ–∑–∏—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–π
def compose(f, g):
    """–ö–æ–º–ø–æ–∑–∏—Ü–∏—è –¥–≤—É—Ö —Ñ—É–Ω–∫—Ü–∏–π"""
    return lambda x: f(g(x))

# –°–æ–∑–¥–∞–µ–º —Ü–µ–ø–æ—á–∫—É –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–π
add_10 = lambda x: x + 10
multiply_by_2 = lambda x: x * 2
square = lambda x: x ** 2

# –ö–æ–º–ø–æ–∑–∏—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–π
add_then_multiply = compose(multiply_by_2, add_10)
multiply_then_square = compose(square, multiply_by_2)

print(f"5 -> add_10 -> multiply_by_2: {add_then_multiply(5)}")
print(f"3 -> multiply_by_2 -> square: {multiply_then_square(3)}")

# –ß–∞—Å—Ç–∏—á–Ω–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Å –ª—è–º–±–¥–∞
def partial_apply(func, *fixed_args):
    """–ü—Ä–æ—Å—Ç–æ–µ —á–∞—Å—Ç–∏—á–Ω–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ"""
    return lambda *remaining_args: func(*fixed_args, *remaining_args)

multiply_three = lambda x, y, z: x * y * z
double = partial_apply(multiply_three, 2)  # –§–∏–∫—Å–∏—Ä—É–µ–º –ø–µ—Ä–≤—ã–π –∞—Ä–≥—É–º–µ–Ω—Ç
triple_by_5 = partial_apply(multiply_three, 3, 5)  # –§–∏–∫—Å–∏—Ä—É–µ–º –ø–µ—Ä–≤—ã–µ –¥–≤–∞

print(f"double(4, 3): {double(4, 3)}")  # 2 * 4 * 3
print(f"triple_by_5(2): {triple_by_5(2)}")  # 3 * 5 * 2

# –ö–∞—Ä—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –ª—è–º–±–¥–∞
def curry(func):
    """–ü—Ä–æ—Å—Ç–æ–µ –∫–∞—Ä—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–∏ —Å —Ç—Ä–µ–º—è –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏"""
    return lambda x: lambda y: lambda z: func(x, y, z)

curried_multiply = curry(multiply_three)
multiply_by_2 = curried_multiply(2)
multiply_by_2_and_3 = multiply_by_2(3)

print(f"–ö–∞—Ä—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —É–º–Ω–æ–∂–µ–Ω–∏–µ 2 * 3 * 4: {multiply_by_2_and_3(4)}")

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ª—è–º–±–¥–∞ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
print(f"\n=== –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å –ª—è–º–±–¥–∞ ===")

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö
data_processors = {
    "normalize": lambda data: [x / max(data) for x in data],
    "standardize": lambda data: [(x - sum(data)/len(data)) for x in data],
    "scale": lambda data, factor=10: [x * factor for x in data],
    "filter_positive": lambda data: [x for x in data if x > 0],
    "clip": lambda data, min_val=0, max_val=100: [max(min_val, min(max_val, x)) for x in data]
}

sample_data = [1, -2, 5, 8, -1, 3, 12, -3]
print(f"–ò—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ: {sample_data}")

# –ü—Ä–∏–º–µ–Ω—è–µ–º —Ä–∞–∑–ª–∏—á–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä—ã
for name, processor in data_processors.items():
    try:
        if name == "scale":
            result = processor(sample_data, 5)
        elif name == "clip":
            result = processor(sample_data, -1, 10)
        else:
            result = processor(sample_data)
        
        print(f"{name:15}: {[round(x, 2) for x in result]}")
    except Exception as e:
        print(f"{name:15}: –û—à–∏–±–∫–∞ - {e}")

# –õ—è–º–±–¥–∞ –≤ —Å–æ–±—ã—Ç–∏–π–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏
print(f"\n=== –°–æ–±—ã—Ç–∏—è –∏ –∫–æ–ª–±–µ–∫–∏ ===")

class EventEmitter:
    """–ü—Ä–æ—Å—Ç–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å–æ–±—ã—Ç–∏–π"""
    
    def __init__(self):
        self.listeners = {}
    
    def on(self, event, callback):
        """–î–æ–±–∞–≤–ª—è–µ—Ç —Å–ª—É—à–∞—Ç–µ–ª—å —Å–æ–±—ã—Ç–∏—è"""
        if event not in self.listeners:
            self.listeners[event] = []
        self.listeners[event].append(callback)
    
    def emit(self, event, *args, **kwargs):
        """–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–æ–±—ã—Ç–∏–µ"""
        if event in self.listeners:
            for callback in self.listeners[event]:
                callback(*args, **kwargs)

# –°–æ–∑–¥–∞–µ–º —ç–º–∏—Ç—Ç–µ—Ä —Å–æ–±—ã—Ç–∏–π
emitter = EventEmitter()

# –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º –ª—è–º–±–¥–∞-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
emitter.on("user_login", lambda username: print(f"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å {username} –≤–æ—à–µ–ª –≤ —Å–∏—Å—Ç–µ–º—É"))
emitter.on("user_logout", lambda username: print(f"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å {username} –≤—ã—à–µ–ª –∏–∑ —Å–∏—Å—Ç–µ–º—ã"))
emitter.on("error", lambda error_msg: print(f"–û–®–ò–ë–ö–ê: {error_msg}"))

# –î–æ–±–∞–≤–ª—è–µ–º –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
emitter.on("purchase", lambda user, item, price: print(f"{user} –∫—É–ø–∏–ª {item} –∑–∞ {price} —Ä—É–±."))
emitter.on("purchase", lambda user, item, price: print(f"–°–ø–∞—Å–∏–±–æ –∑–∞ –ø–æ–∫—É–ø–∫—É, {user}!"))

# –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å–æ–±—ã—Ç–∏—è
emitter.emit("user_login", "–ê–Ω–Ω–∞")
emitter.emit("purchase", "–ê–Ω–Ω–∞", "–ù–æ—É—Ç–±—É–∫", 50000)
emitter.emit("user_logout", "–ê–Ω–Ω–∞")
emitter.emit("error", "–ü–æ—Ç–µ—Ä—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î")

# –õ—è–º–±–¥–∞ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø—Ä–æ—Ç–æ—Ç–∏–ø–∏—Ä–æ–≤–∞–Ω–∏—è
print(f"\n=== –ë—ã—Å—Ç—Ä–æ–µ –ø—Ä–æ—Ç–æ—Ç–∏–ø–∏—Ä–æ–≤–∞–Ω–∏–µ ===")

# –ù–∞–±–æ—Ä –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π
math_funcs = {
    "sin_approx": lambda x: x - x**3/6 + x**5/120,  # –ü—Ä–∏–±–ª–∏–∂–µ–Ω–∏–µ sin(x)
    "factorial": lambda n: reduce(lambda x, y: x * y, range(1, n + 1), 1),
    "fibonacci": lambda n: n if n < 2 else math_funcs["fibonacci"](n-1) + math_funcs["fibonacci"](n-2),
    "prime_check": lambda n: n > 1 and all(n % i != 0 for i in range(2, int(n**0.5) + 1)),
    "digit_sum": lambda n: sum(int(digit) for digit in str(abs(n)))
}

# –¢–µ—Å—Ç–∏—Ä—É–µ–º —Ñ—É–Ω–∫—Ü–∏–∏
test_values = [5, 10, 7, 123]
print("–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π:")

for value in test_values:
    print(f"\n–ó–Ω–∞—á–µ–Ω–∏–µ: {value}")
    for name, func in math_funcs.items():
        try:
            if name == "sin_approx":
                result = func(value * 0.1)  # –ú–∞–ª—ã–π —É–≥–æ–ª
                print(f"  {name}: {result:.4f}")
            else:
                result = func(value)
                print(f"  {name}: {result}")
        except RecursionError:
            print(f"  {name}: –°–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ")
        except Exception as e:
            print(f"  {name}: –û—à–∏–±–∫–∞ - {e}")
```

#### üîπ –§—É–Ω–∫—Ü–∏–∏ –≤—ã—Å—à–µ–≥–æ –ø–æ—Ä—è–¥–∫–∞

> Python –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∫–æ–Ω—Ü–µ–ø—Ü–∏—é —Ñ—É–Ω–∫—Ü–∏–π –≤—ã—Å—à–µ–≥–æ –ø–æ—Ä—è–¥–∫–∞, –∑–Ω–∞—á–∏—Ç —Ñ—É–Ω–∫—Ü–∏–∏ –º–æ–≥—É—Ç –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å—Å—è –∫–∞–∫ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –¥—Ä—É–≥–∏–º —Ñ—É–Ω–∫—Ü–∏—è–º, –ø–æ–º–µ—â–∞—Ç—å—Å—è –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö –∏ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å—Å—è —Ñ—É–Ω–∫—Ü–∏—è–º–∏. –ì–æ–≤–æ—Ä—è—Ç, —á—Ç–æ —Ñ—É–Ω–∫—Ü–∏–∏ ‚Äî –ø–µ—Ä–≤–æ–∫–ª–∞—Å—Å–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã. –≠—Ç–æ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ —Ä–∞–±–æ—Ç–∞ —Å –Ω–∏–º–∏ –Ω–µ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç —Ä–∞–±–æ—Ç—ã —Å –ª—é–±—ã–º –¥—Ä—É–≥–∏–º –≤–∏–¥–æ–º –¥–∞–Ω–Ω—ã—Ö.

```python
import time

def after(seconds, func):
	time.sleep(seconds)
	func()

# Example usage

def greeting():
	print('Hello World')

after(10, greeting) # –í—ã–≤–æ–¥–∏—Ç 'Hello World' —á–µ—Ä–µ–∑ 10 —Å–µ–∫—É–Ω–¥

# –ó–¥–µ—Å—å –∞—Ä–≥—É–º–µ–Ω—Ç func —Ñ—É–Ω–∫—Ü–∏–∏ after() ‚Äî –ø—Ä–∏–º–µ—Ä —Ç–∞–∫ –Ω–∞–∑—ã–≤–∞–µ–º–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ (callback)
```
##### üî∏ map, filter, reduce –ø–æ–¥—Ä–æ–±–Ω–æ
```python
from functools import reduce
from itertools import chain, compress
import operator

print("=== –ü–æ–¥—Ä–æ–±–Ω–æ–µ –∏–∑—É—á–µ–Ω–∏–µ map, filter, reduce ===")

# MAP - –ø–æ–¥—Ä–æ–±–Ω–æ–µ –∏–∑—É—á–µ–Ω–∏–µ
print("=== MAP - –¥–µ—Ç–∞–ª—å–Ω–æ–µ –∏–∑—É—á–µ–Ω–∏–µ ===")

# –ü—Ä–æ—Å—Ç—ã–µ –ø—Ä–∏–º–µ—Ä—ã map
numbers = [1, 2, 3, 4, 5]
squared = list(map(lambda x: x**2, numbers))
print(f"–ö–≤–∞–¥—Ä–∞—Ç—ã: {numbers} -> {squared}")

# map –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏—Ç–µ—Ä–∞—Ç–æ—Ä
map_result = map(lambda x: x * 2, numbers)
print(f"–¢–∏–ø —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ map: {type(map_result)}")
print(f"–ò—Ç–µ—Ä–∞—Ç–æ—Ä map: {list(map_result)}")

# –ü–æ–ø—ã—Ç–∫–∞ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∏—Ç–µ—Ä–∞—Ç–æ—Ä–∞
map_result2 = map(lambda x: x * 2, numbers)
print(f"–ü–µ—Ä–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: {list(map_result2)}")
print(f"–ü–æ–≤—Ç–æ—Ä–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: {list(map_result2)}")  # –ü—É—Å—Ç–æ–π!

# map —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—è–º–∏
list1 = [1, 2, 3, 4]
list2 = [10, 20, 30, 40]
list3 = [100, 200, 300, 400]

# –°—É–º–º–∞ —Ç—Ä–µ—Ö —á–∏—Å–µ–ª
triple_sum = list(map(lambda x, y, z: x + y + z, list1, list2, list3))
print(f"–°—É–º–º–∞ —Ç—Ä–µ—Ö —Å–ø–∏—Å–∫–æ–≤: {triple_sum}")

# map –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –Ω–∞ —Å–∞–º–æ–π –∫–æ—Ä–æ—Ç–∫–æ–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
short_list = [1, 2]
long_list = [10, 20, 30, 40, 50]
result = list(map(lambda x, y: x + y, short_list, long_list))
print(f"–ö–æ—Ä–æ—Ç–∫–∏–π + –¥–ª–∏–Ω–Ω—ã–π: {result}")

# map —Å —Ñ—É–Ω–∫—Ü–∏—è–º–∏-–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞–º–∏
strings = ["123", "456", "789"]
integers = list(map(int, strings))
floats = list(map(float, strings))

print(f"–°—Ç—Ä–æ–∫–∏: {strings}")
print(f"–¶–µ–ª—ã–µ: {integers}")
print(f"–í–µ—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ: {floats}")

# map –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä –¥–∞–Ω–Ω—ã—Ö
students_data = [
    ("–ê–Ω–Ω–∞", "85"),
    ("–ë–æ—Ä–∏—Å", "92"),
    ("–í–∏–∫—Ç–æ—Ä", "78")
]

# –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –≤ —Å–ª–æ–≤–∞—Ä–∏
students = list(map(
    lambda data: {"name": data[0], "grade": int(data[1])},
    students_data
))
print(f"–°—Ç—É–¥–µ–Ω—Ç—ã: {students}")

# map —Å –º–µ—Ç–æ–¥–∞–º–∏ –æ–±—ä–µ–∫—Ç–æ–≤
words = ["python", "java", "javascript"]
uppercased = list(map(str.upper, words))
lengths = list(map(len, words))
capitalized = list(map(str.capitalize, words))

print(f"–ò—Å—Ö–æ–¥–Ω—ã–µ —Å–ª–æ–≤–∞: {words}")
print(f"–ó–∞–≥–ª–∞–≤–Ω—ã–µ: {uppercased}")
print(f"–î–ª–∏–Ω—ã: {lengths}")
print(f"–ö–∞–ø–∏—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ: {capitalized}")

# FILTER - –ø–æ–¥—Ä–æ–±–Ω–æ–µ –∏–∑—É—á–µ–Ω–∏–µ
print(f"\n=== FILTER - –¥–µ—Ç–∞–ª—å–Ω–æ–µ –∏–∑—É—á–µ–Ω–∏–µ ===")

all_numbers = list(range(-10, 11))  # -10 –¥–æ 10
positive_numbers = list(filter(lambda x: x > 0, all_numbers))
negative_numbers = list(filter(lambda x: x < 0, all_numbers))
even_numbers = list(filter(lambda x: x % 2 == 0, all_numbers))

print(f"–í—Å–µ —á–∏—Å–ª–∞: {all_numbers}")
print(f"–ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ: {positive_numbers}")
print(f"–û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ: {negative_numbers}")
print(f"–ß–µ—Ç–Ω—ã–µ: {even_numbers}")

# filter —Ç–∞–∫–∂–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏—Ç–µ—Ä–∞—Ç–æ—Ä
filter_result = filter(lambda x: x > 0, all_numbers)
print(f"–¢–∏–ø —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ filter: {type(filter_result)}")

# filter —Å None (—É–¥–∞–ª—è–µ—Ç "–ª–æ–∂–Ω—ã–µ" –∑–Ω–∞—á–µ–Ω–∏—è)
mixed_data = [0, 1, False, True, "", "text", None, [], [1, 2], {}, {"key": "value"}]
truthy_values = list(filter(None, mixed_data))
print(f"–°–º–µ—à–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ: {mixed_data}")
print(f"–ò—Å—Ç–∏–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è: {truthy_values}")

# –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å–ª–æ–≤–∞—Ä–µ–π
products = [
    {"name": "–ù–æ—É—Ç–±—É–∫", "price": 50000, "in_stock": True},
    {"name": "–ú—ã—à—å", "price": 1000, "in_stock": False},
    {"name": "–ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞", "price": 2000, "in_stock": True},
    {"name": "–ú–æ–Ω–∏—Ç–æ—Ä", "price": 15000, "in_stock": False}
]

available_products = list(filter(lambda p: p["in_stock"], products))
expensive_products = list(filter(lambda p: p["price"] > 5000, products))

print(f"–î–æ—Å—Ç—É–ø–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã: {[p['name'] for p in available_products]}")
print(f"–î–æ—Ä–æ–≥–∏–µ —Ç–æ–≤–∞—Ä—ã: {[p['name'] for p in expensive_products]}")

# –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Å–ª–æ–≤–∏–π –≤ filter
cheap_available = list(filter(
    lambda p: p["price"] < 5000 and p["in_stock"],
    products
))
print(f"–î–µ—à–µ–≤—ã–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã: {[p['name'] for p in cheap_available]}")

# –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å—Ç—Ä–æ–∫ –ø–æ —Å–ª–æ–∂–Ω—ã–º —É—Å–ª–æ–≤–∏—è–º
text_samples = [
    "Python programming",
    "Java development", 
    "Go language",
    "JavaScript frameworks",
    "C++ algorithms",
    "Rust systems"
]

# –°–ª–æ–≤–∞ —Å–æ–¥–µ—Ä–∂–∞—â–∏–µ 'a' –∏ –¥–ª–∏–Ω–Ω–µ–µ 10 —Å–∏–º–≤–æ–ª–æ–≤
complex_filter = list(filter(
    lambda text: 'a' in text.lower() and len(text) > 10,
    text_samples
))
print(f"–°–ª–æ–∂–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è: {complex_filter}")

# REDUCE - –ø–æ–¥—Ä–æ–±–Ω–æ–µ –∏–∑—É—á–µ–Ω–∏–µ
print(f"\n=== REDUCE - –¥–µ—Ç–∞–ª—å–Ω–æ–µ –∏–∑—É—á–µ–Ω–∏–µ ===")

numbers_for_reduce = [1, 2, 3, 4, 5]

# –ë–∞–∑–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
sum_result = reduce(lambda x, y: x + y, numbers_for_reduce)
product_result = reduce(lambda x, y: x * y, numbers_for_reduce)
max_result = reduce(lambda x, y: x if x > y else y, numbers_for_reduce)

print(f"–ß–∏—Å–ª–∞: {numbers_for_reduce}")
print(f"–°—É–º–º–∞: {sum_result}")
print(f"–ü—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ: {product_result}")
print(f"–ú–∞–∫—Å–∏–º—É–º: {max_result}")

# reduce —Å –Ω–∞—á–∞–ª—å–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º
sum_with_initial = reduce(lambda x, y: x + y, numbers_for_reduce, 100)
print(f"–°—É–º–º–∞ —Å –Ω–∞—á–∞–ª—å–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º 100: {sum_with_initial}")

# –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è reduce

# 1. –ü–æ–¥—Å—á–µ—Ç —ç–ª–µ–º–µ–Ω—Ç–æ–≤
text = "hello world"
char_count = reduce(
    lambda acc, char: {**acc, char: acc.get(char, 0) + 1},
    text,
    {}
)
print(f"–ü–æ–¥—Å—á–µ—Ç —Å–∏–º–≤–æ–ª–æ–≤ –≤ '{text}': {char_count}")

# 2. –ü–æ–∏—Å–∫ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ –≤ —Å–ª–æ–∂–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–µ
students_for_reduce = [
    {"name": "–ê–Ω–Ω–∞", "grades": [85, 90, 78]},
    {"name": "–ë–æ—Ä–∏—Å", "grades": [92, 88, 95]},
    {"name": "–í–∏–∫—Ç–æ—Ä", "grades": [78, 82, 80]}
]

best_student = reduce(
    lambda s1, s2: s1 if sum(s1["grades"]) > sum(s2["grades"]) else s2,
    students_for_reduce
)
print(f"–õ—É—á—à–∏–π —Å—Ç—É–¥–µ–Ω—Ç: {best_student['name']} (—Å—É–º–º–∞: {sum(best_student['grades'])})")

# 3. –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Å–ø–∏—Å–∫–æ–≤
list_of_lists = [[1, 2], [3, 4], [5, 6], [7, 8]]
flattened = reduce(lambda acc, lst: acc + lst, list_of_lists, [])
print(f"–û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Å–ø–∏—Å–∫–æ–≤: {list_of_lists} -> {flattened}")

# 4. –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≤–ª–æ–∂–µ–Ω–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
keys = ["a", "b", "c"]
nested_dict = reduce(
    lambda acc, key: {key: acc},
    reversed(keys),
    "final_value"
)
print(f"–í–ª–æ–∂–µ–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞: {nested_dict}")

# 5. –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö
transactions = [
    {"type": "income", "amount": 1000},
    {"type": "expense", "amount": 500},
    {"type": "income", "amount": 1500},
    {"type": "expense", "amount": 300}
]

grouped = reduce(
    lambda acc, trans: {
        **acc,
        trans["type"]: acc.get(trans["type"], []) + [trans["amount"]]
    },
    transactions,
    {}
)
print(f"–ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π: {grouped}")

# –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ map, filter, reduce
print(f"\n=== –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ map, filter, reduce ===")

# –û–±—Ä–∞–±–æ—Ç–∫–∞ —á–∏—Å–ª–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö: —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è -> –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ -> –∞–≥—Ä–µ–≥–∞—Ü–∏—è
raw_data = [-5, -2, 0, 1, 3, 7, 8, 12, 15, 20]

# –¶–µ–ø–æ—á–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏
result = reduce(
    lambda acc, x: acc + x,  # –°—É–º–º–∏—Ä—É–µ–º
    map(
        lambda x: x**2,  # –í–æ–∑–≤–æ–¥–∏–º –≤ –∫–≤–∞–¥—Ä–∞—Ç
        filter(
            lambda x: x > 0,  # –¢–æ–ª—å–∫–æ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ
            raw_data
        )
    ),
    0
)

print(f"–ò—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ: {raw_data}")
print(f"–ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ: {list(filter(lambda x: x > 0, raw_data))}")
print(f"–ö–≤–∞–¥—Ä–∞—Ç—ã –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã—Ö: {list(map(lambda x: x**2, filter(lambda x: x > 0, raw_data)))}")
print(f"–°—É–º–º–∞ –∫–≤–∞–¥—Ä–∞—Ç–æ–≤ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã—Ö: {result}")

# –¢–æ –∂–µ —Å–∞–º–æ–µ –ø–æ—à–∞–≥–æ–≤–æ –¥–ª—è –Ω–∞–≥–ª—è–¥–Ω–æ—Å—Ç–∏
step1 = list(filter(lambda x: x > 0, raw_data))
step2 = list(map(lambda x: x**2, step1))
step3 = reduce(lambda acc, x: acc + x, step2, 0)

print(f"–ü–æ—à–∞–≥–æ–≤–æ:")
print(f"  –®–∞–≥ 1 (filter): {step1}")
print(f"  –®–∞–≥ 2 (map): {step2}")
print(f"  –®–∞–≥ 3 (reduce): {step3}")

# –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
sentences = [
    "Python is great for data science",
    "Java is used in enterprise applications", 
    "JavaScript powers the modern web",
    "Go is efficient for system programming",
    "Rust ensures memory safety"
]

# –ù–∞—Ö–æ–¥–∏–º —Å–∞–º–æ–µ –¥–ª–∏–Ω–Ω–æ–µ —Å–ª–æ–≤–æ –≤–æ –≤—Å–µ—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è—Ö
longest_word = reduce(
    lambda longest, word: word if len(word) > len(longest) else longest,
    reduce(
        lambda acc, words: acc + words,  # –û–±—ä–µ–¥–∏–Ω—è–µ–º –≤—Å–µ —Å–ø–∏—Å–∫–∏ —Å–ª–æ–≤
        map(
            lambda sentence: sentence.split(),  # –†–∞–∑–±–∏–≤–∞–µ–º –Ω–∞ —Å–ª–æ–≤–∞
            sentences
        ),
        []
    ),
    ""
)

print(f"–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è: {sentences}")
print(f"–°–∞–º–æ–µ –¥–ª–∏–Ω–Ω–æ–µ —Å–ª–æ–≤–æ: '{longest_word}' ({len(longest_word)} —Å–∏–º–≤–æ–ª–æ–≤)")

# –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º chain –∏–∑ itertools
from itertools import chain

all_words = list(chain.from_iterable(map(str.split, sentences)))
longest_word_alt = max(all_words, key=len)
print(f"–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥: '{longest_word_alt}'")

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ operator –¥–ª—è –±–æ–ª–µ–µ —á–∏—Ç–∞–µ–º–æ–≥–æ –∫–æ–¥–∞
print(f"\n=== –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–æ–¥—É–ª—è operator ===")

# –í–º–µ—Å—Ç–æ lambda x, y: x + y
numbers_op = [10, 20, 30, 40]
sum_with_operator = reduce(operator.add, numbers_op)
product_with_operator = reduce(operator.mul, numbers_op)

print(f"–°—É–º–º–∞ —Å operator.add: {sum_with_operator}")
print(f"–ü—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ —Å operator.mul: {product_with_operator}")

# operator –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∞—Ç—Ä–∏–±—É—Ç–∞–º–∏ –∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏
students_op = [
    {"name": "–ê–Ω–Ω–∞", "age": 20},
    {"name": "–ë–æ—Ä–∏—Å", "age": 22}, 
    {"name": "–í–∏–∫—Ç–æ—Ä", "age": 19}
]

names = list(map(operator.itemgetter("name"), students_op))
ages = list(map(operator.itemgetter("age"), students_op))

print(f"–ò–º–µ–Ω–∞: {names}")
print(f"–í–æ–∑—Ä–∞—Å—Ç—ã: {ages}")

# –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —Å operator
sorted_by_age = sorted(students_op, key=operator.itemgetter("age"))
print(f"–û—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ –≤–æ–∑—Ä–∞—Å—Ç—É: {[s['name'] for s in sorted_by_age]}")
```
---
#### üîπ –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏ AWAIT

> Python –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä—è–¥ —è–∑—ã–∫–æ–≤—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º –∫–æ–¥–∞. –ö –∏—Ö —á–∏—Å–ª—É –æ—Ç–Ω–æ—Å—è—Ç—Å—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –æ–∂–∏–¥–∞–µ–º—ã–µ –æ–±—ä–µ–∫—Ç—ã (`awaitable`). –û–Ω–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –≤ –ø—Ä–æ–≥—Ä–∞–º–º–∞—Ö, –≥–¥–µ –∑–∞–¥–µ–π—Å—Ç–≤–æ–≤–∞–Ω –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º –∏ –º–æ–¥—É–ª—å `asyncio`.

```python
# –î–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ—Å—Ç–∞–≤—å—Ç–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –∫–ª —Å. async –ø–µ—Ä–µ–¥ –Ω–æ—Ä–º–∞–ª—å–Ω—ã–º –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º —Ñ—É–Ω–∫—Ü–∏–∏

async def greeting(name):
	print(f'Hello {name}')

# –í—ã –æ–±–Ω–∞—Ä—É–∂–∏—Ç–µ, —á—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –æ–±—ã—á–Ω—ã–º —Å–ø–æ—Å–æ–±–æ–º. –°–æ–±—Å—Ç–≤–µ–Ω–Ω–æ, –æ–Ω–∞ –≤–æ–æ–±—â–µ –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è. –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –≤—ã –ø–æ–ª—É—á–∞–µ—Ç–µ –æ–±—ä–µ–∫—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏. –ß—Ç–æ–±—ã —Ñ—É–Ω–∫—Ü–∏—è –∑–∞—Ä–∞–±–æ—Ç–∞–ª–∞, –æ–Ω–∞ –¥–æ–ª–∂–Ω–∞ –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –ø–æ–¥ –∫–æ–Ω—Ç—Ä–æ–ª–µ–º –¥—Ä—É–≥–æ–≥–æ –∫–æ–¥–∞. –ß–∞—â–µ –≤—Å–µ–≥–æ –¥–ª—è —ç—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–æ–¥—É–ª—å asyncio:

import asyncio

asyncio.run(greeting('Guido'))
# Hello Guido
```

> –ù–µ —Å—á–∏—Ç–∞—è —É–ø—Ä–∞–≤–ª—è–µ–º–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ—á–Ω–æ —Ç–∞–∫ –∂–µ, –∫–∞–∫ –∏ –ª—é–±–∞—è –¥—Ä—É–≥–∞—è —Ñ—É–Ω–∫—Ü–∏—è Python. –ö–æ–º–∞–Ω–¥—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø–æ –ø–æ—Ä—è–¥–∫—É, —Ä–∞–±–æ—Ç–∞—é—Ç –≤—Å–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Å—Ä–µ–¥—Å—Ç–≤–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.

–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –º–æ–≥—É—Ç –≤—ã–∑—ã–≤–∞—Ç—å –¥—Ä—É–≥–∏–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å –ø–æ–º–æ—â—å—é **await**-–≤—ã—Ä–∞–∂–µ–Ω–∏–π. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `await` –º–æ–∂–Ω–æ —Ç–æ–ª—å–∫–æ –≤ –≥—Ä–∞–Ω–∏—Ü–∞—Ö –≤–Ω–µ—à–Ω–µ–≥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏. –û–Ω–æ —è–≤–ª—è–µ—Ç—Å—è –∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–π —á–∞—Å—Ç—å—é –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π. –û–ø—É—Å—Ç–∏–≤ await, –≤—ã —É–≤–∏–¥–∏—Ç–µ, —á—Ç–æ –∫–æ–¥ —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ –±—É–¥–µ—Ç.
```python
async def make_greeting(name):
	return f'Hello {name}'

async def main():
	for name in ['Paula', 'Thomas', 'Lewis']:
		a = await make_greeting(name)
		print(a)

# –í—ã–ø–æ–ª–Ω–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é. –í—ã–≤–æ–¥—è—Ç—Å—è –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è –¥–ª—è Paula, Thomas –∏ Lewis
asyncio.run(main())
```
---
#### üîπ –†–µ–∫—É—Ä—Å–∏—è

**–†–µ–∫—É—Ä—Å–∏—è** - _—ç—Ç–æ –º–µ—Ç–æ–¥ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è, –∫–æ–≥–¥–∞ —Ñ—É–Ω–∫—Ü–∏—è –≤—ã–∑—ã–≤–∞–µ—Ç —Å–∞–º–∞ —Å–µ–±—è._¬†

–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–∞–∑–±–∏–≤–∞—Ç—å —Å–ª–æ–∂–Ω—ã–µ –∑–∞–¥–∞—á–∏ –Ω–∞ –±–æ–ª–µ–µ –ø—Ä–æ—Å—Ç—ã–µ –ø–æ–¥–∑–∞–¥–∞—á–∏.
–†–µ–∫—É—Ä—Å–∏–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –∏–º–µ—Ç—å —É—Å–ª–æ–≤–∏–µ –≤—ã—Ö–æ–¥–∞ –∏–∑ —Ä–µ–∫—É—Ä—Å–∏–∏ (–±–∞–∑–æ–≤—ã–π —Å–ª—É—á–∞–π), –∏–Ω–∞—á–µ –≤–æ–∑–Ω–∏–∫–Ω–µ—Ç –±–µ—Å–∫–æ–Ω–µ—á–Ω–∞—è —Ä–µ–∫—É—Ä—Å–∏—è.
–ù—É–∂–Ω–æ –∏–∑–±–µ–≥–∞—Ç—å —Å–ª–∏—à–∫–æ–º –≥–ª—É–±–æ–∫–æ–π —Ä–µ–∫—É—Ä—Å–∏–∏, –∏–Ω–∞—á–µ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è —Å –æ—à–∏–±–∫–æ–π **StackOverflow**.
–†–µ–∫—É—Ä—Å–∏—é –º–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å —Ü–∏–∫–ª–æ–º, –Ω–æ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã —á–∞—Å—Ç–æ –±–æ–ª–µ–µ —ç–ª–µ–≥–∞–Ω—Ç–Ω—ã –∏ –ø—Ä–æ—Å—Ç—ã –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è.
–ù–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∞ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è —Ñ–∞–∫—Ç–æ—Ä–∏–∞–ª–∞ —á–∏—Å–ª–∞.

```python
def factorial(x):
	if x == 1: 
		return 1
	else:
		return x * factorial(x-1)
		
print(factorial(5))	
```
---