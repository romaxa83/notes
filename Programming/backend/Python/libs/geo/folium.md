#python #package #geo

Folium ‚Äî —ç—Ç–æ –º–æ—â–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –≤ Python, –∫–æ—Ç–æ—Ä–∞—è –±—ã–ª–∞ —Å–æ–∑–¥–∞–Ω–∞ –≤ –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø–æ–º–æ—á—å –ª—é–¥—è–º –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≥–µ–æ-–ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.
Folium - —ç—Ç–æ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ —Å –æ—Ç–∫—Ä—ã—Ç—ã–º –∏—Å—Ö–æ–¥–Ω—ã–º –∫–æ–¥–æ–º, —Å–æ–∑–¥–∞–Ω–Ω–∞—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π Datawrangling —ç–∫–æ—Å–∏—Å—Ç–µ–º—ã.
–° –ø–æ–º–æ—â—å—é Folium –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –∫–∞—Ä—Ç—É –ª—é–±–æ–≥–æ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è –≤ –º–∏—Ä–µ, –µ—Å–ª–∏ –≤—ã –∑–Ω–∞–µ—Ç–µ –µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è —à–∏—Ä–æ—Ç—ã –∏ –¥–æ–ª–≥–æ—Ç—ã.
Folium - —ç—Ç–æ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ Python, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–º–æ–≥–∞–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç–∏–ø–æ–≤ –∫–∞—Ä—Ç Leaflet. –¢–æ—Ç —Ñ–∞–∫—Ç, —á—Ç–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã Folium –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã, –¥–µ–ª–∞–µ—Ç —ç—Ç—É –±–∏–±–ª–∏–æ—Ç–µ–∫—É –æ—á–µ–Ω—å –ø–æ–ª–µ–∑–Ω–æ–π –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã—Ö –ø–∞–Ω–µ–ª–µ–π.

```bash
pip install folium
```

==—Å–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Ä—Ç—ã –º–∏—Ä–∞==
```python
import folium

# define the world map
world_map = folium.Map()
# display world map
world_map
```

==–µ—Å–ª–∏ –Ω—É–∂–Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è —Å—Ç—Ä–∞–Ω–∞==
```python
ua_map = folium.Map(  
    location = [48.3794, 31.1656],    # —à–∏—Ä–æ—Ç–∞ –∏ –¥–æ–ª–≥–æ—Ç–∞  
    zoom_start = 6,
    tiles = 'CartoDB DarkMatter', # —Å—Ç–∏–ª—å –∫–∞—Ä—Ç—ã 
)  
ua_map
```

---
#### üîπ –°—Ç–∏–ª–∏ –∫–∞—Ä—Ç
==–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ (—Ä–∞–±–æ—Ç–∞—é—Ç –±–µ–∑ –Ω–∞—Å—Ç—Ä–æ–µ–∫)==

–≠—Ç–∏ –≤–∞—Ä–∏–∞–Ω—Ç—ã –≤—Å—Ç—Ä–æ–µ–Ω—ã –∏ –æ–±—ã—á–Ω–æ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–æ–π:
- `'OpenStreetMap'`: –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è –∫–∞—Ä—Ç–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é).
- `'CartoDB Positron'`: –ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω–∞—è —Å–≤–µ—Ç–ª–∞—è –∫–∞—Ä—Ç–∞, —Ö–æ—Ä–æ—à–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –Ω–∞–ª–æ–∂–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö.
- `'CartoDB DarkMatter'`: –¢–µ–º–Ω–∞—è —Å—Ç–∏–ª—å–Ω–∞—è —Ç–µ–º–∞, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–π —è—Ä–∫–æ —Å–º–æ—Ç—Ä—è—Ç—Å—è —Ü–≤–µ—Ç–Ω—ã–µ –º–∞—Ä–∫–µ—Ä—ã.
- `'CartoDB Voyager'`: –ë–æ–ª–µ–µ –¥–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∏ —Ü–≤–µ—Ç–Ω–∞—è –≤–µ—Ä—Å–∏—è –æ—Ç CartoDB.¬†

==–°—Ç–∏–ª–∏, —Ç—Ä–µ–±—É—é—â–∏–µ API –∏–ª–∏ –∫–ª—é—á (Mapbox, Cloudmade)==

–î–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è¬†`'Mapbox Bright'`,¬†`'Mapbox Control Room'`¬†–∏–ª–∏ –ø—Ä–æ—Å—Ç–æ¬†`'Mapbox'`¬†–≤–∞–º –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–µ—Ä–µ–¥–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä¬†`API_key`.¬†

==–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ —Å—Ç–æ—Ä–æ–Ω–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ (xyzservices)==

–ï—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ø–∞–∫–µ—Ç¬†`xyzservices`, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–æ—Ç–Ω–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤.

```python
import xyzservices.providers as xyz
ua_map = folium.Map(location=[48.3794, 31.1656], tiles=xyz.Esri.WorldImagery)
```

==–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω–Ω–∏–µ —Ç–∞–π–ª—ã (—á–µ—Ä–µ–∑ URL)==

–í—ã –º–æ–∂–µ—Ç–µ –ø–æ–¥–∫–ª—é—á–∏—Ç—å –ª—é–±—É—é –∫–∞—Ä—Ç—É —á–µ—Ä–µ–∑ –ø—Ä—è–º—É—é —Å—Å—ã–ª–∫—É. –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —É–∫–∞–∂–∏—Ç–µ¬†`attr`, –∏–Ω–∞—á–µ –ø–æ–ª—É—á–∏—Ç–µ —Ç—É —Å–∞–º—É—é –æ—à–∏–±–∫—É¬†`ValueError`.¬†

- **–°–ø—É—Ç–Ω–∏–∫ (Esri World Imagery):**  
    `tiles = 'https://server.arcgisonline.com{z}/{y}/{x}'`  
    `attr = 'Esri'`
- **–†–µ–ª—å–µ—Ñ (OTM):**  
    `tiles = 'https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png'`  
    `attr = 'OpenTopoMap'`
- **–í–µ–ª–æ—Å–∏–ø–µ–¥–Ω—ã–µ –¥–æ—Ä–æ–∂–∫–∏ (CyclOSM):**  
    `tiles = 'https://{s}.tile-cyclosm.openstreetmap.fr/cyclosm/{z}/{x}/{y}.png'`  
    `attr = 'CyclOSM'`
---
#### üîπ –ö–∞–∫ –Ω–∞–∫–ª–∞–¥—ã–≤–∞—Ç—å –º–∞—Ä–∫–µ—Ä—ã –ø–æ–≤–µ—Ä—Ö –∫–∞—Ä—Ç—ã

–î–ª—è —ç—Ç–æ–≥–æ –Ω–∞–º –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Ç–∞–∫ –Ω–∞–∑—ã–≤–∞–µ–º—É—é –≥—Ä—É–ø–ø—É –æ–±—ä–µ–∫—Ç–æ–≤. –≠—Ç–∞ –≥—Ä—É–ø–ø–∞ –æ–±—ä–µ–∫—Ç–æ–≤ –ø—É—Å—Ç–∞, –∞ —ç—Ç–æ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ –¥–∞–ª—å—à–µ ‚Äî –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Ç–∞–∫ –Ω–∞–∑—ã–≤–∞–µ–º—ã–µ –¥–æ—á–µ—Ä–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã (child) –∏ –¥–æ–±–∞–≤–ª—è—Ç—å –∏—Ö –≤ –≥—Ä—É–ø–ø—É –æ–±—ä–µ–∫—Ç–æ–≤.

==–¥–æ–±–∞–≤–ª—è–µ–º –∫—Ä–∞—Å–Ω—ã–π –∫—Ä—É–≥ –≤–æ–∫—Ä—É–≥ –ö–∏–µ–≤–∞==
```python
ua_map = folium.Map(  
    location = [48.3794, 31.1656],    # —à–∏—Ä–æ—Ç–∞ –∏ –¥–æ–ª–≥–æ—Ç–∞  
    zoom_start = 6,
    tiles = 'CartoDB DarkMatter', # —Å—Ç–∏–ª—å –∫–∞—Ä—Ç—ã 
) 

kiev = folium.map.FeatureGroup()

# style the feature group (—Å—Ç–∏–ª—å –≥—Ä—É–ø–ø—ã –æ–±—ä–µ–∫—Ç–æ–≤)
kiev.add_child(
    folium.features.CircleMarker(
        location = [50.4501, 30.5234], radius = 5,
        color = 'red', fill_color = 'Red'
    )
)

# add the feature group to the map  (–¥–æ–±–∞–≤–∏—Ç—å –≥—Ä—É–ø–ø—É –æ–±—ä–µ–∫—Ç–æ–≤ –Ω–∞ –∫–∞—Ä—Ç—É)
ua_map.add_child(kiev)

# display russia map
ua_map
```

==–¥–æ–±–∞–≤–ª—è–µ–º –º–∞—Ä–∫–µ –∏ –ø–æ–¥–ø–∏—Å—å==
```python
# label the Marker (–ø–æ–º–µ—Ç–∏—Ç—å –º–∞—Ä–∫–µ—Ä)
folium.Marker(
	[50.4501, 30.5234],         # —à–∏—Ä–æ—Ç–∞ –∏ –¥–æ–ª–≥–æ—Ç–∞
	popup = '–ö–∏–µ–≤, —Å—Ç–æ–ª–∏—Ü–∞ –£–∫—Ä–∞–∏–Ω—ã'
	).add_to(ua_map)
```
---
#### üîπ MousePosition
–ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –Ω–∞–≤–µ–¥–µ–Ω–∏—è –∫—É—Ä—Å–æ—Ä–∞ –º—ã—à–∏ –Ω–∞ —Ç–æ—á–∫—É –Ω–∞ –∫–∞—Ä—Ç–µ. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, —ç—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å –∫–∞—Ä—Ç—É –∏ –ª–µ–≥–∫–æ –Ω–∞–π—Ç–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –ª—é–±—ã—Ö —Ç–æ—á–µ–∫ –∏–Ω—Ç–µ—Ä–µ—Å–∞.

```python
# Add Mouse Position to get the coordinate (Lat, Long) for a mouse over on the map
formatter = "function(num) {return L.Util.formatNum(num, 5);};"
mouse_position = MousePosition(
    position='topright',
    separator=' Long: ',
    empty_string='NaN',
    lng_first=False,
    num_digits=20,
    prefix='Lat:',
    lat_formatter=formatter,
    lng_formatter=formatter,
)

ua_map.add_child(mouse_position)
ua_map
```