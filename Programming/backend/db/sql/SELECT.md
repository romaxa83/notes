#database #sql

### üîπ –û–ø–µ—Ä–∞—Ç–æ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤

###### üî∏AND, OR, NOT
```sql
SELECT * FROM user WHERE city='kiev' AND rating > 10;
SELECT * FROM user WHERE city='kiev' OR rating > 10;
SELECT * FROM user WHERE city='kiev' OR NOT rating > 10; 
```

###### üî∏IN
*–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∫–æ—Ç–æ—Ä—ã–µ –ø–µ—Ä–µ—á–∏—Å–ª—è—é—Ç—Å—è 
–≤ –∫—Ä—É–≥–ª—ã—Ö —Å–∫–æ–±–∫–∞—Ö –∏ —Ä–∞–∑–¥–µ–ª—è—é—Ç—Å—è –∑–∞–ø—è—Ç—ã–º–∏*
```sql
SELECT * FROM Products WHERE id IN(1,2,3,4);
```

###### üî∏BETWEEN
*–∑–∞–¥–∞–µ—Ç –≥—Ä–∞–Ω–∏—Ü—ã –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –∫–æ—Ç–æ—Ä–æ–≥–æ –¥–æ–ª–∂–Ω–æ –ø–æ–ø–∞–¥–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –∑–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–º `BETWEEN` —Å–ª–µ–¥—É–µ—Ç –Ω–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ , –∑–∞—Ç–µ–º `AND` –∏ –∫–æ–Ω–µ—á–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ*
```sql
SELECT * FROM Products WHERE price BETWEEN 10 AND 20;

-- –≥—Ä–∞–Ω–∏—Ü—ã 10 –∏ 20 —Ç–∞–∫–∂–µ –ø–æ–ø–∞–¥—É—Ç –≤ –≤—ã–±–æ—Ä–∫—É, —á—Ç–æ–± –∏—Ö –∏—Å–∫–ª—é—á–∏—Ç—å
SELECT * 
FROM Products 
WHERE (price BETWEEN 10 AND 20) AND NOT price(10,20);
```
*–º–æ–≥—É—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Å–∏–º–≤–æ–ª—ã –∞–Ω–≥–ª. —è–∑—ã–∫–∞ –∏ –¥–∞—Ç—ã*

###### üî∏IS NULL
*–≤—ã–≤–µ–¥–µ—Ç –≤—Å–µ –∑–Ω–∞—á–µ–Ω–∏—è , –≥–¥–µ city —Ä–∞–≤–Ω–æ `NULL`*
```sql
SELECT * FROM Customers WHERE city IS NULL;
```

###### üî∏NOT
*–ø—Ä–∏–¥–∞–µ—Ç –ø—Ä–µ–¥–∏–∫–∞—Ç—É –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ , –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞–º–∏ `LIKE`, `IN`, `BETWEEN`*
```sql
SELECT * FROM Customers WHERE city IS NOT NULL;
```

###### üî∏LIKE
*`LIKE` –ø—Ä–∏–º–µ–Ω–∏–º —Ç–æ–ª—å–∫–æ –∫ –ø–æ–ª—è–º —Ç–∏–ø–∞ `CHAR` –∏–ª–∏ `VARCHAR`
–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø–æ–¥—Å—Ç—Ä–æ–∫, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ
—Å–∏–º–≤–æ–ª—ã –¥–ª—è —à–∞–±–ª–æ–Ω–∞ –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –ª—é–±–æ–π —á–∞—Å—Ç–∏:
	`_` - –∑–∞–º–µ–Ω—è–µ—Ç –æ–¥–∏–Ω,–ª—é–±–æ–π —Å–∏–º–≤–æ–ª
	`%` - –∑–∞–º–µ–Ω—è–µ—Ç –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–∏–º–≤–æ–ª–æ–≤,–ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–π –¥–ª–∏–Ω—ã*
```sql
SELECT * FROM Products WHERE name LIKE 'computer-%';
```

###### üî∏GROUP BY
*–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏ —Å—Ç—Ä–æ–∫, –∏–º–µ—é—â–∏—Ö –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ —É–∫–∞–∑–∞–Ω–Ω—ã—Ö —Å—Ç–æ–ª–±—Ü–∞—Ö, –≤ –Ω–∞–±–æ—Ä –∏—Ç–æ–≥–æ–≤—ã—Ö —Å—Ç—Ä–æ–∫. –û–±—ã—á–Ω–æ –æ–Ω –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –≤–º–µ—Å—Ç–µ —Å –∞–≥—Ä–µ–≥–∞—Ç–Ω—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏ (`COUNT`, `MAX`, `MIN`, `SUM`, `AVG`) –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—ã—á–∏—Å–ª–µ–Ω–∏–π –Ω–∞–¥ –∫–∞–∂–¥–æ–π –≥—Ä—É–ø–ø–æ–π.*
```sql
SELECT column1, column2, ..., aggregate_function(column_name)  
FROM table_name  
GROUP BY column1, column2, ...;
```

*–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–ª-–≤–æ –∫–ª–∏–µ–Ω—Ç–æ–≤ –≤ –∫–∞–∂–¥–æ–º –≥–æ—Ä–æ–¥–µ*
```sql
SELECT city, COUNT(*) as total_customers  
FROM customers  
GROUP BY city;
```

*–Ω—É–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —é–∑–µ—Ä–∞ –∏ –æ–±—â—É—é —Å—É–º–º—É –µ–≥–æ –ø–æ–∫—É–ø–æ–∫*
```sql
SELECT name,SUM(price) FROM sales GROUP BY name
```

> `GROUP BY` - –≤–∞–∂–Ω–∞—è —á–∞—Å—Ç—å `SQL` –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏ —Å–æ–∑–¥–∞–Ω–∏—è –æ—Ç—á–µ—Ç–æ–≤, –æ—Å–æ–±–µ–Ω–Ω–æ –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —Å–≤–æ–¥–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏–∑ –±–æ–ª—å—à–æ–≥–æ –Ω–∞–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö
###### üî∏HAVING
*–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ `GROUP BY` (–ø–æ–¥–æ–±–Ω–æ —Ç–æ–º—É, –∫–∞–∫ `WHERE` —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏)*. `HAVING` –¥–æ–ª–∂–Ω–æ –æ—Ç–Ω–æ—Å–∏—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –∫ –∞–≥—Ä–µ–≥–∞—Ç–∞–º –∏ –ø–æ–ª—è–º, –≤—ã–±—Ä–∞–Ω–Ω—ã–º –ø–æ `GROUP –í–£`.

*–∑–∞–ø—Ä–æ—Å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Ç–µ –≥–æ—Ä–æ–¥–∞, –≥–¥–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–ª–∏–µ–Ω—Ç–æ–≤ –±–æ–ª—å—à–µ 5.*
``` sql
SELECT city, COUNT(*) as total_customers
FROM customers
GROUP BY city
HAVING COUNT(*) > 5;
```

>1. –°—Ç–æ–ª–±—Ü—ã –≤ —Å–ø–∏—Å–∫–µ SELECT, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ –∞–≥—Ä–µ–≥–∞—Ç–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏—è—Ö, –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤–∫–ª—é—á–µ–Ω—ã –≤ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ GROUP BY.
>2. WHERE –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –ø–µ—Ä–µ–¥ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π, –∞ HAVING - –ø–æ—Å–ª–µ.
>3. GROUP BY —á–∞—â–µ –≤—Å–µ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å –∞–≥—Ä–µ–≥–∞—Ç–Ω—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏ –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –∏—Ç–æ–≥–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–π –≥—Ä—É–ø–ø—ã.
>4. –ü–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤ –∑–∞–ø—Ä–æ—Å–µ: FROM ‚Üí WHERE ‚Üí GROUP BY ‚Üí HAVING ‚Üí SELECT ‚Üí ORDER BY.

###### üî∏ORDER BY
*–ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∑–∞–ø—Ä–æ—Å–∞ –ø–æ –æ–¥–Ω–æ–º—É –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º —Å—Ç–æ–ª–±—Ü–∞–º –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ*
- **ASC** - —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é (–∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- **DESC** - —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ —É–±—ã–≤–∞–Ω–∏—é

```sql
SELECT id, name   
FROM clients   
ORDER BY id DESC;
```

*—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –ø–æ–ª—è–º*
```sql
SELECT id, is_primary, value 
FROM client_phones   
ORDER BY is_primary DESC, id ASC;
```

*–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —Å —É—Å–ª–æ–≤–∏—è–º–∏ (`CASE`)*
```sql
SELECT id, name, status_id   
FROM orders   
ORDER BY   
    CASE   
		WHEN status_id = 1 THEN 0   
		WHEN status_id = 5 THEN 1   
		ELSE 2   
	END,   
    created_at DESC;
```

*–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —Å NULL –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –ø–µ—Ä–≤—ã–º–∏*
```sql
SELECT id, start_date, order_id   
FROM orders_works   
ORDER BY   
	CASE 
		WHEN start_date IS NULL THEN 0 
		ELSE 1 
	END,   
    start_date ASC;
```

*–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —Å —Ñ—É–Ω–∫—Ü–∏—è–º–∏*
```sql
SELECT id, name, lname   
FROM clients   
ORDER BY LENGTH(name) DESC;
```

###### üî∏LIMIT
*–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∑–∞–ø–∏—Å–µ–π, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–º*

```sql
SELECT * FROM clients LIMIT 10;
```

###### üî∏OFFSET
*–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–æ–ø—É—Å–∫–∞ —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å—Ç—Ä–æ–∫ –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º –≤—ã–±–æ—Ä–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤. –ß–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–º–µ—Å—Ç–µ —Å –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–º `LIMIT`. –í–∞–∂–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö*

```sql
SELECT * FROM clients LIMIT 10 OFFSET 20;
```

>1. **–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ ORDER BY**: –ï—Å–ª–∏ –≤—ã –Ω–µ —É–∫–∞–∑—ã–≤–∞–µ—Ç–µ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ OFFSET, —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–º–∏, —Ç–∞–∫ –∫–∞–∫ –ø–æ—Ä—è–¥–æ–∫ —Å—Ç—Ä–æ–∫ –≤ —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω—ã—Ö –ë–î –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω.
>2. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –ü—Ä–∏ –±–æ–ª—å—à–∏—Ö –∑–Ω–∞—á–µ–Ω–∏—è—Ö OFFSET –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –º–æ–∂–µ—Ç —Å–Ω–∏–∂–∞—Ç—å—Å—è, –ø–æ—Å–∫–æ–ª—å–∫—É –°–£–ë–î –≤—Å—ë —Ä–∞–≤–Ω–æ –¥–æ–ª–∂–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –∏ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ –ø—Ä–µ–¥—à–µ—Å—Ç–≤—É—é—â–∏–µ —Å—Ç—Ä–æ–∫–∏.
>3. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –ø—É—Å—Ç—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤**: –ï—Å–ª–∏ OFFSET —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –ø–æ–∑–∏—Ü–∏—é –∑–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏ —Ä–µ–∑—É–ª—å—Ç–∏—Ä—É—é—â–µ–≥–æ –Ω–∞–±–æ—Ä–∞, –∑–∞–ø—Ä–æ—Å –≤–µ—Ä–Ω–µ—Ç –ø—É—Å—Ç–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç, –∞ –Ω–µ –æ—à–∏–±–∫—É.

###### üî∏DISTINCT
*–û–ø–µ—Ä–∞—Ç–æ—Ä `DISTINCT` –≤ SQL –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ –∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∑–∞–ø—Ä–æ—Å–∞. –û–Ω –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ–ª—å–∫–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏, –æ—Å–Ω–æ–≤—ã–≤–∞—è—Å—å –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω—ã—Ö —Å—Ç–æ–ª–±—Ü–∞—Ö.*

*–∑–∞–ø—Ä–æ—Å –≤–µ—Ä–Ω–µ—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —Å—Ç–∞—Ç—É—Å–æ–≤ –∑–∞–∫–∞–∑–æ–≤ (–±–µ–∑ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π)*
```sql
SELECT DISTINCT status_id   
FROM orders;
```

*DISTINCT —Å —Ñ—É–Ω–∫—Ü–∏—è–º–∏ –∞–≥—Ä–µ–≥–∞—Ü–∏–∏*

*–∑–∞–ø—Ä–æ—Å –ø–æ–¥—Å—á–∏—Ç–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å—Ç–∞—Ç—É—Å–æ–≤ –∑–∞–∫–∞–∑–æ–≤*
```sql
SELECT COUNT(DISTINCT status_id)   
FROM orders;
```

>1. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `DISTINCT` –º–æ–∂–µ—Ç —Å–Ω–∏–∑–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–∞–ø—Ä–æ—Å–æ–≤, –æ—Å–æ–±–µ–Ω–Ω–æ –Ω–∞ –±–æ–ª—å—à–∏—Ö —Ç–∞–±–ª–∏—Ü–∞—Ö, —Ç–∞–∫ –∫–∞–∫ —Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è.
>2. **NULL –∑–Ω–∞—á–µ–Ω–∏—è**: `DISTINCT` —Å—á–∏—Ç–∞–µ—Ç –≤—Å–µ NULL –∑–Ω–∞—á–µ–Ω–∏—è –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏. –ï—Å–ª–∏ –≤ –≤—ã–±–æ—Ä–∫–µ –µ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—Ç—Ä–æ–∫ —Å NULL –≤ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö —Å—Ç–æ–ª–±—Ü–∞—Ö, —Ç–æ–ª—å–∫–æ –æ–¥–Ω–∞ –∏–∑ –Ω–∏—Ö –±—É–¥–µ—Ç –≤–∫–ª—é—á–µ–Ω–∞ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç.
>3. **–ü–∞–º—è—Ç—å**: –î–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ `DISTINCT` –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø–∞–º—è—Ç—å, –æ—Å–æ–±–µ–Ω–Ω–æ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –±–æ–ª—å—à–∏–º–∏ –Ω–∞–±–æ—Ä–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö.
>4. **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã**: –í –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å–ª—É—á–∞—è—Ö –≤–º–µ—Å—Ç–æ `DISTINCT` –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `GROUP BY`, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –±—ã—Ç—å –±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–º

---

---
### üîπ –ß–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∑–∞–ø—Ä–æ—Å—ã
###### üî∏ –ø–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–ª-–≤–æ –∑–∞–ø–∏—Å–µ–π, –≥–¥–µ –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º –ø–æ–ª–µ (email) –µ—Å—Ç—å –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è –∑–Ω–∞—á–µ–Ω–∏—è (–¥—É–±–ª–∏)
```sql
SELECT email COUNT(email)
FROM users
GROUP BY email
HAVING COUNT(email) > 2;
```

###### üî∏ –ø–æ–¥—Å—á–µ—Ç –∫–æ–ª-–≤–æ –∑–∞–ø–∏—Å–µ–π, –ø–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –ø–∞—Ä–∞–º–µ—Ç—Ä—É
```sql
SELECT COUNT(case when status='2' then 1 end) FROM users;
```
###### üî∏–ø–æ–ª—É—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä –∫–∞–∂–¥–æ–π —Ç–∞–±–ª–∏—Ü—ã –≤ PostgreSQL
```sql
SELECT
    relname AS "Table",
    pg_size_pretty(pg_total_relation_size(relid)) AS "Size"
FROM pg_catalog.pg_statio_user_tables
ORDER BY pg_total_relation_size(relid) DESC;
```

###### üî∏–ö–æ–ª-–≤–æ –∑–∞–ø–∏—Å–µ–π —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ –¥–∞—Ç–µ
```sql
SELECT received_at::date AS RecDate, COUNT(*) as Count
FROM history
GROUP BY RecDate;
```

###### üî∏–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —É –∫–æ—Ç–æ—Ä—ã—Ö email –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –±–æ–ª—å—à–æ–π –±—É–∫–≤—ã, –Ω–æ –ø—Ä–∏ —ç—Ç–æ–º –∏—Å–∫–ª—é—á–∏—Ç—å –∑–∞–ø–∏—Å–∏ —É –∫–æ—Ç–æ—Ä—ã—Ö email –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å —Ü–∏—Ñ—Ä—ã
```sql
SELECT *
FROM users
WHERE LEFT(email, 1) = UPPER(LEFT(email, 1))
  AND email NOT LIKE '0%'
  AND email NOT LIKE '1%'
  AND email NOT LIKE '2%'
  AND email NOT LIKE '3%'
  AND email NOT LIKE '4%'
  AND email NOT LIKE '5%'
  AND email NOT LIKE '6%'
  AND email NOT LIKE '7%'
  AND email NOT LIKE '8%'
  AND email NOT LIKE '9%';
```

---