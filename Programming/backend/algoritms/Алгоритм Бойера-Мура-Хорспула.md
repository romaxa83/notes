#algoritm #python #recipes

–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–±—å—Å–Ω–µ–Ω–∏—è - https://www.youtube.com/watch?v=kvWFAZwZ_8U

**–ê–ª–≥–æ—Ä–∏—Ç–º –ë–æ–π–µ—Ä–∞-–ú—É—Ä–∞-–•–æ—Ä—Å–ø—É–ª–∞ (BMH)**¬†‚Äî —ç—Ç–æ —É–ø—Ä–æ—â–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–≥–æ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –ë–æ–π–µ—Ä–∞-–ú—É—Ä–∞. –û–Ω —á–∞—Å—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –±—ã—Å—Ç—Ä–µ–µ –≤—Å–µ—Ö (–¥–∞–∂–µ –±—ã—Å—Ç—Ä–µ–µ –ö–ú–ü) –Ω–∞ –æ–±—ã—á–Ω—ã—Ö —Ç–µ–∫—Å—Ç–∞—Ö, –ø–æ—Ç–æ–º—É —á—Ç–æ —É–º–µ–µ—Ç ¬´–ø—Ä–æ–ª–µ—Ç–∞—Ç—å¬ª –æ–≥—Ä–æ–º–Ω—ã–µ –∫—É—Å–∫–∏ —Å—Ç—Ä–æ–∫–∏, –¥–∞–∂–µ –Ω–µ –∑–∞–≥–ª—è–¥—ã–≤–∞—è –≤ –Ω–∏—Ö.

==–ì–ª–∞–≤–Ω–∞—è —Ñ–∏—à–∫–∞==
–í –æ—Ç–ª–∏—á–∏–µ –æ—Ç –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤, –æ–Ω —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç —Å–∏–º–≤–æ–ª—ã¬†**—Å–ø—Ä–∞–≤–∞ –Ω–∞–ª–µ–≤–æ**¬†(—Å –∫–æ–Ω—Ü–∞ –ø–∞—Ç—Ç–µ—Ä–Ω–∞), –Ω–æ –¥–≤–∏–≥–∞–µ—Ç –æ–∫–Ω–æ –ø–æ–∏—Å–∫–∞¬†**—Å–ª–µ–≤–∞ –Ω–∞–ø—Ä–∞–≤–æ**

#### üîπ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç: –¢–∞–±–ª–∏—Ü–∞ —Å–º–µ—â–µ–Ω–∏–π (Bad Character Shift)

–ü–µ—Ä–µ–¥ –ø–æ–∏—Å–∫–æ–º –º—ã —Å–æ–∑–¥–∞–µ–º —Ç–∞–±–ª–∏—Ü—É, –≤ –∫–æ—Ç–æ—Ä–æ–π –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–∏–º–≤–æ–ª–∞ –∞–ª—Ñ–∞–≤–∏—Ç–∞ –∑–∞–ø–∏—Å–∞–Ω–æ, –Ω–∞ —Å–∫–æ–ª—å–∫–æ —à–∞–≥–æ–≤ –º–æ–∂–Ω–æ —Å–¥–≤–∏–Ω—É—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω, –µ—Å–ª–∏ –º—ã –≤—Å—Ç—Ä–µ—Ç–∏–ª–∏ —ç—Ç–æ—Ç —Å–∏–º–≤–æ–ª –ø—Ä–∏ –Ω–µ—Å–æ–≤–ø–∞–¥–µ–Ω–∏–∏.
**–ü—Ä–∞–≤–∏–ª–æ –ø—Ä–æ—Å—Ç–æ–µ:**
1. –ë–µ—Ä–µ–º –ø–æ—Å–ª–µ–¥–Ω–∏–π —Å–∏–º–≤–æ–ª –ø–∞—Ç—Ç–µ—Ä–Ω–∞.
2. –ï—Å–ª–∏ –æ–Ω –Ω–µ —Å–æ–≤–ø–∞–ª —Å —Å–∏–º–≤–æ–ª–æ–º –≤ —Ç–µ–∫—Å—Ç–µ, —Å–º–æ—Ç—Ä–∏–º –≤ —Ç–∞–±–ª–∏—Ü—É: ¬´–ù–∞ —Å–∫–æ–ª—å–∫–æ —è –º–æ–≥—É –ø—Ä—ã–≥–Ω—É—Ç—å, –≤—Å—Ç—Ä–µ—Ç–∏–≤ —ç—Ç–æ—Ç —Å–∏–º–≤–æ–ª?¬ª.
3. –ü—Ä—ã–≥–∞–µ–º.

==—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è==
```python
t = "–¥–∞–Ω–Ω—ã–µ"

# –≠—Ç–∞–ø 1: —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã —Å–º–µ—â–µ–Ω–∏–π

S = set()  # —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã –≤ –æ–±—Ä–∞–∑–µ
M = len(t) # —á–∏—Å–ª–æ —Å–∏–º–≤–æ–ª–æ–≤ –≤ –æ–±—Ä–∞–∑–µ
d = {}     # —Å–ª–æ–≤–∞—Ä—å —Å–º–µ—â–µ–Ω–∏–π

for i in range(M-2, -1, -1): # –∏—Ç–µ—Ä–∞—Ü–∏–∏ —Å –ø—Ä–µ–¥–ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Å–∏–º–≤–æ–ª–∞
    if t[i] not in S:        # –µ—Å–ª–∏ —Å–∏–º–≤–æ–ª –µ—â–µ –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω –≤ —Ç–∞–±–ª–∏—Ü—É
        d[t[i]] = M-i-1
        S.add(t[i])

if t[M-1] not in S:     # –æ—Ç–¥–µ–ª—å–Ω–æ —Ñ–æ—Ä–º–∏—Ä—É–µ–º –ø–æ—Å–ª–µ–¥–Ω–∏–π —Å–∏–º–≤–æ–ª
    d[t[M-1]] = M

d['*'] = M              # —Å–º–µ—â–µ–Ω–∏—è –¥–ª—è –ø—Ä–æ—á–∏—Ö —Å–∏–º–≤–æ–ª–æ–≤

print(d)

# –≠—Ç–∞–ø 2: –ø–æ–∏—Å–∫ –æ–±—Ä–∞–∑–∞ –≤ —Å—Ç—Ä–æ–∫–µ

a = "–º–µ—Ç–µ–æ–¥–∞–Ω–Ω—ã–µ"
N = len(a)

if N >= M:
    i = M-1       # —Å—á–µ—Ç—á–∏–∫ –ø—Ä–æ–≤–µ—Ä—è–µ–º–æ–≥–æ —Å–∏–º–≤–æ–ª–∞ –≤ —Å—Ç—Ä–æ–∫–µ

    while(i < N):
        k = 0
        j = 0
        flBreak = False
        for j in range(M-1, -1, -1):
            if a[i-k] != t[j]:
                if j == M-1:
                    off = d[a[i]] if d.get(a[i], False) else d['*']  # —Å–º–µ—â–µ–Ω–∏–µ, –µ—Å–ª–∏ –Ω–µ —Ä–∞–≤–µ–Ω –ø–æ—Å–ª–µ–¥–Ω–∏–π —Å–∏–º–≤–æ–ª –æ–±—Ä–∞–∑–∞
                else:
                    off = d[t[j]]   # —Å–º–µ—â–µ–Ω–∏–µ, –µ—Å–ª–∏ –Ω–µ —Ä–∞–≤–µ–Ω –Ω–µ –ø–æ—Å–ª–µ–¥–Ω–∏–π —Å–∏–º–≤–æ–ª –æ–±—Ä–∞–∑–∞

                i += off    # —Å–º–µ—â–µ–Ω–∏–µ —Å—á–µ—Ç—á–∏–∫–∞ —Å—Ç—Ä–æ–∫–∏
                flBreak = True  # –µ—Å–ª–∏ –Ω–µ—Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ —Å–∏–º–≤–æ–ª–∞, —Ç–æ flBreak = True
                break

            k += 1          # —Å–º–µ—â–µ–Ω–∏–µ –¥–ª—è —Å—Ä–∞–≤–Ω–∏–≤–∞–µ–º–æ–≥–æ —Å–∏–º–≤–æ–ª–∞ –≤ —Å—Ç—Ä–æ–∫–µ

        if not flBreak:          # –µ—Å–ª–∏ –¥–æ—à–ª–∏ –¥–æ –Ω–∞—á–∞–ª–∞ –æ–±—Ä–∞–∑–∞, –∑–Ω–∞—á–∏—Ç, –≤—Å–µ –µ–≥–æ —Å–∏–º–≤–æ–ª—ã —Å–æ–≤–ø–∞–ª–∏
            print(f"–æ–±—Ä–∞–∑ –Ω–∞–π–¥–µ–Ω –ø–æ –∏–Ω–¥–µ–∫—Å—É {i-k+1}")
            break
    else:
        print("–æ–±—Ä–∞–∑ –Ω–µ –Ω–∞–π–¥–µ–Ω")
else:
    print("–æ–±—Ä–∞–∑ –Ω–µ –Ω–∞–π–¥–µ–Ω")
```
---

#### üîπ –ü–æ—á–µ–º—É —ç—Ç–æ –∫—Ä—É—Ç–æ?¬†

1. **–°–∫–æ—Ä–æ—Å—Ç—å:** –ù–∞ –¥–ª–∏–Ω–Ω—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–∞—Ö –∏ –±–æ–ª—å—à–∏—Ö –∞–ª—Ñ–∞–≤–∏—Ç–∞—Ö –∞–ª–≥–æ—Ä–∏—Ç–º –º–æ–∂–µ—Ç –ø—Ä–æ–≤–µ—Ä—è—Ç—å –≤—Å–µ–≥–æ ùëÅ/ùëÄ —Å–∏–º–≤–æ–ª–æ–≤ —Ç–µ–∫—Å—Ç–∞.
2. **–ü—Ä–æ—Å—Ç–æ—Ç–∞:** –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ç–∞–±–ª–∏—Ü—ã —Å–º–µ—â–µ–Ω–∏–π –≥–æ—Ä–∞–∑–¥–æ –ø—Ä–æ—â–µ, —á–µ–º –ø—Ä–µ—Ñ–∏–∫—Å-—Ñ—É–Ω–∫—Ü–∏—è –≤ –ö–ú–ü.
3. **–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å:** –í —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ö –º–Ω–æ–≥–∏—Ö —è–∑—ã–∫–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ–∏—Å–∫ –≤ `String` –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è—Ö C++ –∏–ª–∏ Go) –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤–∞—Ä–∏–∞—Ü–∏–∏ –∏–º–µ–Ω–Ω–æ —ç—Ç–æ–≥–æ –∞–ª–≥–æ—Ä–∏—Ç–º–∞.¬†

==–°–ª–æ–∂–Ω–æ—Å—Ç—å¬†==
- **–í —Å—Ä–µ–¥–Ω–µ–º:** ùëÇ(ùëÅ) –∏–ª–∏ –¥–∞–∂–µ —Å—É–±–ª–∏–Ω–µ–π–Ω–∞—è (–±—ã—Å—Ç—Ä–µ–µ, —á–µ–º –ø—Ä–æ—Ö–æ–¥ –ø–æ –∫–∞–∂–¥–æ–º—É —Å–∏–º–≤–æ–ª—É).
- **–í —Ö—É–¥—à–µ–º —Å–ª—É—á–∞–µ:** ùëÇ(ùëÅ√óùëÄ) (–Ω–æ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö —ç—Ç–æ –ø–æ—á—Ç–∏ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ, –Ω—É–∂–Ω–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –ø–æ–¥–±–∏—Ä–∞—Ç—å —Å—Ç—Ä–æ–∫—É).