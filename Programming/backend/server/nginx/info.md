
–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ—Å—Ç–æ—è—Ç –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ (http, server. location ...) –∏ –¥–∏—Ä–µ–∫—Ç–∏–≤ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ, –¥–æ—á–µ—Ä–Ω–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –Ω–∞—Å–ª–µ–¥—É–µ—Ç –¥–µ—Ä–∏–∫—Ç–∏–≤—ã —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –µ—Å–ª–∏ –æ–Ω–∏ –Ω–µ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –≤ –¥–æ—á–µ—Ä–Ω–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ.

–µ—Å—Ç—å —Ç—Ä–∏ –≤–∏–¥–∞ –¥–∏—Ä–µ–∫—Ç–∏–≤
- —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –¥–∏—Ä–µ–∫—Ç–∏–≤—ã (standart directive)
	–ø—Ä–∏–º–µ—Ä:
		`gzip on;`
- –¥–∏—Ä–µ–∫—Ç–∏–≤—ã –º–∞—Å—Å–∏–≤—ã (array directive)
	–ø—Ä–∏–º–µ—Ä:
		`access_log logs/access.log;`
		`access_log logs/access_notice.log notice;`
- –¥–∏—Ä–µ–∫—Ç–∏–≤—ã –¥–µ–π—Å—Ç–≤–∏—è (action directive)
	–¥–∏—Ä–µ–∫—Ç–∏–≤—ã –¥–µ–π—Å—Ç–≤–∏—è –Ω–µ –Ω–∞—Å–ª–µ–¥—É—é—Ç—å—Å—è, —Ç–∞–∫ –∫–∞–∫ –ø–æ—Ç–æ–∫
	–∑–∞–ø—Ä–æ—Å–∞ –º–≥–Ω–æ–≤–µ–Ω–æ –ø—Ä–µ—Ä—ã–≤–∞–µ—Ç—å—Å—è –∫–∞–∫–∏–º-—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ–º

##### üî∏ `try_files`

`try_files` - —É–Ω–∏–∫–∞–ª—å–Ω–∞—è –¥–∏—Ä–µ–∫—Ç–∏–≤–∞ –æ–Ω–∞ –Ω–µ –Ω–∞—Å–ª–µ–¥—É–µ—Ç—Å—è ,—Ç.–∫. –≤ –Ω–µ–π –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –¥–µ–π—Å—Ç–≤–∏–µ –∫–æ—Ç–æ—Ä–æ–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è

==–∫ –ø—Ä–∏–º–µ—Ä—É==
`try_files $uri index.html =404;`

—Å–Ω–∞—á–∞–ª–∞ –ø–æ–ø—Ä–æ–±—É–µ—Ç –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å —Ñ–∞–π–ª –∫–æ—Ç–æ—Ä—ã–π –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ –ø–µ—Ä–µ–º–µ–Ω–æ–π `$uri` (url –ø–æ –∫–æ—Ç–æ—Ä–æ–º—É –ø–µ—Ä–µ—à–ª–∏), –µ—Å–ª–∏ —Ç–∞–∫–æ–≥–æ –Ω–µ—Ç, –ø–æ–ø—Ä–æ–±—É–µ—Ç –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å `index.html`, –µ—Å–ª–∏ –∏ –µ–≥–æ –Ω–µ—Ç —Ç–æ–≥–¥–∞ –æ—Ç–æ–±—Ä–∞–∑–∏—Ç –æ—à–∏–±–∫—É `404`.
##### üî∏ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö —Ö–æ—Å—Ç–æ–≤ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ —Å–µ–∫—Ü–∏–∏

`server` , –∫–æ—Ç–æ—Ä–∞—è –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ —Å–µ–∫—Ü–∏–∏ http

##### üî∏ `mime.type`

–¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ —Ä–∞–∑–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ (css, js, ....) —Å–µ—Ä–≤–µ—Ä –¥–æ–ª–∂–µ–Ω –æ—Ç–¥–∞–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ `mime-type` (–ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ –∑–∞–≥–∞–ª–æ–≤–∫–µ `Content-Type`) –¥–ª—è `css` —ç—Ç–æ –∫ –ø—Ä–∏–º–µ—Ä—É `text/css` –≤ –∫–æ–Ω—Ñ–∏–≥–µ `nginx` –≤ –Ω–∞—á–∞–ª–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ `http` –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è —Ñ–∞–π–ª (`include/etc/nginx/mime.types`), –≥–¥–µ —É–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –≤—Å–µ –Ω—É–∂–Ω—ã–µ —Ç–∏–ø—ã.

—Ç–∞–∫–∂–µ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ `types` –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç–∏–ø—ã
##### üî∏ –ë–ª–æ–∫–∏ `location`

–° –ø–æ–º–æ—â—å—é —ç—Ç–∏—Ö –±–ª–æ–∫–æ–≤ –º–æ–∂–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π `uri` (–∏—Ö –º–æ–∂–Ω–æ —Ä–∞—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –∫–∞–∫ –ø–µ—Ä–µ—Ö–≤–∞—á–∏–∫–æ–≤ –∑–∞–ø—Ä–æ—Å–∞). –ü—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É `/home` –ø–æ–ø–∞–¥–µ—Ç `location` –∏ –ø–æ–ª—É—á–∏—Ç —Ç–æ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∫–æ—Ç–æ—Ä—ã–π —Ç–∞–º –æ–ø–∏—Å–∞–Ω (–Ω–∞–∑—ã–≤–∞–µ—Ç—å—Å—è —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –ø—Ä–µ—Ñ–∏–∫—Å–æ–≤)
```ini
location /home {
	return 200 "Hello from nginx";
}
```

–ø—Ä–∏ —ç—Ç–æ–º –¥–∞–Ω–Ω–∞—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –æ—Ç—Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∏ —Ç–∞–∫–∏—Ö —É—Ä–ª–∞—Ö
```ini
/home*
/homeland
/home/something
```

–µ—Å–ª–∏ –Ω—É–∂–Ω–æ —Ç–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ
```ini
location = /home {
	return 200 "Hello from app nginx";
}
```

—Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –ø–æ —Ä–µ–≥—É–ª—è—Ä–Ω–æ–º—É –≤—ã—Ä–∞–∂–µ–Ω–∏—é —Å–∏–º–≤–æ–ª `~` —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –Ω–∞—á–∞–ª–æ —Ä–µ–≥—É–ª—è—Ä–Ω–æ–≥–æ –≤—ã—Ä–∞–∂–µ–Ω–∏—è —á—Ç–æ–±—ã –ø–∞—Ç—Ç–µ—Ä–Ω –±—ã–ª –Ω–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω –∫ —Ä–µ–≥–∏—Å—Ç—Ä—É, –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–¥ —Ç–∏–ª—å–¥–æ–π –ø–æ—Å—Ç–∞–≤–∏—Ç—å —Å–∏–º–≤–æ–ª `*`
```ini
location ~ /home[0-2] {
	return 200 "Hello from app nginx";
}
```

—Å—Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∏ `/home` –æ—Ç `0` –¥–æ `2`

–µ—Å–ª–∏ –ø–µ—Ä–µ–¥ —Ç–∏–ª—å–¥–æ–π —É–∫–∞–∑–∞—Ç—å —Å–∏–º–≤–æ–ª `^` , —Ç–æ —ç—Ç–æ –±—É–¥–µ—Ç –∫–∞–∫ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –ø–æ –ø—Ä–µ—Ñ–∏–∫—Å—É –Ω–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –≤—ã—à–µ —á–µ–º —É —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π, —Ç.–µ –µ—Å–ª–∏ —Ä–µ–≥—É–ª—è—Ä–∫–∞ –∏ –ø—Ä–µ—Ñ–∏–∫—Å (—Å —Å–∏–º–≤–æ–ª–æ–º `^`) –¥–µ–ª—è—Ç –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –∑–∞–ø—Ä–æ—Å —Ç–æ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–µ –±—É–¥–µ—Ç —É –ø—Ä–µ—Ñ–∏–∫—Å–∞

–ø–æ—Ä—è–¥–æ–∫ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π
-  `=` –ø–æ–ª–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ(exact match)
- `^~` –ø—Ä–µ—Ñ–∏–∫—Å –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ (preferential prefix)
- `~&*~` —Ä–µ–≥—É–ª—è—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ (regex match)
-  —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –ø—Ä–µ—Ñ–∏–∫—Å , –±–µ–∑ –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞(prefix match)

##### üî∏ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –ª–æ–≥–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è
```bash
/var/log/nginx/access.log # –ª–æ–≥–∏ –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ —Å–µ—Ä–≤–µ—Ä—É
/var/log/nginx/error.log # –ª–æ–≥–∏ –æ—à–∏–±–æ–∫
```

–ª–æ–≥–∏ —É–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –≥–ª–æ–±–∞–ª—å–Ω–æ, –Ω–æ –≤ –∫–∞–∂–¥–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ (http, server) –∏—Ö –º–æ–∂–Ω–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∏–ª–∏ –æ—Ç–∫–ª—é—á–∏—Ç—å.

–ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ –¥–ª—è –ª–æ–≥–æ–≤
```ini
error_log /var/log/nginx/error.log;
```

–º–æ–∂–Ω–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –∏—Ö –≤ –∫–∞–∂–¥–æ–º location
```ini
location /download {
	error_log /var/log/nginx/downloads.error.log
}
```

—Ç–∞–∫–∂–µ –º–æ–∂–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å —Ñ–ª–∞–≥–∏
```ini
error_log /var/log/nginx/error.log debug;
```
`debug` - –≤—ã–≤–æ–¥–∏—Ç –±–æ–ª—å—à–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

–ò–º–µ–µ—Ç —Å–º—ã—Å–ª –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö `location` –æ—Ç–∫–ª—é—á–∞—Ç—å –ª–æ–≥–∏ (–∫–∞–∫ –º–∏–Ω–∏–º—É–º `access.log`), –∫ –ø—Ä–∏–º–µ—Ä—É –µ—Å–ª–∏ –æ—Ç–¥–∞—é—Ç—Å—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã —ç—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç –∏–∑–±–∞–≤–∏—Ç—å—Å—è –æ—Ç –∏–∑–±—ã—Ç–æ—á–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
```ini
access_log off;
error_log off;
```

##### üî∏ Nginx + php

> `nginx` —è–≤–ª—è–µ—Ç—Å—è –ø—Ä–æ–∫—Å–∏ –º–µ–∂–¥—É –∫–ª–∏–µ–Ω—Ç–æ–º –∏ `php-fpm`

##### üî∏ –í–æ—Ä–∫–µ—Ä—ã –∏ –ø–æ–ª–µ–∑–Ω—ã–µ –¥–∏—Ä–µ–∫—Ç–∏–≤—ã

- –≤ –∫–æ–Ω—Ñ–∏–≥–µ (–≤ —Å–∞–º–æ–º –≤–≤–µ—Ä—Ö—É) –µ—Å—Ç—å –¥–∏—Ä–µ–∫—Ç–∏–≤–∞ `worker_processes auto;` - –æ–Ω–∞ –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –∫–æ–ª-–≤–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ –∫–æ—Ç–æ—Ä–æ–µ –º–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞ —è–¥—Ä–æ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞, —Ç.–µ. –Ω–∞ 4-—Ö —è–¥–µ—Ä–Ω–æ–º –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–µ –º–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å 4 –ø—Ä–æ—Ü–µ—Å—Å–∞ `nginx`, –≤ –∏–¥–µ–∞–ª–µ –Ω—É–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å —Å—Ç–æ–ª—å–∫–æ –ø—Ä–æ—Ü–µ—Å–æ–≤ —Å–∫–æ–ª—å–∫–æ —è–¥–µ—Ä (lscpu - –ø–æ–∫–∞–∂–µ—Ç —Å–∫–æ–ª—å–æ–∫ —è–¥–µ—Ä) –º–æ–∂–Ω–æ –ø—Ä–æ—Å—Ç–æ —É–∫–∞–∑–∞—Ç—å `auto` –∏ nginx —Å–æ–∑–¥–∞—Å—Ç –ø–æ –ø—Ä–æ—Ü–µc—Å—É –Ω–∞ —è–¥—Ä–æ.

- –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ `events` –µ—Å—Ç—å –¥–∏—Ä–µ–∫—Ç–∏–≤–∞ - `worker_connections 1024;`.–° –ø–æ–º–æ—â—å—é –Ω–µ–µ –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å—É –≤–æ—Ä–∫–µ—Ä —Å–∫–æ–ª—å–∫–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –æ–Ω –º–æ–∂–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å,—Ç.–µ. –µ—Å–ª–∏ —É –Ω–∞—Å `worker_connections 1024` –∏ 2 –ø—Ä–æ—Ü–µ—Å—Å–∞ —Ç–æ –º—ã –º–æ–∂–µ–º –ø—Ä–∏–Ω—è—Ç—å 2—Ç—ã—Å. –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π `ulimit -n` - –≤—ã–≤–µ–¥–µ—Ç –∫–æ–ª-–≤–æ –≤–æ–∑–º–æ–∂–Ω—ã—Ö –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π –∫ —è–¥—Ä—É, –µ–≥–æ –∏ —Å—Ç–æ–∏—Ç —É–∫–∞–∑—ã–≤–∞—Ç—å –≤ —ç—Ç–æ–π –¥–∏—Ä–µ–∫—Ç–∏–≤–µ.

- –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ events –µ—Å—Ç—å –¥–∏—Ä–µ–∫—Ç–∏–≤–∞ `multi_accept on;`. –ü–æ–∑–≤–æ–ª—è–µ—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –ø—Ä–∏–Ω–∏–º–∞—Ç—å –≤—Å–µ –Ω–æ–≤—ã–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è, –µ—Å–ª–∏ –æ–Ω–æ `off` —Ç–æ nginx –±—É–¥–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –æ–¥–Ω–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∑–∞ –µ–¥–∏–Ω–∏—Ü—É –≤—Ä–µ–º–µ–Ω–∏.

- –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ `http` –µ—Å—Ç—å —Ä—è–¥ –¥–∏—Ä–µ–∫—Ç–∏–≤ –ø–æ `open_file_cache`, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
```ini
open_file_cache 			max=100 inactive=20s;
open_file_cache_valid		30s;
open_file_cache_min_user	2;
open_file_cache_errors		on;
```

- –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ `http` –µ—Å—Ç—å —Ä—è–¥ –¥–∏—Ä–µ–∫—Ç–∏–≤ –¥–ª—è –±—É—Ñ–µ—Ä–∞ `post`-–∑–∞–ø—Ä–æ—Å–∞ –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞
```ini
client_body_buffer_size 16k;
client_header_buffer_size 1k;
client_max_body_size 8m;
large_client_header_buffers 2 1k;

client_body_timeout 12;		// —É–∫–∞–∑—ã–≤–∞–µ—Ç —Å–∫–æ–ª—å–∫–æ —Å–µ–∫. –∂–¥–∞—Ç—å –ø–æ—Å–ª–µ 
client_header_timeout 12;	// –ø–æ–ª—É—á–µ–Ω–∏—è client_body –∏ client_header
```

- `keepalive_timeout 300;` - —á–µ—Ä–µ–∑ —Å–∫–æ–ª—å–∫–æ –º–∏–ª–∏—Å–µ–∫—É–Ω–¥ –∑–∞–∫—Ä–æ–µ—Ç—å—Å—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏, –µ—Å–ª–∏ –Ω–µ –±—É–¥–µ—Ç –æ—Ç–≤–µ—Ç–∞
- `send_timeout 10;` - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –∫–æ–ª-–≤–æ –≤ —Å–µ–∫. —á–µ—Ä–µ–∑ –∫–æ—Ç–æ—Ä–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –±—É–¥–µ—Ç –∑–∞–∫—Ä—ã—Ç–æ

##### üî∏ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤

–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–∏—Ä–µ–∫—Ç–∏–≤–∞ –º–∞—Å—Å–∏–≤ `add_header`
```ini
add_header "Cache-Control" "no-transform";
```

—Ñ—Ä–µ–π–º—ã –±—É–¥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –µ—Å–ª–∏ –æ–Ω–∏ —Å —Ç–æ–≥–æ –∂–µ –¥–æ–º–µ–Ω–∞
```ini
add_header X-Frame-Options SAMEORIGIN;
```

##### üî∏ –ë–∞–∑–æ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

```ini
# –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—å—Å—è –±–ª–æ–∫ server
server {
	# –ø–æ—Ä—Ç –ø–æ –∫–æ—Ç–æ—Ä–æ–º—É —Å–µ—Ä–≤–µ—Ä –æ–∂–∏–¥–∞–µ—Ç –∑–∞–ø—Ä–æ—Å
    listen 80;
    # —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞
    index index.php index.html;
    # –ø—É—Ç—å,–≥–¥–µ –∏—Å–∫–∞—Ç—å —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
    root /var/www/api/public;

    location / {
        try_files $uri /index.php?$args;
    }

    location ~ \.php$ {
        fastcgi_split_path_info ^(.+\.php)(/.+)$;
        fastcgi_pass app-php-fpm:9000;
        fastcgi_index index.php;
        include fastcgi_params;
        fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
        fastcgi_param PATH_INFO $fastcgi_path_info;
    }
}

```
 
##### üî∏ –ë–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞ –Ω–∞–≥—Ä—É–∑–∫–∏

–î–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏ –ø–æ —Å–µ—Ä–≤–µ—Ä–∞–º HTTP –≤–æ—Å–ø–æ–ª—å–∑—É–π—Ç–µ—Å—å –º–æ–¥—É–ª–µ–º HTTP NGINX –ø—Ä–∏–º–µ–Ω–∏–≤ –±–ª–æ–∫ `upstream`:
```ini
upstream backend {
    server 10.10.12.45:80     weight=1;
    server app.example.com:80 weight=2;
}
server {
    location / {
        proxy_pass http://backend;
    }
}
```

–î–∞–Ω–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫—É –Ω–∞–≥—Ä—É–∑–∫–∏ –ø–æ –¥–≤—É–º —Å–µ—Ä–≤–µ—Ä–∞–º HTTP —Å –ø–æ—Ä—Ç–æ–º 80. –ó–Ω–∞—á–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ weight –∏–Ω—Å—Ç—Ä—É–∫—Ç–∏—Ä—É–µ—Ç NGINX –æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –≤ –¥–≤–∞ —Ä–∞–∑–∞ –±–æ–ª—å—à–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π –Ω–∞ –≤—Ç–æ—Ä–æ–π —Å–µ—Ä–≤–µ—Ä, –ø—Ä–∏—á—ë–º –∑–Ω–∞—á–µ–Ω–∏–µ–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è weight —è–≤–ª—è–µ—Ç—Å—è 1.

---

