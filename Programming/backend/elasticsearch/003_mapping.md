#### üîπ MAPPING 

==–ú–∞–ø–ø–∏–Ω–≥== (—Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ) ‚Äî —ç—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å—Ö–µ–º—ã –∏–ª–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤. –û–Ω –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Å–≤–æ–π—Å—Ç–≤–∞ –ø–æ–ª–µ–π –≤ –¥–æ–∫—É–º–µ–Ω—Ç–µ. –°–≤–æ–π—Å—Ç–≤–∞ –ø–æ–ª—è –≤–∫–ª—é—á–∞—é—Ç —Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, string, integer –∏ —Ç.–¥.) –∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ

–°—Ö–µ–º–∞ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∞(—Ç.–µ. –∏–∑–º–µ–Ω–∏—Ç—å —Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö), –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ –ø–æ–ª—è –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ–ª–µ–π –¥–ª—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏ –æ–¥–Ω–æ–≥–æ –∏ —Ç–æ–≥–æ –∂–µ –ø–æ–ª—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö.

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –ª—é–±—ã—Ö –ø–æ–ª–µ–π, –Ω–µ –≤—Ö–æ–¥—è—â–∏—Ö –≤ –º–∞–ø–ø–∏–≥, —Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–µ—Ä–≤–æ–≥–æ –Ω–∞–π–¥–µ–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ–ª—è, —á—Ç–æ–± –∏–∑–±–µ–∂–∞—Ç—å –Ω–µ–æ–∂–∏–¥–∞–Ω–æ—Å—Ç–µ–π —ç—Ç–æ –º–æ–∂–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å

- `"dynamic" : false` - –ø–æ–ª—è –Ω–µ –≤ —Å—Ö–µ–º–µ –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è,
- `"dynamic" : true` - –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –Ω–æ–≤—ã–µ –ø–æ–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è—é—Ç—å—Å—è –≤ —Å—Ö–µ–º—É,
- `"dynamic" : strict` - –±—É–¥–µ—Ç –≤—ã–∑–≤–∞–Ω–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ, –µ—Å–ª–∏ –≤—ã –ø—ã—Ç–∞–µ—Ç–µ—Å—å –ø—Ä–æ–∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç —Å –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–º –ø–æ–ª–µ–º

#### üîπ Settings
–ü–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ —Å—Ö–µ–º—ã –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å—Ö–µ–º—ã

```json
"settings": {
    "number_of_shards": 2,          // –∫–æ–ª-–≤–æ —à–∞—Ä–¥–æ–≤
    "number_of_replicas": 1         // –∫–æ–ª-–≤–æ —Ä–µ–ø–ª–∏–∫
}
```

#### üîπ –ü—Ä–∏–º–µ—Ä –æ–ø–∏—Å–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞ –Ω–∞ (–ø—Ä–æ–¥—É–∫—Ç–∞)

```
PUT shop
{
    "settings": {
        "number_of_shards": 2,
        "number_of_replicas": 1
    },
    "mappings": {
        "product": {
            "dynamic" : "strict",
            "properties": {
                "id" : {
                    "type": "integer"
                },
                "name": {
                    "type": "text",
                    "fields": {
                        "exact": {
                            "type": "keyword"
                        }
                    }
                },
                "category": {
                    "type": "keyword"
                },
                "brand": {
                    "type": "keyword"
                },
                "price": {
                    "type": "float"
                },
                "amount": {
                    "type":"integer"
                },
                "date": {
                    "type":"date",
                    "format": "yyyy-MM-dd"
                },
                "status": {
                    "type": "boolean"
                },
                "agent": {
                    "type": "nested",
                    "properties": {
                        "name": {
                            "type" : "text"
                        },
                        "email": {
                            "type": "keyword"
                        },
                        "company": {
                            "type": "keyword"
                        }
                    }
                },
                "description": {
                    "type": "text",
                    "analyzer": "russian"
                }
            }
        }
    }
}
```

==–≤ –æ—Ç–≤–µ—Ç –ø—Ä–∏–π–¥–µ—Ç==
```json
{
  "acknowledged" : true,
  "shards_acknowledged" : true,
  "index" : "shop"
}
```

 ==–≤—ã–≤–µ–¥–µ—Ç —Å—Ö–µ–º—É –∏–Ω–¥–µ–∫—Å–∞==
 ```
 GET /shop/product/_mapping
 ```


–ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –ø—Ä–æ–∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞—Ç—å –æ–¥–Ω–æ –ø–æ–ª–µ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω–∞—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è `fieldsmapping`, –∫ –ø—Ä–∏–º–µ—Ä—É –ø–æ–ª–µ title –Ω—É–∂–Ω–æ –ø—Ä–æ–∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∫ `text` –∏ `keywords`, —á—Ç–æ –Ω–µ –¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–∞–∫–∞—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
```json
{
  "properties": {
    "title": {
      "type": "text",
      "fields": {
        "exact": {
          "type": "keyword"
        }
      }
    }
  }
}   
```
---
#### üîπ –£–¥–∞–ª–∏—Ç—å —Å—Ö–µ–º—É

```
DELETE /shop
```
---
#### üîπ –ü–æ–ª–µ `_all`

–í elastic –µ—Å—Ç—å –ø–æ–ª–µ `_all` , –≤ –∫–æ—Ç–æ—Ä–æ–º –Ω–∞—Ö–æ–¥—è—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏—è –≤—Å–µ—Ö –ø–æ–ª–µ —á–µ—Ä–µ–∑ –ø—Ä–æ–±–µ–ª —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å –ø–æ–∏—Å–∫ –ø–æ –≤—Å–µ–º –ø–æ–ª—è–º. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –µ—Å–ª–∏ –≤ –∑–∞–ø—Ä–æ—Å–µ –ø–æ–ª–µ –Ω–µ —É–∫–∞–∑–∞–Ω–æ, –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è `_all`

```
GET example3/history/_search?q=UNKNOWN
```

–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∏–Ω–¥–µ–∫—Å–∞ –µ–≥–æ –º–æ–∂–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å(—É–º–µ–Ω—å—à–∏—Ç—å—Å—è —Ä–∞–∑–º–µ—Ä –∏–Ω–¥–µ–∫—Å–∞ –Ω–∞ –¥–∏—Å–∫–µ)

```json
{
    "_all": {
       "enabled": false
	},
   "properties": {
     .....
   }
 }
```

==–æ—Ç–∫–ª—é—á–µ–Ω–∏–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ –ø–æ–ª—è –∏–∑ `_all`==
```json
"properties": {
    "description" : {
        "type": "keyword"
        "include_in_all": false
    }
}
```
---
#### üîπ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ç–∏–ø–∞/–ø–æ–ª—è –≤ –∏–Ω–¥–µ–∫—Å

```
 PUT shop/_mapping/history
 {
   "properties": {
      "ip_address": {
       "type": "ip"
     }
     "login_date": {
       "type": "date",
       "format": "yyyy-MM-dd"
     }
   }
 }
```
---
#### üîπ –°–í–Ø–ó–ò –ú–ï–ñ–î–£ –î–û–ö–£–ú–ï–ù–¢–ê–ú–ò 

–µ—Å—Ç—å –¥–≤–∞ —Å–ø–æ—Å–æ–±–∞
  - –æ—Ç–Ω–æ—à–µ–Ω–∏—è —Ä–æ–¥–∏—Ç–µ–ª—å-—Ä–µ–±–µ–Ω–æ–∫(parent-child)
  - –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

`Parent-child` (–ø–æ —Å—É—Ç–∏ –æ—Ç–Ω–æ—à–µ–Ω–∏—è –æ–¥–∏–Ω –∫–æ –º–Ω–æ–≥–∏–º), –ø—Ä–∏ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏ –¥–æ—á–µ—Ä–Ω–µ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞ –Ω—É–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —Å–ª–µ–¥—É—é—â–∏—Ö —Å–ª—É—á–∞—è—Ö:
  - –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ–±–æ–∏—Ö —Ç–∏–ø–æ–≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞(–Ω–æ–≤—ã–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –º–æ–∂–µ—Ç –±—ã—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω –±–µ–∑ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—å–∏)
  - –¥–æ–∫—É–º–µ–Ω—Ç—ã-–ø–æ—Ç–æ–º–∫–∏ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è —á–∞—â–µ, —á–µ–º –∏—Å—Ö–æ–¥–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç

```
PUT blog
 {
   "mappings": {
     "article": {                 //–†–æ–¥–∏—Ç–µ–ª—å
       "properties": {
         "title": {
           "type": "text"
         },
         "category": {
           "type": "keyword"
         }
       }
     },
     "comment": {                 //–†–µ–±–µ–Ω–æ–∫
       "_parent": {
         "type": "article"
       },
       "properties": {
         "comment": {
           "type": "text"
         },
         "userid": {
           "type": "keyword"
         }
       }
     }
   }
 }
```

==–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö==
```
#–†–æ–¥–∏—Ç–µ–ª—å
PUT blog/article/1 
{
  "title" : "–ü—Ä–∏–≤–µ—Ç –ú–µ–î–≤–µ–¥!!!",
  "category" : "–°—É–º–±—É—Ä –¥–∞ –∫–∞–ª–∞–º–±—É—Ä"
}

#–†–µ–±–µ–Ω–æ–∫
PUT blog/comment/10?parent=1
{
  "comment" : "–ü—Ä–æ–¥–∞—é —Å–∏–ª–∏–∫–æ–Ω–æ–≤—ã–µ —Å–∏—Å—å–∫–∏",
  "userid" : "user1"
}
```

==–ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö,–≤ elastic –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç—å has_child/has_parent –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤==
```
POST blog/article/_search
{
   "query": {
     "has_child": {
       "type": "comment",
       "query": {
         "term": {
           "userid": "user1"
         }
       }
     }
   }
 }
```

 –¥–æ–∫—É–º–µ–Ω—Ç –ø–æ—Ç–æ–º–æ–∫ —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –≤ —Ç–æ–º –∂–µ —à–∞—Ä–¥–µ —á—Ç–æ –∏ —Ä–æ–¥–∏—Ç–µ–ª—å.

---
#### üîπ Nested(–≤–ª–æ–∂–µ–Ω–∏–µ)

```json
{
 "id": 1,
 "name": "User1",
 "address": [                         //Nested
    {
      "street": "123 High Lane",
      "city": "Big City"
    },
    {
      "street" : "436 Low Lane",
      "city": "Small City"
    }
 ]
}
```

–ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –∞–¥—Ä–µ—Å–∞(–∏–ª–∏ name) –ø—Ä–∏–π–¥–µ—Ç—å—Å—è –æ–±–Ω–æ–≤–ª—è—Ç—å –≤–µ—Å—å –¥–æ–∫—É–º–µ–Ω—Ç, –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –Ω–µ –º–æ–≥—É—Ç –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞ —Ç–∞–∫ –∫–∞–∫ –æ–Ω–∏ —Å–∫—Ä—ã—Ç—ã.

---
#### üîπ –¢–ò–ü–´ –î–ê–ù–ù–´–•

- Core Data Types
	- Text Data Type (values are analyzed) - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—å—Å—è –¥–ª—è –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –ø–æ–∏—Å–∫–∞
- Keyword Data Type (not analyzed,used for filter and aggregations) –¥–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö (tags,categories,email,address ...), –ø—Ä–∏ –ø–æ–∏—Å–∫–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ 
- Numeric Data Types (integer,float,byte ...)
    - long (64-–±–∏—Ç–Ω–æ–µ —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ)
    - integer (32-–±–∏—Ç–Ω–æ–µ —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ)
    - short (16-–±–∏—Ç–Ω–æ–µ —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ)
    - byte (8-–±–∏—Ç–Ω–æ–µ —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ)
    - double (–≤–µ—â–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ —á–∏—Å–ª–æ —Å –¥–≤–æ–π–Ω–æ–π —Ç–æ—á–Ω–æ—Å—Ç—å—é)
    - float (–≤–µ—â–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ —á–∏—Å–ª–æ —Å –æ—Ä–¥–∏–Ω–∞—Ä–Ω–æ–π —Ç–æ—á–Ω–æ—Å—Ç—å—é)
    - half_float (float —Å –ø–æ–ª–æ–≤–∏–Ω–Ω–æ–π —Ç–æ—á–Ω–æ—Å—Ç—å—é)
    - scaled_float (float –Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –∫–∞–∫ long,—Å –ø–æ–º–æ—â—å—é —É–º–Ω–æ–∂–µ–Ω–∏—è –Ω–∞ –∫–æ—ç—Ñ. –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è)
- Date Data Type (string,integer)
- Boolean Data Type
- Binary Data Type (binary) - —Ö—Ä–∞–Ω–∏—Ç –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤ base64 —Å—Ç—Ä–æ–∫–∏(–Ω–µ –∏–Ω–¥–µ–∫—Å–∏—Ä—É—é—Ç—Å—è, –ø—Ä–æ—Å—Ç–æ —Ö—Ä–∞–Ω—è—Ç—Å—è), –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π, —Å–∂–∞—Ç—ã–µ –±–æ–ª—å—à–∏–µ –æ–±—å–µ–∫—Ç—ã ...
- Range Data Type (10-20) - {"gte": 10, "lte": 20}
- Complex Data Type (array,object)
- Nested Data Type (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤–ª–æ–∂–µ–Ω—ã—Ö –æ–±—å–µ–∫—Ç–æ–≤)
```
{
   "properties": {
     "address_nested": {
       "type": "nested",
       "properties": {
         "street": {
           "type": "keyword"
         },
         "city": {
           "type": "keyword"
         }
       }
     }
   }
 }
```


- Geo Data Type
- Geo-point Data Type (–¥–æ–ª–≥–æ—Ç–∞ –∏ —à–∏—Ä–æ—Ç–∞)
- Geo-share Data Type (–æ–±–ª–∞—Å—Ç—å)
- Specialized Data Type (ip)
---
#### üîπ coerce
 –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–∞–Ω–Ω—ã–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º–∏
 ```
"5" -> 5
"5.0" -> 5
5.0 -> 5 
 ```
---
#### üîπ copy_to

 ==–∫–æ–ø–∏—Ä—É–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –≤ –¥—Ä—É–≥–æ–µ –ø–æ–ª–µ==
```
{
	"first_name": {
		"type": "text",
		"copy_to": "full_name"
	},
	"last_name": {
		"type": "text",
		"copy_to": "full_name"
	},
	"full_name": {
		"type": "text",
	}
}
```
---
#### üîπ Example

```
POST search
{
    "settings": {
        "number_of_shards": 5,      //–∫–æ–ª-–≤–æ —à–∞—Ä–¥–æ–≤
        "number_of_replicas": 2     //–∫–æ–ª-–≤–æ —Ä–µ–ø—Ä–∏–∫
    },
    "mappings": {
        "hotels": {
            "dynamic" : "strict",   //–±—É–¥–µ—Ç –≤—ã–∑–≤–∞–Ω–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ, –µ—Å–ª–∏ –≤—ã –ø—ã—Ç–∞–µ—Ç–µ—Å—å –ø—Ä–æ–∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç —Å –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–º –ø–æ–ª–µ–º
            "_all": {               //–æ—Ç–∫–ª—é—á–∞–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö –ø–æ–ª–µ–π –≤ –æ–¥–Ω–æ–º –ø–æ–ª–µ(—É–º–µ–Ω—å—à–∞–µ–º –∏–Ω–¥–µ–∫—Å)
                "enabled": false
            },
            "properties": {
                "id" : {"type": "integer"},
                "resort": {
                    "type": "nested",
                    "properties": {
                        "id": {"integer"},
                        "name": {   //–ø—Ä–∏—Å–≤–∞–µ–≤–∞–µ–º –¥–≤–∞ —Ç–∏–ø –¥–ª—è –ø–æ–ª—è
                            "type" : "text",
                            "analyzer": "russian"
                            "fields": {
                                "keyword": {
                                    "type": "keyword",
                                    "ignore_above": 256
                                }
                            }
                        },
                        "alias": {"type": "keyword"}
                    }
                },
                "country": {
                    "type": "nested",
                    "properties": {
                        "id": {"type": "integer"},                   //?
                        "name": {
                            "type" : "text",
                            "analyzer": "russian"
                            "fields": {
                                "keyword": {
                                    "type": "keyword",
                                    "ignore_above": 256
                                }
                            }
                        },
                        "alias": {"type": "keyword"},
                        "viza": {"type": "boolean"},
                        "cid": {"type": "keyword"}
                    }
                },
                "hotel": {
                    "type": "nested",
                    "properties": {
                        "id": {"type": "integer"}                   //?
                        "name": {
                            "type" : "text",
                            "fields": {
                                "keyword": {
                                    "type": "keyword",
                                    "ignore_above": 256
                                }
                            }
                        },
                        "alias": {"type": "keyword"},
                       "image": {                                   // ?
                            "type" : "string", 
                            "index" : "not_analyzed" 
                        },
                        "image_count": {"type": "integer"},
                        "geo_location": {"type": "geo_point"},
                        "rating": {"type": "float"},
                        "voter": {"type": "integer"},
                        "stars": {"type": "integer"},
                        "price": {"type": "float"},
                        "price_ua": {"type": "float"},
                        "services" {
                            "properies": {
                                "name": {"type": "keyword"}
                            }
                        }
                    }
                },
                "offers": {
                    "properties": {
                        "id": {"type": "integer"},
                        "operator_id": {"type": "integer"},
                        "tour_id": {"type": "integer"},
                        "included": {
                            "properties": {
                                "name": {"type": "keyword"}
                            }
                        },
                        "departure_city_id": {          // ?
                            "type": "integer"
                        },
                        "departure_date": {
                            "type": "date",
                            "format": "yyyy-MM-dd"
                        }
                        "accommodation": {"type": "keyword"},
                        "tourist": {
                            "type": "nested",
                            "properties": {
                                "adult": {"type": "integer"},
                                "child": {"type": "integer"},
                                "child_age": {
                                    "properties": {
                                        "age": {"type": "integer"}
                                    }
                                }
                            }
                        },
                        "days": {"type": "integer"},
                        "food": {"type": "keyword"},
                        "room": {
                            "type": "nested",
                            "properties": {
                                "id": {"type": "integer"}
                                "name": {"type": "keyword"}
                            }
                        },
                        "price": {
                            "type": "nested",
                            "properties": {
                                "price_currency": {"type": "float"},
                                "price_ua": {"type": "float"},
                                "currency": {"type": "keyword"},
                                "course": {"type": "float"}
                                "discount": {"type": "float"}
                            }
                        },
                        "transport": {"type": "keyword"},
                        "to": {
                            "type": "nested",
                            "properties": {
                                "from": {
                                    "type": "nested",
                                    "properties": {
                                        "code": {"type": "keyword"},
                                        "line": {"type": "text"},
                                        "port_to": {"type": "keyword"},
                                        "port_from": {"type": "keyword"},
                                        "place": {"type": "integer"},
                                        "begin": {
                                            "type": "date",
                                            "format": "yyyy-MM-dd HH:mm:ss"
                                        }
                                    }
                                },
                                "to": {
                                    "type": "nested",
                                    "properties": {
                                        "code": {"type": "keyword"},
                                        "line": {"type": "text"},
                                        "port_to": {"type": "keyword"},
                                        "port_from": {"type": "keyword"},
                                        "place": {"type": "integer"},
                                        "begin": {
                                            "type": "date",
                                            "format": "yyyy-MM-dd HH:mm:ss"
                                        }
                                    }
                                }
                            }
                        },
                        "stop_sale": {
                            "type": "nested",
                            "properties": {
                                "avia": {"type":"integer"},
                                "avia_back": {"type":"integer"},
                                "hotel": {"type":"integer"}
                            }
                        }
                    }
                }
            }
        }
    }
}
```
---